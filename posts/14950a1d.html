<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>halo快速部署个人博客 | 蓝桉`Blog</title><meta name="author" content="蓝桉,kt_zxh@163.com"><meta name="copyright" content="蓝桉"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="hexo 博客完整部署以及魔改记录前期基础部署1.下载安装gitGit - Downloads (git-scm.com) 安装完成可在鼠标右键看到Git Bash 常用命令 123git config -l  &#x2F;&#x2F;查看所有配置git config --system --list &#x2F;&#x2F;查看系统配置git config --global --list &#x2F;&#x2F;查看用户（全局）配置 配置用户名和邮箱 12">
<meta property="og:type" content="article">
<meta property="og:title" content="halo快速部署个人博客">
<meta property="og:url" content="https://ktzxy.github.io/posts/14950a1d.html">
<meta property="og:site_name" content="蓝桉&#96;Blog">
<meta property="og:description" content="hexo 博客完整部署以及魔改记录前期基础部署1.下载安装gitGit - Downloads (git-scm.com) 安装完成可在鼠标右键看到Git Bash 常用命令 123git config -l  &#x2F;&#x2F;查看所有配置git config --system --list &#x2F;&#x2F;查看系统配置git config --global --list &#x2F;&#x2F;查看用户（全局）配置 配置用户名和邮箱 12">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ktzxy.github.io/bg/Image00003.webp">
<meta property="article:published_time" content="2025-07-09T17:28:39.000Z">
<meta property="article:modified_time" content="2025-07-13T15:45:18.444Z">
<meta property="article:author" content="蓝桉">
<meta property="article:tag" content="博客部署">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ktzxy.github.io/bg/Image00003.webp"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "halo快速部署个人博客",
  "url": "https://ktzxy.github.io/posts/14950a1d.html",
  "image": "https://ktzxy.github.io/bg/Image00003.webp",
  "datePublished": "2025-07-09T17:28:39.000Z",
  "dateModified": "2025-07-13T15:45:18.444Z",
  "author": [
    {
      "@type": "Person",
      "name": "蓝桉",
      "url": "https://ktzxy.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://ktzxy.github.io/posts/14950a1d.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'halo快速部署个人博客',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_4379924_273fk05h86zi.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/progress_bar/progress_bar.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/windmill/windmill.css"><link rel="stylesheet" href="/css/cat.css"><link rel="stylesheet" href="/css/meting/music_lanan.css"><div id="myscoll"></div><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><link rel="stylesheet" href="/css/runtime/runtime.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="蓝桉`Blog" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load', preloader.endLoading)

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div id="web_bg" style="background-image: url(/img/bg.webp);"></div><div id="an_music_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">264</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">38</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">37</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw icon-zhuye-"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zhuye-"></use></svg><span> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><i class="fa-fw icon-shijianzhou"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shijianzhou"></use></svg><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/essay/"><i class="fa-fw icon-xiaoxi"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-xiaoxi"></use></svg><span> 闲言碎语</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/music/"><i class="fa-fw icon-music"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-music"></use></svg><span> 音乐馆</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><i class="fa-fw icon-fenlei"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-fenlei"></use></svg><span> 分类</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/fcircle/"><i class="fa-fw icon-pengyouquan"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-pengyouquan"></use></svg><span> 朋友圈</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><i class="fa-fw icon-xinfeng"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-xinfeng"></use></svg><span> 留言板</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/link/"><i class="fa-fw icon-lianjie"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-lianjie"></use></svg><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:randomPost();"><i class="fa-fw icon-wodezhuifan"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-wodezhuifan"></use></svg><span> 随机访问</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><i class="fa-fw icon-guanyuwomen2"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-guanyuwomen2"></use></svg><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/bg/Image00003.webp);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">蓝桉`Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">halo快速部署个人博客</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw icon-zhuye-"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zhuye-"></use></svg><span> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><i class="fa-fw icon-shijianzhou"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shijianzhou"></use></svg><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/essay/"><i class="fa-fw icon-xiaoxi"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-xiaoxi"></use></svg><span> 闲言碎语</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/music/"><i class="fa-fw icon-music"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-music"></use></svg><span> 音乐馆</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><i class="fa-fw icon-fenlei"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-fenlei"></use></svg><span> 分类</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/fcircle/"><i class="fa-fw icon-pengyouquan"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-pengyouquan"></use></svg><span> 朋友圈</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><i class="fa-fw icon-xinfeng"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-xinfeng"></use></svg><span> 留言板</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/link/"><i class="fa-fw icon-lianjie"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-lianjie"></use></svg><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:randomPost();"><i class="fa-fw icon-wodezhuifan"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-wodezhuifan"></use></svg><span> 随机访问</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><i class="fa-fw icon-guanyuwomen2"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-guanyuwomen2"></use></svg><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">halo快速部署个人博客</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-07-09T17:28:39.000Z" title="发表于 2025-07-09 17:28:39">2025-07-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-07-13T15:45:18.444Z" title="更新于 2025-07-13 15:45:18">2025-07-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2/">博客部署</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="hexo-博客完整部署以及魔改记录"><a href="#hexo-博客完整部署以及魔改记录" class="headerlink" title="hexo 博客完整部署以及魔改记录"></a>hexo 博客完整部署以及魔改记录</h1><h1 id="前期基础部署"><a href="#前期基础部署" class="headerlink" title="前期基础部署"></a>前期基础部署</h1><h2 id="1-下载安装git"><a href="#1-下载安装git" class="headerlink" title="1.下载安装git"></a>1.下载安装git</h2><p><a target="_blank" rel="noopener" href="https://git-scm.com/downloads">Git - Downloads (git-scm.com)</a></p>
<p>安装完成可在鼠标右键看到Git Bash</p>
<p>常用命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config -l  //查看所有配置</span><br><span class="line">git config --system --list //查看系统配置</span><br><span class="line">git config --global --list //查看用户（全局）配置</span><br></pre></td></tr></table></figure>
<p>配置用户名和邮箱</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;你的用户名&quot;</span><br><span class="line">git config --global user.email &quot;你的邮箱&quot;</span><br></pre></td></tr></table></figure>
<h2 id="2-下载安装node-js"><a href="#2-下载安装node-js" class="headerlink" title="2.下载安装node.js"></a>2.下载安装node.js</h2><p><a target="_blank" rel="noopener" href="https://nodejs.org/zh-cn">Node.js中文官网 (nodejs.org)</a></p>
<p>推荐使用nvm安装，后续如果涉及node版本更换，更为方便</p>
<p>nvm安装</p>
<p>进入官网<a href="https://link.zhihu.com/?target=http%3A//nvm.uihtm.com/">http://nvm.uihtm.com/</a> 下载</p>
<p>解压安装，一直下一步</p>
<p>基础命令</p>
<p>nodejs历史版本下载页面</p>
<p><a target="_blank" rel="noopener" href="https://www.fomal.cc/posts/e593433d.html">https://www.fomal.cc/posts/e593433d.html</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">查询版本号</span><br><span class="line">nvm -v</span><br><span class="line">查询可以下载的node版本</span><br><span class="line">nvm list available</span><br><span class="line">安装指定版本</span><br><span class="line">nvm install xxx</span><br><span class="line">查看已经安装的node版本</span><br><span class="line">nvm list</span><br><span class="line">切换node版本(如果失败那就用管理员身份打开cmd进行切换)</span><br><span class="line">nvm use xxx</span><br><span class="line"></span><br><span class="line">nodejs这里安装的是跟视频博主一样的版本，12.19.0</span><br></pre></td></tr></table></figure>
<p>修改npm源</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
<h2 id="3-安装hexo博客框架"><a href="#3-安装hexo博客框架" class="headerlink" title="3.安装hexo博客框架"></a>3.安装hexo博客框架</h2><p><a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/">Hexo官方网址</a></p>
<p>本地新建一个用于安装博客的文件夹</p>
<p>用git bash打开该文件夹</p>
<p>输入以下代码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g  或者npm install -g hexo</span><br></pre></td></tr></table></figure>
<p>问题：bash: hexo: command not found</p>
<p>解决：</p>
<p><img src="https://gitee.com/Bluetom/img2/raw/master/img20230403/202309182045029.png" alt="image-20230918204513690"></p>
<h2 id="4-注册GitHub账号"><a href="#4-注册GitHub账号" class="headerlink" title="4.注册GitHub账号"></a>4.注册GitHub账号</h2><p>新建仓库</p>
<p>选择New repository，创建一个&lt;用户名&gt;.github.io的仓库。</p>
<p>仓库的格式必须为：<code>&lt;用户名&gt;.github.io</code></p>
<h2 id="5-上传博客到github"><a href="#5-上传博客到github" class="headerlink" title="5.上传博客到github"></a>5.上传博客到github</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;你的账号名称&quot;</span><br><span class="line">git config --global user.email &quot;你的邮箱&quot;</span><br><span class="line"></span><br><span class="line">在新创建的Git 全局设置:中可看到</span><br></pre></td></tr></table></figure>
<p>生成令牌文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;你的邮箱&quot;</span><br></pre></td></tr></table></figure>
<p>获取密钥</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>
<p>将 SSH KEY 配置到 GitHub<br>进入github，点击右上角头像 选择<code>settings</code>，进入设置页后选择 <code>SSH and GPG keys</code>，名字随便起，公钥填到<code>Key</code>那一栏</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>
<p>出现successful则表示配置成功</p>
<h2 id="6-初始化hexo项目"><a href="#6-初始化hexo项目" class="headerlink" title="6.初始化hexo项目"></a>6.初始化hexo项目</h2><p>在目标路径（我这里选的路径为【C:/Hexo-Blog】）打开cmd命令窗口，执行<code>hexo init</code>初始化项目。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init blog-demo(项目名)</span><br></pre></td></tr></table></figure>
<p>进入<code>blog-demo</code> ，输入<code>npm i</code>安装相关依赖。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd blog-demo  //进入blog-demo文件夹</span><br><span class="line">npm i</span><br></pre></td></tr></table></figure>
<ol>
<li><p>初始化项目后，<code>blog-demo</code>有如下结构：</p>
<p>【node_modules】：依赖包<br>【scaffolds】：生成文章的一些模板<br>【source】：用来存放你的文章<br>【themes】：主题<br>【.npmignore】：发布时忽略的文件（可忽略）<br>【_config.landscape.yml】：主题的配置文件<br>【config.yml】：博客的配置文件<br>【package.json】：项目名称、描述、版本、运行和开发等信息</p>
</li>
<li><p>输入hexo server或者hexo s 启动项目</p>
</li>
<li><p>打开浏览器，输入地址：<a target="_blank" rel="noopener" href="http://localhost:4000/">http://localhost:4000/</a> 。</p>
</li>
</ol>
<h2 id="7-将静态博客挂载到GitHub-Pages"><a href="#7-将静态博客挂载到GitHub-Pages" class="headerlink" title="7.将静态博客挂载到GitHub Pages"></a>7.将静态博客挂载到GitHub Pages</h2><p>安装 hexo-deployer-git</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<p>修改 _config.yml 文件<br>在blog-demo目录下的_config.yml，就是整个Hexo框架的配置文件了。可以在里面修改大部分的配置。详细可参考官方的<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/configuration">配置描述</a>。<br>修改最后一行的配置，将repository修改为你自己的github项目地址即可，还有分支要改为<code>main</code>代表主分支（注意缩进）。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: &#x27;git&#x27;</span><br><span class="line">  repository: git@github.com:ktzxy/ktzxy.github.io.git</span><br><span class="line">  branch: main</span><br></pre></td></tr></table></figure>
<p>修改好配置后，运行如下命令，将代码部署到 GitHub</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy  // Git BASH终端</span><br><span class="line">hexo clean; hexo generate; hexo deploy  // VSCODE终端</span><br><span class="line"></span><br><span class="line">简写：hexo cl &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">将本地主分支更名为main，方便与远程分支名称对应： git branch -M main</span><br><span class="line">将本地主分支main，推至GitHub仓库的主分支main: git push -u origin main</span><br></pre></td></tr></table></figure>
<p>第一步骤算是完成；直接访问https://&lt;用户名&gt;.github.io 即可访问成功</p>
<h1 id="Github-Action-实现自动化部署"><a href="#Github-Action-实现自动化部署" class="headerlink" title="Github Action 实现自动化部署"></a>Github Action 实现自动化部署</h1><p><a target="_blank" rel="noopener" href="https://akilar.top/posts/f752c86d/">使用Github Action实现全自动部署 | Akilarの糖果屋</a></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">常量名</th>
<th style="text-align:left">常量释义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>[Blogroot]</strong></td>
<td style="text-align:left">本地存放博客源码的文件夹路径</td>
</tr>
<tr>
<td style="text-align:left"><strong>[SourceRepo]</strong></td>
<td style="text-align:left">存放博客源码的私有仓库名</td>
</tr>
<tr>
<td style="text-align:left"><strong>[SiteBlogRepo]</strong></td>
<td style="text-align:left">存放编译好的博客页面的公有仓库名 Site指站点，教程中会替换成 Github、Gitee、Coding</td>
</tr>
<tr>
<td style="text-align:left"><strong>[SiteUsername]</strong></td>
<td style="text-align:left">用户名 Site指站点，教程中会替换成 Github、Gitee、Coding</td>
</tr>
<tr>
<td style="text-align:left"><strong>[SiteToken]</strong></td>
<td style="text-align:left">申请到的令牌码 Site指站点，教程中会替换成 Github、Gitee、Coding</td>
</tr>
<tr>
<td style="text-align:left"><strong>[GithubEmail]</strong></td>
<td style="text-align:left">与github绑定的主邮箱，建议使用Gmail</td>
</tr>
<tr>
<td style="text-align:left"><strong>[TokenUser]</strong></td>
<td style="text-align:left">Coding配置特有的令牌用户名</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 在记事本中逐个记录，方便替换，以下为我的示例</span><br><span class="line">[Blogroot]：E:\Blogroot</span><br><span class="line"></span><br><span class="line">[SourceRepo]：ktzxy/Hexo-blog-source</span><br><span class="line"></span><br><span class="line">[SiteBlogRepo]</span><br><span class="line">  [GithubBlogRepo]：ktzxy.github.io</span><br><span class="line"></span><br><span class="line">[SiteUsername]</span><br><span class="line">  [GithubUsername]：ktzxy</span><br><span class="line"></span><br><span class="line">[SiteToken]</span><br><span class="line">  [GithubToken]：</span><br><span class="line"></span><br><span class="line">[GithubEmail]：</span><br><span class="line"></span><br><span class="line">[TokenUser]：</span><br></pre></td></tr></table></figure>
<p>1.获取github token <a target="_blank" rel="noopener" href="https://github.com/settings/tokens">Github-&gt;头像（右上角）-&gt;Settings-&gt;Developer Settings-&gt;Personal access tokens</a>-&gt;</p>
<p>在<code>[Blogroot]</code>新建<code>.github</code>文件夹,注意开头是有个<code>.</code>的。然后在<code>.github</code>内新建<code>workflows</code>文件夹，再在<code>workflows</code>文件夹内新建<code>autodeploy.yml</code>,在<code>[Blogroot]/.github/workflows/autodeploy.yml</code>里面输入</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">当有改动推送到main分支时，启动Action</span></span><br><span class="line">name: 自动部署</span><br><span class="line"></span><br><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches:</span><br><span class="line">      - main #2020年10月后github新建仓库默认分支改为main，注意更改</span><br><span class="line">  release:</span><br><span class="line">    types:</span><br><span class="line">      - published</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  deploy:</span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">    steps:</span><br><span class="line">      - name: 检查分支</span><br><span class="line">        uses: actions/checkout@v2</span><br><span class="line">        with:</span><br><span class="line">          ref: main #2020年10月后github新建仓库默认分支改为main，注意更改</span><br><span class="line"></span><br><span class="line">      - name: 安装 Node</span><br><span class="line">        uses: actions/setup-node@v3 # 升级为v3，推荐新版</span><br><span class="line">        with:</span><br><span class="line">          node-version: &quot;21.5.0&quot;</span><br><span class="line"></span><br><span class="line">      - name: 安装 Hexo</span><br><span class="line">        run: |</span><br><span class="line">          export TZ=&#x27;Asia/Shanghai&#x27;</span><br><span class="line">          npm install hexo-cli -g</span><br><span class="line"></span><br><span class="line">      - name: 缓存 Hexo 依赖</span><br><span class="line">        uses: actions/cache@v4</span><br><span class="line">        id: cache</span><br><span class="line">        with:</span><br><span class="line">          path: |</span><br><span class="line">            node_modules</span><br><span class="line">            ~/.npm # 缓存npm加速依赖安装</span><br><span class="line">          key: $&#123;&#123; runner.OS &#125;&#125;-$&#123;&#123; hashFiles(&#x27;**/package-lock.json&#x27;) &#125;&#125;</span><br><span class="line"></span><br><span class="line">      - name: 安装依赖</span><br><span class="line">        if: steps.cache.outputs.cache-hit != &#x27;true&#x27;</span><br><span class="line">        run: |</span><br><span class="line">          npm install</span><br><span class="line"></span><br><span class="line">      - name: 生成静态文件</span><br><span class="line">        run: |</span><br><span class="line">          hexo clean</span><br><span class="line">          hexo generate</span><br><span class="line"></span><br><span class="line">      - name: 部署 #此处master:master 指从本地的master分支提交到远程仓库的master分支，若远程仓库没有对应分支则新建一个。如有其他需要，可以根据自己的需求更改。</span><br><span class="line">        run: |</span><br><span class="line">          cd ./public</span><br><span class="line">          git init</span><br><span class="line">          git checkout -b main</span><br><span class="line">          git config --local user.name &quot;$&#123;&#123; secrets.GITHUBUSERNAME &#125;&#125;&quot;</span><br><span class="line">          git config --local user.email &quot;$&#123;&#123; secrets.GITHUBEMAIL &#125;&#125;&quot;</span><br><span class="line">          git add .</span><br><span class="line">          git commit -m &quot;$&#123;&#123; github.event.head_commit.message &#125;&#125; $(date &#x27;+%Z %Y-%m-%d %A %H:%M:%S&#x27;) Updated By Github Actions&quot;</span><br><span class="line">          git push --force --quiet &quot;https://$&#123;&#123; secrets.GITHUBUSERNAME &#125;&#125;:$&#123;&#123; secrets.GITHUBTOKEN &#125;&#125;@github.com/$&#123;&#123; secrets.GITHUBUSERNAME &#125;&#125;/$&#123;&#123; secrets.GITHUBUSERNAME &#125;&#125;.github.io.git&quot; main:main</span><br><span class="line">          #git push --force --quiet &quot;https://$&#123;&#123; secrets.TOKENUSER &#125;&#125;:$&#123;&#123; secrets.CODINGTOKEN &#125;&#125;@e.coding.net/$&#123;&#123; secrets.CODINGUSERNAME &#125;&#125;/$&#123;&#123;  secrets.CODINGBLOGREPO &#125;&#125;.git&quot; master:master #coding部署写法，需要的自行取消注释</span><br><span class="line">          #git push --force --quiet &quot;https://$&#123;&#123; secrets.GITEEUSERNAME &#125;&#125;:$&#123;&#123; secrets.GITEETOKEN &#125;&#125;@gitee.com/$&#123;&#123; secrets.GITEEUSERNAME &#125;&#125;/$&#123;&#123; secrets.GITEEUSERNAME &#125;&#125;.git&quot; master:master #gitee部署写法，需要的自行取消注释</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>之后需要自己到仓库的Settings-&gt;Secrets-&gt;actions 下添加环境变量，变量名参考脚本中出现的，依次添加</p>
<p>例如，需要部署在githubpage上，那么脚本中必要的变量为<br><code>GITHUBUSERNAME</code>、<code>GITHUBEMAIL</code>、<code>GITHUBTOKEN</code>，因此添加这三条变量。变量具体内容释义可以查看本文开头。</p>
<p>重新设置远程仓库和分支</p>
<ol>
<li>删除或者先把<code>[Blogroot]/themes/butterfly/.git</code>移动到非博客文件夹目录下,原因是主题文件夹下的<code>.git</code>文件夹的存在会导致其被识别成子项目，从而无法被上传到源码仓库。</li>
<li>在博客根目录<code>[Blogroot]</code>路径下运行指令</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git init #初始化</span><br><span class="line">git remote add origin git@github.com:[GithubUsername]/[SourceRepo].git #[SourceRepo]为存放源码的github私有仓库</span><br><span class="line">git checkout -b main # 切换到master分支，</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">2020年10月后github新建仓库默认分支改为main，注意更改</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果不是，后面的所有设置的分支记得保持一致</span></span><br></pre></td></tr></table></figure>
<p>添加屏蔽项<br>因为能够使用指令进行安装的内容不包括在需要提交的源码内，所有我们需要将这些内容添加到屏蔽项，表示不上传到github上。这样可以显著减少需要提交的文件量和加快提交速度。<br>打开<code>[Blogroot]/.gitignore</code>,输入以下内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line">db.json</span><br><span class="line">*.log</span><br><span class="line">node_modules/</span><br><span class="line">public/</span><br><span class="line">.deploy*/</span><br><span class="line">.deploy_git*/</span><br><span class="line">.idea</span><br><span class="line">themes/butterfly/.git</span><br></pre></td></tr></table></figure>
<ol>
<li>如果不是<code>butterfly</code>主题，记得替换最后一行内容为你自己当前使用的主题。</li>
<li>之后再运行git提交指令，将博客源码提交到github上。牢记下方的三行指令，以后都是通过这个指令进行提交。</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &quot;github action update&quot; #引号内的内容可以自行更改作为提交记录。</span><br><span class="line">git push origin main</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">2020年10月后github新建仓库默认分支改为main，注意更改</span></span><br></pre></td></tr></table></figure>
<h1 id="静态页面托管网站"><a href="#静态页面托管网站" class="headerlink" title="静态页面托管网站"></a>静态页面托管网站</h1><h2 id="Netlify部署"><a href="#Netlify部署" class="headerlink" title="Netlify部署"></a>Netlify部署</h2><p><a target="_blank" rel="noopener" href="https://akilar.top/posts/812734f8/">使用第三方托管平台部署博客 | Akilarの糖果屋</a></p>
<h2 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h2><p><a target="_blank" rel="noopener" href="https://hexo.io/themes/">Themes | Hexo</a></p>
<p>在博客根目录里，打开Git Bash工具，运行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly themes/butterfly</span><br><span class="line"></span><br><span class="line">#npm安装 或者</span><br><span class="line">npm i hexo-theme-butterfly</span><br></pre></td></tr></table></figure>
<h2 id="应用主题"><a href="#应用主题" class="headerlink" title="应用主题"></a>应用主题</h2><p>修改站点配置文件_config.yml，把主题改为butterfly</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: butterfly</span><br></pre></td></tr></table></figure>
<p>如果你没有<code>pug</code>以及<code>stylus</code>的渲染器，请下载安装，这两个渲染器是<code>Butterfly</code>生成基础页面所需的依赖包：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure>
<p>为了减少升级主题后带来的不便，请使用以下方法（建议，可以不做，高度魔改的一般都不会升级主题了，不然魔改的会被覆盖掉）<br>把主题文件夹中的 <code>_config.yml</code> 复制到 Hexo 根目录里（我这里路径为【C:/Hexo-Blog/blog-demo】），同时重新命名为 <code>_config.butterfly.yml</code>。以后只需要在 <code>_config.butterfly.yml</code>进行配置即可生效。Hexo会自动合併主题中的<code>_config.yml</code>和 <code>_config.butterfly.yml</code>里的配置，如果存在同名配置，会使用<code>_config.butterfly.yml</code>的配置，其优先度较高</p>
<h2 id="基础用法说明"><a href="#基础用法说明" class="headerlink" title="基础用法说明"></a>基础用法说明</h2><h3 id="Front-matter"><a href="#Front-matter" class="headerlink" title="Front-matter"></a>Front-matter</h3><p><code>Front-matter</code> 是 markdown 文件最上方以<code>---</code>分隔的区域，用于指定个别档案的变数。</p>
<ul>
<li>Page Front-matter 用于页面配置</li>
<li>Post Front-matter 用于文章页配置</li>
</ul>
<p>如果标注可选的参数，可根据自己需要添加，不用全部都写</p>
<p><strong>Page Front-matter：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">type:</span><br><span class="line">comments:</span><br><span class="line">description:</span><br><span class="line">keywords:</span><br><span class="line">top_img:</span><br><span class="line">mathjax:</span><br><span class="line">katex:</span><br><span class="line">aside:</span><br><span class="line">aplayer:</span><br><span class="line">highlight_shrink:</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">写法</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">title</td>
<td>【必需】页面标题</td>
</tr>
<tr>
<td style="text-align:left">date</td>
<td>【必需】页面创建日期</td>
</tr>
<tr>
<td style="text-align:left">type</td>
<td>【必需】标籤、分类和友情链接三个页面需要配置</td>
</tr>
<tr>
<td style="text-align:left">updated</td>
<td>【可选】页面更新日期</td>
</tr>
<tr>
<td style="text-align:left">description</td>
<td>【可选】页面描述</td>
</tr>
<tr>
<td style="text-align:left">keywords</td>
<td>【可选】页面关键字</td>
</tr>
<tr>
<td style="text-align:left">comments</td>
<td>【可选】显示页面评论模块(默认 true)</td>
</tr>
<tr>
<td style="text-align:left">top_img</td>
<td>【可选】页面顶部图片</td>
</tr>
<tr>
<td style="text-align:left">mathjax</td>
<td>【可选】显示mathjax(当设置mathjax的per_page: false时，才需要配置，默认 false)</td>
</tr>
<tr>
<td style="text-align:left">kates</td>
<td>【可选】显示katex(当设置katex的per_page: false时，才需要配置，默认 false)</td>
</tr>
<tr>
<td style="text-align:left">aside</td>
<td>【可选】显示侧边栏 (默认 true)</td>
</tr>
<tr>
<td style="text-align:left">aplayer</td>
<td>【可选】在需要的页面加载aplayer的js和css,请参考文章下面的音乐 配置</td>
</tr>
<tr>
<td style="text-align:left">highlight_shrink</td>
<td>【可选】配置代码框是否展开(true/false)(默认为设置中highlight_shrink的配置)</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Post Front-matter：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">keywords:</span><br><span class="line">description:</span><br><span class="line">top_img:</span><br><span class="line">comments:</span><br><span class="line">cover:</span><br><span class="line">toc:</span><br><span class="line">toc_number:</span><br><span class="line">toc_style_simple:</span><br><span class="line">copyright:</span><br><span class="line">copyright_author:</span><br><span class="line">copyright_author_href:</span><br><span class="line">copyright_url:</span><br><span class="line">copyright_info:</span><br><span class="line">mathjax:</span><br><span class="line">katex:</span><br><span class="line">aplayer:</span><br><span class="line">highlight_shrink:</span><br><span class="line">aside:</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th>写法</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>【必需】文章标题</td>
</tr>
<tr>
<td>date</td>
<td>【必需】文章创建日期</td>
</tr>
<tr>
<td>updated</td>
<td>【可选】文章更新日期</td>
</tr>
<tr>
<td>tags</td>
<td>【可选】文章标籤</td>
</tr>
<tr>
<td>categories</td>
<td>【可选】文章分类</td>
</tr>
<tr>
<td>keywords</td>
<td>【可选】文章关键字</td>
</tr>
<tr>
<td>description</td>
<td>【可选】文章描述</td>
</tr>
<tr>
<td>top_img</td>
<td>【可选】文章顶部图片</td>
</tr>
<tr>
<td>cover</td>
<td>【可选】文章缩略图(如果没有设置top_img,文章页顶部将显示缩略图，可设为false/图片地址/留空)</td>
</tr>
<tr>
<td>comments</td>
<td>【可选】显示文章评论模块(默认 true)</td>
</tr>
<tr>
<td>toc</td>
<td>【可选】显示文章TOC(默认为设置中toc的enable配置)</td>
</tr>
<tr>
<td>toc_number</td>
<td>【可选】显示toc_number(默认为设置中toc的number配置)</td>
</tr>
<tr>
<td>toc_style_simple</td>
<td>【可选】显示 toc 简洁模式</td>
</tr>
<tr>
<td>copyright</td>
<td>【可选】显示文章版权模块(默认为设置中post_copyright的enable配置)</td>
</tr>
<tr>
<td>copyright_author</td>
<td>【可选】文章版权模块的文章作者</td>
</tr>
<tr>
<td>copyright_author_href</td>
<td>【可选】文章版权模块的文章作者链接</td>
</tr>
<tr>
<td>copyright_url</td>
<td>【可选】文章版权模块的文章连结链接</td>
</tr>
<tr>
<td>copyright_info</td>
<td>【可选】文章版权模块的版权声明文字</td>
</tr>
<tr>
<td>mathjax</td>
<td>【可选】显示mathjax(当设置mathjax的per_page: false时，才需要配置，默认 false)</td>
</tr>
<tr>
<td>katex</td>
<td>【可选】显示katex(当设置katex的per_page: false时，才需要配置，默认 false)</td>
</tr>
<tr>
<td>aplayer</td>
<td>【可选】在需要的页面加载aplayer的js和css,请参考文章下面的音乐 配置</td>
</tr>
<tr>
<td>highlight_shrink</td>
<td>【可选】配置代码框是否展开(true/false)(默认为设置中highlight_shrink的配置)</td>
</tr>
<tr>
<td>aside</td>
<td>【可选】显示侧边栏 (默认 true)</td>
</tr>
</tbody>
</table>
</div>
<h3 id="标签页"><a href="#标签页" class="headerlink" title="标签页"></a>标签页</h3><ol>
<li><p>前往你的Hexo博客根目录，打开<code>Git Bash</code>执行如下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure>
</li>
<li><p>在<code>[BlogRoot]\source\</code>会生成一个含有<code>index.md</code>文件的<code>tags</code>文件夹。</p>
</li>
<li><p>修改<code>[BlogRoot]\source\tags\index.md</code>，添加<code>type: &quot;tags&quot;</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">date: 2023-09-23 21:38:05</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接"></a>友情链接</h3><ol>
<li><p>前往你的Hexo博客根目录，打开cmd命令窗口执行如下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page link</span><br></pre></td></tr></table></figure>
</li>
<li><p>在<code>[BlogRoot]\source\</code>会生成一个含有<code>index.md</code>文件的<code>link</code>文件夹</p>
</li>
<li><p>修改<code>[BlogRoot]\source\link\index.md</code>，添加<code>type: &quot;link&quot;</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">MARKDOWN</span><br><span class="line">---</span><br><span class="line">title: link</span><br><span class="line">date: 2022-10-28 12:00:00</span><br><span class="line">type: &quot;link&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
</li>
<li><p>前往<code>[BlogRoot]\source\_data</code>创建一个<code>link.yml</code>文件（如果沒有 <code>_data</code> 文件夹，请自行创建），并写入如下信息（根据你的需要写）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">- class_name: 友情鏈接</span><br><span class="line">  class_desc: 那些人，那些事</span><br><span class="line">  link_list:</span><br><span class="line">    - name: Hexo</span><br><span class="line">      link: https://hexo.io/zh-tw/</span><br><span class="line">      avatar: https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg</span><br><span class="line">      descr: 快速、簡單且強大的網誌框架</span><br><span class="line"></span><br><span class="line">- class_name: 網站</span><br><span class="line">  class_desc: 值得推薦的網站</span><br><span class="line">  link_list:</span><br><span class="line">    - name: Youtube</span><br><span class="line">      link: https://www.youtube.com/</span><br><span class="line">      avatar: https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png</span><br><span class="line">      descr: 視頻網站</span><br><span class="line">    - name: Weibo</span><br><span class="line">      link: https://www.weibo.com/</span><br><span class="line">      avatar: https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png</span><br><span class="line">      descr: 中國最大社交分享平台</span><br><span class="line">    - name: Twitter</span><br><span class="line">      link: https://twitter.com/</span><br><span class="line">      avatar: https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png</span><br><span class="line">      descr: 社交分享平台</span><br></pre></td></tr></table></figure>
<p>class_name和class_desc支持 html 格式，如不需要，也可以留空。</p>
</li>
</ol>
<h3 id="图库-undo"><a href="#图库-undo" class="headerlink" title="图库 undo"></a>图库 undo</h3><p>图库页面只是普通的页面，你只需要<code>hexo new page xxx</code>创建你的页面就行。</p>
<p>然后使用外挂标签 <code>galleryGroup</code>，具体用法请查看对应的内容。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;gallery-group-main&quot;&gt;</span><br><span class="line"></span><br><span class="line">&#123;% galleryGroup &#x27;封面专区&#x27; &#x27;本站用作文章封面的图片，不保证分辨率&#x27; &#x27;/box/Gallery/photo&#x27; https://source.fomal.cc/img/default_cover_61.webp %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% galleryGroup &#x27;背景专区&#x27; &#x27;收藏的一些的背景与壁纸，分辨率很高&#x27; &#x27;/box/Gallery/wallpaper&#x27; https://source.fomal.cc/img/dm11.webp %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h3 id="子页面-undo"><a href="#子页面-undo" class="headerlink" title="子页面 undo"></a>子页面 undo</h3><p>子页面也是普通的页面，你只需要<code>hexo new page xxx</code>创建你的页面就行。</p>
<p>然后使用标签外挂 <code>gallery</code>，具体用法请查看对应的内容。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125; </span><br><span class="line">![p1]( https://source.fomal.cc/img/default_cover_1.webp ) </span><br><span class="line">![p2]( https://source.fomal.cc/img/default_cover_2.webp ) </span><br><span class="line">![p3]( https://source.fomal.cc/img/default_cover_3.webp ) </span><br><span class="line">![p4]( https://source.fomal.cc/img/default_cover_4.webp ) </span><br><span class="line">![p5]( https://source.fomal.cc/img/default_cover_5.webp ) </span><br><span class="line">![p6]( https://source.fomal.cc/img/default_cover_6.webp ) </span><br><span class="line">![p7]( https://source.fomal.cc/img/default_cover_7.webp ) </span><br><span class="line">![p8]( https://source.fomal.cc/img/default_cover_8.webp ) </span><br><span class="line">![p9]( https://source.fomal.cc/img/default_cover_9.webp ) </span><br><span class="line">![p10]( https://source.fomal.cc/img/default_cover_10.webp ) </span><br><span class="line">![p11]( https://source.fomal.cc/img/default_cover_11.webp ) </span><br><span class="line">![p12]( https://source.fomal.cc/img/default_cover_12.webp ) </span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure>
<h3 id="404页面"><a href="#404页面" class="headerlink" title="404页面"></a>404页面</h3><p>enable改为true</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># A simple 404 page</span><br><span class="line">error_404:</span><br><span class="line">  enable: true</span><br><span class="line">  subtitle: &quot;页面沒有找到&quot;</span><br><span class="line">  background: </span><br></pre></td></tr></table></figure>
<h1 id="hexo-博客基础配置"><a href="#hexo-博客基础配置" class="headerlink" title="hexo 博客基础配置"></a>hexo 博客基础配置</h1><h2 id="语言"><a href="#语言" class="headerlink" title="语言"></a>语言</h2><p>修改站点配置文件<code>_config.yml</code>，默认语言是 en 。<br>主题支持三种语言：</p>
<ul>
<li>default(en)</li>
<li>zh-CN (简体中文)</li>
<li>zh-TW (繁体中文)</li>
</ul>
<h2 id="网站资料"><a href="#网站资料" class="headerlink" title="网站资料"></a>网站资料</h2><p>修改网站各种资料，例如标题、副标题和邮箱等个人资料，请修改站点配置文件<code>_config.yml</code>。部分参数如下，详细参数可参考官方的<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/configuration">配置描述</a>。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">title</td>
<td style="text-align:center">网站标题</td>
</tr>
<tr>
<td style="text-align:center">subtitle</td>
<td style="text-align:center">描述</td>
</tr>
<tr>
<td style="text-align:center">description</td>
<td style="text-align:center">网站描述</td>
</tr>
<tr>
<td style="text-align:center">keywords</td>
<td style="text-align:center">网站的关键词。支持多个关键词</td>
</tr>
<tr>
<td style="text-align:center">author</td>
<td style="text-align:center">您的名字</td>
</tr>
<tr>
<td style="text-align:center">language</td>
<td style="text-align:center">网站使用的语言。对于简体中文用户来说，使用不同的主题可能需要设置成不同的值，请参考你的主题的文档自行设置，常见的有 zh-Hans和 zh-CN。</td>
</tr>
<tr>
<td style="text-align:center">timezone</td>
<td style="text-align:center">网站时区。Hexo 默认使用您电脑的时区。请参考 时区列表 进行设置，如 America/New_York, Japan, 和 UTC 。一般的，对于中国大陆地区可以使用 Asia/Shanghai</td>
</tr>
</tbody>
</table>
</div>
<h2 id="导航菜单"><a href="#导航菜单" class="headerlink" title="导航菜单"></a>导航菜单</h2><p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<ul>
<li>必须是 <code>/xxx/</code>，后面<code>||</code>分开，然后写图标名，如果不想显示图标，图标名可不写</li>
<li>若主题版本大于 v4.0.0，可以直接在子目录里添加 hide 隐藏子目录，如下面的List</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  Home: / || fas fa-home</span><br><span class="line">  Archives: /archives/ || fas fa-archive</span><br><span class="line">  Tags: /tags/ || fas fa-tags</span><br><span class="line">  Categories: /categories/ || fas fa-folder-open</span><br><span class="line">  List||fas fa-list||hide:</span><br><span class="line">   Music: /music/ || fas fa-music</span><br><span class="line">    Movie: /movies/ || fas fa-video</span><br><span class="line">  Link: /link/ || fas fa-link</span><br><span class="line">  About: /about/ || fas fa-heart</span><br></pre></td></tr></table></figure>
<ul>
<li>文字可自行更改，中英文都可以</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  首页: / || fas fa-home</span><br><span class="line">  时间轴: /archives/ || fas fa-archive</span><br><span class="line">  标签: /tags/ || fas fa-tags</span><br><span class="line">  分类: /categories/ || fas fa-folder-open</span><br><span class="line">  清单||fa fa-heartbeat:</span><br><span class="line">    音乐: /music/ || fas fa-music</span><br><span class="line">    照片: /Gallery/ || fas fa-images</span><br><span class="line">    电影: /movies/ || fas fa-video</span><br><span class="line">  友链: /link/ || fas fa-link</span><br><span class="line">  关于: /about/ || fas fa-heart</span><br></pre></td></tr></table></figure>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><h3 id="代码高亮主题"><a href="#代码高亮主题" class="headerlink" title="代码高亮主题"></a>代码高亮主题</h3><p>Butterfly支持 6 种代码高亮样式：</p>
<ul>
<li>darker</li>
<li>pale night</li>
<li>light</li>
<li>ocean</li>
<li>mac</li>
<li>mac light</li>
</ul>
<p>修改主题配置文件<code>_config.butterfly.yml</code>。中的<code>highlight_theme</code>属性。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">highlight_theme: darker</span><br></pre></td></tr></table></figure>
<h3 id="代码复制"><a href="#代码复制" class="headerlink" title="代码复制"></a>代码复制</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>中的<code>highlight_copy</code>属性，<code>true</code>表示可以复制。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">highlight_copy: true</span><br></pre></td></tr></table></figure>
<h3 id="代码框展开-关闭"><a href="#代码框展开-关闭" class="headerlink" title="代码框展开/关闭"></a>代码框展开/关闭</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>。中的<code>highlight_shrink</code>属性。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">highlight_shrink: true #代码框不展开，需点击 &#x27;&gt;&#x27; 打开</span><br></pre></td></tr></table></figure>
<h3 id="代码换行"><a href="#代码换行" class="headerlink" title="代码换行"></a>代码换行</h3><p>在默认情况下，Hexo 在编译的时候不会实现代码自动换行。如果你不希望在代码块的区域里有横向滚动条的话，那么你可以考虑开启这个功能。</p>
<p>修改主题配置文件<code>_config.butterfly.yml</code>。中的<code>code_word_wrap</code>属性。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code_word_wrap: true</span><br></pre></td></tr></table></figure>
<h3 id="代码高度限制"><a href="#代码高度限制" class="headerlink" title="代码高度限制"></a>代码高度限制</h3><p>可配置代码高度限制，超出的部分会隐藏，并显示展开按钮。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">highlight_height_limit: false # unit: px</span><br></pre></td></tr></table></figure>
<ol>
<li>单位是<code>px</code>，直接添加数字，如 200</li>
<li>实际限制高度为<code>highlight_height_limit + 30 px</code> ，多增加 30px 限制，目的是避免代码高度只超出highlight_height_limit 一点时，出现展开按钮，展开没内容。</li>
<li>不适用于隐藏后的代码块（ css 设置 <code>display: none</code>）。</li>
</ol>
<h2 id="社交图标"><a href="#社交图标" class="headerlink" title="社交图标"></a>社交图标</h2><p><code>Butterfly</code>支持<a target="_blank" rel="noopener" href="https://fontawesome.com/icons?from=io">font-awesome v6</a>图标。</p>
<p>书写格式：<code>图标名：url || 描述性文字</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  GitHub: https://github.com/shaunzhao-yu || icon-github || faa-tada</span><br><span class="line">  Email: mailto:2251511764@qq.com || icon-mail || faa-tada</span><br><span class="line">  CSDN: https://blog.csdn.net/qq_46087070 || fa-book-open || faa-tada</span><br><span class="line">  QQ: https://res.abeim.cn/api/qq/?qq=2251511764 || icon-QQ || faa-tada</span><br></pre></td></tr></table></figure>
<h2 id="顶部图"><a href="#顶部图" class="headerlink" title="顶部图"></a>顶部图</h2><p>如果不要显示顶部图，可直接配置 <code>disable_top_img: true</code>。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>配置</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>index_img</td>
<td>主页的 top_img</td>
</tr>
<tr>
<td>default_top_img</td>
<td>默认的 top_img，当页面的 top_img 没有配置时，会显示 default_top_img</td>
</tr>
<tr>
<td>archive_img</td>
<td>归档页面的 top_img</td>
</tr>
<tr>
<td>tag_img</td>
<td>tag子页面 的 默认 top_img</td>
</tr>
<tr>
<td>tag_per_img</td>
<td>tag子页面的 top_img，可配置每个 tag 的 top_img</td>
</tr>
<tr>
<td>category_img</td>
<td>category 子页面 的 默认 top_img</td>
</tr>
<tr>
<td>category_per_img</td>
<td>category 子页面的 top_img，可配置每个 category 的 top_img</td>
</tr>
</tbody>
</table>
</div>
<p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index_img: xxx.png</span><br></pre></td></tr></table></figure>
<p>其它页面 （tags/categories/自建页面）和文章页的<code>top_img</code>，请到对应的 md 页面设置<code>front-matter</code>中的<code>top_img</code></p>
<h2 id="文章置顶与封面"><a href="#文章置顶与封面" class="headerlink" title="文章置顶与封面"></a>文章置顶与封面</h2><ol>
<li><p>你可以直接在文章的<code>front-matter</code>区域里添加<code>sticky: 1</code>属性来把这篇文章置顶。数值越大，置顶的优先级越大。</p>
</li>
<li><p>文章的markdown文档上，在<code>Front-matter</code>添加<code>cover</code>，并填上要显示的图片地址。如果不配置<code>cover</code>，可以设置显示默认的<code>cover</code>；如果不想在首页显示cover，可以设置为<code>false</code>。<br>修改主题配置文件<code>_config.butterfly.yml</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cover:</span><br><span class="line">  # 是否显示文章封面</span><br><span class="line">  index_enable: true</span><br><span class="line">  aside_enable: true</span><br><span class="line">  archives_enable: true</span><br><span class="line">  # 封面显示的位置</span><br><span class="line">  # 三个值可配置 left , right , both</span><br><span class="line">  position: both</span><br><span class="line">  # 当没有设置cover时，默认的封面显示</span><br><span class="line">  default_cover: </span><br></pre></td></tr></table></figure>
<p>当配置多张图片时，会随机选择一张作为cover，此时写法应为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">default_cover:</span><br><span class="line">  - https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png</span><br><span class="line">  - https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png</span><br><span class="line">  - https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="文章页相关配置"><a href="#文章页相关配置" class="headerlink" title="文章页相关配置"></a>文章页相关配置</h2><h3 id="文章meta显示"><a href="#文章meta显示" class="headerlink" title="文章meta显示"></a>文章meta显示</h3><p><code>post_meta</code>这个属性用于显示文章的相关信息的，修改主题配置文件<code>_config.butterfly.yml</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">post_meta:</span><br><span class="line">  page:</span><br><span class="line">    date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示</span><br><span class="line">    date_format: relative # date/relative 显示日期还是相对日期</span><br><span class="line">    categories: true # true or false 主页是否显示分类</span><br><span class="line">    tags: true # true or false 主页是否显示标签</span><br><span class="line">    label: true # true or false 显示描述性文字</span><br><span class="line">  post:</span><br><span class="line">    date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示</span><br><span class="line">    date_format: relative # date/relative 显示日期还是相对日期</span><br><span class="line">    categories: true # true or false 文章页是否显示分类</span><br><span class="line">    tags: true # true or false 文章页是否显示标签</span><br><span class="line">    label: true # true or false 显示描述性文字</span><br></pre></td></tr></table></figure>
<h3 id="文章版权和协议许可"><a href="#文章版权和协议许可" class="headerlink" title="文章版权和协议许可"></a>文章版权和协议许可</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">post_copyright:</span><br><span class="line">  enable: true</span><br><span class="line">  decode: false</span><br><span class="line">  author_href:</span><br><span class="line">  license: CC BY-NC-SA 4.0</span><br><span class="line">  license_url: https://creativecommons.org/licenses/by-nc-sa/4.0/</span><br></pre></td></tr></table></figure>
<p>由于<code>Hexo 4.1</code>开始，默认对网址进行解码，以至于如果是中文网址，会被解码，可设置<code>decode: true</code>来显示中文网址。如果有文章（例如：转载文章）不需要显示版权，可以在文章页<code>Front-matter</code>中单独设置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copyright: false</span><br></pre></td></tr></table></figure>
<h3 id="文章打赏"><a href="#文章打赏" class="headerlink" title="文章打赏"></a>文章打赏</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">reward:</span><br><span class="line">  enable: true</span><br><span class="line">  coinAudio: https://cdn.cbd.int/akilar-candyassets@1.0.36/audio/aowu.m4a</span><br><span class="line">  QR_code:</span><br><span class="line">    - img: https://cdn.jsdelivr.net/gh/shaunzhao-yu/img@main/photos/202310072330878.png</span><br><span class="line">      link:</span><br><span class="line">      text: wechat</span><br><span class="line">    - img: https://cdn.jsdelivr.net/gh/shaunzhao-yu/img@main/photos/202310072330877.png</span><br><span class="line">      link:</span><br><span class="line">      text: alipay</span><br></pre></td></tr></table></figure>
<h3 id="文章目录TOC"><a href="#文章目录TOC" class="headerlink" title="文章目录TOC"></a>文章目录TOC</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">toc:</span><br><span class="line">  post: true # 文章页是否显示 TOC</span><br><span class="line">  page: false # 普通页面是否显示 TOC</span><br><span class="line">  number: true	 # 是否显示章节数</span><br><span class="line">  expand: false	# 是否展开 TOC</span><br><span class="line">  style_simple: false # for post 简洁模式（侧边栏只显示 TOC, 只对文章页有效 ）</span><br></pre></td></tr></table></figure>
<h3 id="相关文章推荐"><a href="#相关文章推荐" class="headerlink" title="相关文章推荐"></a>相关文章推荐</h3><p>相关文章推荐的原理是根据文章tags的比重来推荐，修改主题配置文件<code>_config.butterfly.yml</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">related_post:</span><br><span class="line">  enable: true</span><br><span class="line">  limit: 6 # 显示推荐文章数目</span><br><span class="line">  date_type: created # or created or updated 文章日期显示创建日或者更新日</span><br></pre></td></tr></table></figure>
<h3 id="文章锚点"><a href="#文章锚点" class="headerlink" title="文章锚点"></a>文章锚点</h3><p>开启文章锚点后，当你在文章页进行滚动时，文章链接会根据标题ID进行替换。</p>
<p>注意: 每替换一次，会留下一个歷史记录。所以如果一篇文章有很多锚点的话，网页的歷史记录会很多。</p>
<p>修改主题配置文件<code>_config.butterfly.yml</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># anchor</span><br><span class="line"># when you scroll in post , the url will update according to header id.</span><br><span class="line">anchor: true</span><br></pre></td></tr></table></figure>
<h3 id="文章过期提醒"><a href="#文章过期提醒" class="headerlink" title="文章过期提醒"></a>文章过期提醒</h3><p>可设置是否显示文章过期提醒，以更新时间为基准。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Displays outdated notice for a post (文章过期提醒)</span><br><span class="line">noticeOutdate:</span><br><span class="line">  enable: true</span><br><span class="line">  style: flat # style: simple/flat</span><br><span class="line">  limit_day: 365 # 距离更新时间多少天才显示文章过期提醒</span><br><span class="line">  position: top # position: top/bottom</span><br><span class="line">  message_prev: It has been # 天数之前的文字</span><br><span class="line">  message_next: days since the last update, the content of the article may be outdated. # 天数之后的文字</span><br></pre></td></tr></table></figure>
<h3 id="文章分页按钮"><a href="#文章分页按钮" class="headerlink" title="文章分页按钮"></a>文章分页按钮</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># post_pagination (分页)</span><br><span class="line"># value: 1 || 2 || false	# false:为关闭分页按钮；1:下一篇显示的是旧文章；2:下一篇显示的是新文章</span><br><span class="line"># 1: The &#x27;next post&#x27; will link to old post</span><br><span class="line"># 2: The &#x27;next post&#x27; will link to new post</span><br><span class="line"># false: disable pagination</span><br><span class="line">post_pagination: false</span><br></pre></td></tr></table></figure>
<h2 id="头像"><a href="#头像" class="headerlink" title="头像"></a>头像</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">avatar:</span><br><span class="line">  img: /assets/head.jpg</span><br><span class="line">  effect: false # true则会一直转圈</span><br></pre></td></tr></table></figure>
<h2 id="文章内容复制相关配置"><a href="#文章内容复制相关配置" class="headerlink" title="文章内容复制相关配置"></a>文章内容复制相关配置</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># copy settings</span><br><span class="line"># copyright: Add the copyright information after copied content (复制的内容后面加上版权信息)</span><br><span class="line">copy:</span><br><span class="line">  enable: true	# 是否开启网站复制权限</span><br><span class="line">  copyright:	# 复制的内容后面加上版权信息</span><br><span class="line">    enable: true	# 是否开启复制版权信息添加</span><br><span class="line">    limit_count: 50	# 字数限制，当复制文字大于这个字数限制时，将在复制的内容后面加上版权信息</span><br></pre></td></tr></table></figure>
<h2 id="Footer-设置"><a href="#Footer-设置" class="headerlink" title="Footer 设置"></a>Footer 设置</h2><p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"># 注释掉所有的的，添加下面的</span><br><span class="line"># footer_beautify</span><br><span class="line"># 页脚计时器：[Native JS Timer](https://akilar.top/posts/b941af/)</span><br><span class="line"># 页脚徽标：[Add Github Badge](https://akilar.top/posts/e87ad7f8/)</span><br><span class="line">footer_beautify:</span><br><span class="line">  enable:</span><br><span class="line">    timer: true # 计时器开关</span><br><span class="line">    bdage: true # 徽标开关</span><br><span class="line">  priority: 5 #过滤器优先权</span><br><span class="line">  enable_page: all # 应用页面</span><br><span class="line">  exclude: #屏蔽页面</span><br><span class="line">    # - /posts/</span><br><span class="line">    # - /about/</span><br><span class="line">  layout: # 挂载容器类型</span><br><span class="line">    type: id</span><br><span class="line">    name: footer-wrap</span><br><span class="line">    index: 0</span><br><span class="line">  # 计时器部分配置项</span><br><span class="line">  runtime_js: /js/runtime.js</span><br><span class="line">  runtime_css: /css/runtime.css</span><br><span class="line">  # 徽标部分配置项</span><br><span class="line">  swiperpara: 3 #若非0，则开启轮播功能，每行徽标个数</span><br><span class="line">  bdageitem:</span><br><span class="line">    - link: https://hexo.io/ #徽标指向网站链接</span><br><span class="line">      shields: https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo #徽标API</span><br><span class="line">      message: 博客框架为Hexo_v5.4.0 #徽标提示语</span><br><span class="line">    - link: https://butterfly.js.org/</span><br><span class="line">      shields: https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender</span><br><span class="line">      message: 主题版本Butterfly_v4.9.0</span><br><span class="line">    - link: https://www.jsdelivr.com/</span><br><span class="line">      shields: https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr</span><br><span class="line">      message: 本站使用JsDelivr为静态资源提供CDN加速</span><br><span class="line">    - link: https://vercel.com/</span><br><span class="line">      shields: https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel</span><br><span class="line">      message: 本站采用双线部署，默认线路托管于Vercel</span><br><span class="line">    - link: https://vercel.com/</span><br><span class="line">      shields: https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&amp;logo=Codio</span><br><span class="line">      message: 本站采用双线部署，联通线路托管于Coding</span><br><span class="line">    - link: https://github.com/</span><br><span class="line">      shields: https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub</span><br><span class="line">      message: 本站项目由Github托管</span><br><span class="line">    - link: http://creativecommons.org/licenses/by-nc-sa/4.0/</span><br><span class="line">      shields: https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris</span><br><span class="line">      message: 本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可</span><br><span class="line">  swiper_css: https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css</span><br><span class="line">  swiper_js: https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js</span><br><span class="line">  swiperbdage_init_js: https://npm.elemecdn.com/hexo-butterfly-footer-beautify/lib/swiperbdage_init.min.js</span><br></pre></td></tr></table></figure>
<p>对于部分人需要写 ICP 的，也可以写在custom_text里。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">custom_text: &lt;a href=&quot;icp链接&quot;&gt;&lt;img class=&quot;icp-icon&quot; src=&quot;icp图片&quot;&gt;&lt;span&gt;备案号：xxxxxx&lt;/span&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure>
<h2 id="右下角按钮"><a href="#右下角按钮" class="headerlink" title="右下角按钮"></a>右下角按钮</h2><h3 id="简繁转换"><a href="#简繁转换" class="headerlink" title="简繁转换"></a>简繁转换</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">translate:</span><br><span class="line">  enable: false</span><br><span class="line">  # 默认按钮显示文字(网站是简体，应设置为&#x27;default: 繁&#x27;)</span><br><span class="line">  default: 繁</span><br><span class="line">  # the language of website (1 - Traditional Chinese/ 2 - Simplified Chinese）</span><br><span class="line">  # 网站默认语言，1: 繁体中文, 2: 简体中文</span><br><span class="line">  defaultEncoding: 2</span><br><span class="line">  # Time delay 延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0</span><br><span class="line">  translateDelay: 0</span><br><span class="line">  # 当文字是简体时，按钮显示的文字</span><br><span class="line">  msgToTraditionalChinese: &#x27;繁&#x27;</span><br><span class="line">  # 当文字是繁体时，按钮显示的文字</span><br><span class="line">  msgToSimplifiedChinese: &#x27;簡&#x27;</span><br></pre></td></tr></table></figure>
<h3 id="夜间模式"><a href="#夜间模式" class="headerlink" title="夜间模式"></a>夜间模式</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># dark mode</span><br><span class="line">darkmode:</span><br><span class="line">  enable: false</span><br><span class="line">  # dark 和 light 两种模式切换按钮</span><br><span class="line">  button: true</span><br><span class="line">  # Switch dark/light mode automatically (自動切換 dark mode和 light mode)</span><br><span class="line">  # autoChangeMode: 1  Following System Settings, if the system doesn&#x27;t support dark mode, it will switch dark mode between 6 pm to 6 am</span><br><span class="line">  # autoChangeMode: 2  Switch dark mode between 6 pm to 6 am</span><br><span class="line">  # autoChangeMode: false</span><br><span class="line">  autoChangeMode: false</span><br></pre></td></tr></table></figure>
<h3 id="阅读模式"><a href="#阅读模式" class="headerlink" title="阅读模式"></a>阅读模式</h3><p>阅读模式下会去掉除文章外的内容，避免干扰阅读。只会出现在文章页面，右下角会有阅读模式按钮。</p>
<p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readmode: true</span><br></pre></td></tr></table></figure>
<h2 id="侧边栏设置"><a href="#侧边栏设置" class="headerlink" title="侧边栏设置"></a>侧边栏设置</h2><h3 id="排版"><a href="#排版" class="headerlink" title="排版"></a>排版</h3><p>可自行决定哪个项目需要显示，可决定位置，也可以设置不显示侧边栏。</p>
<p>修改主题配置文件<code>_config.butterfly.yml</code>，下面是本人博客的配置项可以参考</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line">  enable: true</span><br><span class="line">  hide: false</span><br><span class="line">  button: true</span><br><span class="line">  mobile: true # display on mobile</span><br><span class="line">  position: right # left or right</span><br><span class="line">  display:</span><br><span class="line">    archive: true</span><br><span class="line">    tag: true</span><br><span class="line">    category: true</span><br><span class="line">  card_author:</span><br><span class="line">    enable: true</span><br><span class="line">    description:</span><br><span class="line">    button:</span><br><span class="line">      enable: true</span><br><span class="line">      icon: # fab fa-github</span><br><span class="line">      text: 🛴前往小家...	#可以改</span><br><span class="line">      link: https://github.com/fomalhaut1998	#可以改</span><br><span class="line">  card_announcement:</span><br><span class="line">    enable: true</span><br><span class="line">    content: &lt;center&gt;主域名：&lt;br&gt;&lt;a href=&quot;https://www.fomal.cc&quot;&gt;&lt;b&gt;&lt;font color=&quot;#5ea6e5&quot;&gt;fomal.cc&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&amp;nbsp;|&amp;nbsp;&lt;a href=&quot;https://www.fomal.cn&quot;&gt;&lt;b&gt;&lt;font color=&quot;#5ea6e5&quot;&gt;fomal.cn&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;br&gt;备用域名：&lt;br&gt;&lt;a href=&quot;https://blog.fomal.cc&quot;&gt;&lt;b&gt;&lt;font color=&quot;#5ea6e5&quot;&gt;blog.fomal.cc&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://aa.fomal.cc&quot;&gt;&lt;b&gt;&lt;font color=&quot;#5ea6e5&quot;&gt;aa.fomal.cc&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://bb.fomal.cc&quot;&gt;&lt;b&gt;&lt;font color=&quot;#5ea6e5&quot;&gt;bb.fomal.cc&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;mailto:admin@fomal.cn&quot;&gt;📬：&lt;b&gt;&lt;font color=&quot;#a591e0&quot;&gt;admin@fomal.cn&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;/center&gt;	#公告栏内容</span><br><span class="line">  card_recent_post:</span><br><span class="line">    enable: false</span><br><span class="line">    limit: 3 # if set 0 will show all</span><br><span class="line">    sort: date # date or updated</span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line">  card_categories:</span><br><span class="line">    enable: false</span><br><span class="line">    limit: 8 # if set 0 will show all</span><br><span class="line">    expand: none # none/true/false</span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line">  card_tags:</span><br><span class="line">    enable: false</span><br><span class="line">    limit: 20 # if set 0 will show all</span><br><span class="line">    color: true</span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line">  card_archives:</span><br><span class="line">    enable: false</span><br><span class="line">    type: monthly # yearly or monthly</span><br><span class="line">    format: MMMM YYYY # eg: YYYY年MM月</span><br><span class="line">    order: -1 # Sort of order. 1, asc for ascending; -1, desc for descending</span><br><span class="line">    limit: 8 # if set 0 will show all</span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line">  card_webinfo:</span><br><span class="line">    enable: true</span><br><span class="line">    post_count: true</span><br><span class="line">    last_push_date: true</span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line">  card_weibo:</span><br><span class="line">    enable: true</span><br></pre></td></tr></table></figure>
<h3 id="访问人数-UV-和-PV"><a href="#访问人数-UV-和-PV" class="headerlink" title="访问人数(UV 和 PV)"></a>访问人数(UV 和 PV)</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">busuanzi:</span><br><span class="line">  site_uv: true  # 本站总访客数</span><br><span class="line">  site_pv: true  # 本站总访问量 </span><br><span class="line">  page_pv: true  # 本文总阅读量</span><br></pre></td></tr></table></figure>
<h3 id="运行时间"><a href="#运行时间" class="headerlink" title="运行时间"></a>运行时间</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Time difference between publish date and now (網頁運行時間)</span><br><span class="line"># Formal: Month/Day/Year Time or Year/Month/Day Time</span><br><span class="line">runtimeshow:</span><br><span class="line">  enable: false</span><br><span class="line">  publish_date: 21/9/2023 00:00:00</span><br><span class="line">  ##网页开通时间</span><br><span class="line">  #格式: 月/日/年 时间</span><br><span class="line">  #也可以写成 年/月/日 时间</span><br></pre></td></tr></table></figure>
<h3 id="最新评论"><a href="#最新评论" class="headerlink" title="最新评论%"></a>最新评论%</h3><p><code>v3.1.0</code> 以上支持。如果未配置任何评论，前先不要开启该功能。</p>
<p>最新评论只会在刷新时才会去读取，并不会实时变化。<br>由于 API 有 访问次数限制，为了避免调用太多，主题默认存取期限为 10 分鐘。也就是説，调用后资料会存在 <code>localStorage</code> 里，10分鐘内刷新网站只会去 <code>localStorage</code> 读取资料。 10 分鐘期限一过，刷新页面时才会去调取 API 读取新的数据。（3.6.0 新增了 storage 配置，可自行配置缓存时间）。</p>
<p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Aside widget - Newest Comments</span><br><span class="line">newest_comments:</span><br><span class="line">  enable: true</span><br><span class="line">  sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line">  limit: 6  # 显示的数量</span><br><span class="line">  storage: 10 # 设置缓存时间，单位 分钟 </span><br><span class="line">  avatar: true # 是否显示头像</span><br></pre></td></tr></table></figure>
<h2 id="网站背景"><a href="#网站背景" class="headerlink" title="网站背景"></a>网站背景</h2><p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 图片格式 url(http://xxxxxx.com/xxx.jpg)</span><br><span class="line"># 颜色（HEX值/RGB值/颜色单词/渐变色)</span><br><span class="line"># 留空 不显示背景</span><br><span class="line">background: url(https://source.fomal.cc/img/dm1.webp)</span><br></pre></td></tr></table></figure>
<p>如果你的网站根目录不是<code>&#39;/&#39;</code>，使用本地图片时，需加上你的根目录。<br>例如：网站是 <code>https://yoursite.com/blog</code>，引用一张<code>img/xx.png</code>图片，则设置<code>background</code>为 <code>url(/blog/img/xx.png)</code></p>
<h2 id="打字效果"><a href="#打字效果" class="headerlink" title="打字效果 %"></a>打字效果 %</h2><p>详见：<a target="_blank" rel="noopener" href="https://github.com/disjukr/activate-power-mode">activate-power-mode</a></p>
<p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Typewriter Effect (打字效果)</span><br><span class="line"># https://github.com/disjukr/activate-power-mode</span><br><span class="line">activate_power_mode:</span><br><span class="line">  enable: false</span><br><span class="line">  colorful: true # open particle animation (冒光特效)</span><br><span class="line">  shake: true #  open shake (抖動特效)</span><br><span class="line">  mobile: false</span><br></pre></td></tr></table></figure>
<h2 id="footer-背景"><a href="#footer-背景" class="headerlink" title="footer 背景"></a>footer 背景</h2><p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># footer是否显示图片背景(与top_img一致)</span><br><span class="line">footer_bg: true</span><br></pre></td></tr></table></figure>
<ul>
<li><code>留空/false</code>：显示默认的颜色</li>
<li><code>图片链接</code>：显示所配置的图片</li>
<li><code>颜色包括HEX值 - #0000FF | RGB值 - rgb(0,0,255) | 颜色单词 - orange | 渐变色 - linear-gradient( 135deg, #E2B0FF 10%, #9F44D3 100%)</code>：对应的颜色</li>
<li><code>true</code>：显示跟 top_img 一样</li>
</ul>
<h2 id="背景特效"><a href="#背景特效" class="headerlink" title="背景特效"></a>背景特效</h2><p>可设置每次刷新更换彩带，或者每次点击更换彩带。详细配置可查看<a target="_blank" rel="noopener" href="https://github.com/hustcc/ribbon.js">canvas_ribbon</a></p>
<p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<p>好看的彩带背景，会飘动。<br>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">canvas_fluttering_ribbon:</span><br><span class="line">  enable: true</span><br><span class="line">  mobile: true # false 手机端不显示 true 手机端显示</span><br></pre></td></tr></table></figure>
<h2 id="鼠标点击效果"><a href="#鼠标点击效果" class="headerlink" title="鼠标点击效果"></a>鼠标点击效果</h2><h3 id="烟花"><a href="#烟花" class="headerlink" title="烟花"></a>烟花</h3><p><code>zIndex</code>建议只在<code>-1</code>和<code>9999</code>上选。<br><code>-1</code> 代表烟火效果在底部。<br><code>9999</code> 代表烟火效果在前面。</p>
<p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fireworks:</span><br><span class="line">  enable: true</span><br><span class="line">  zIndex: 9999 # -1 or 9999</span><br><span class="line">  mobile: false</span><br></pre></td></tr></table></figure>
<h3 id="爱心"><a href="#爱心" class="headerlink" title="爱心"></a>爱心</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 点击出現爱心</span><br><span class="line">click_heart:</span><br><span class="line">  enable: true</span><br><span class="line">  mobile: false</span><br></pre></td></tr></table></figure>
<h2 id="自定义字体和字体大小"><a href="#自定义字体和字体大小" class="headerlink" title="自定义字体和字体大小"></a>自定义字体和字体大小</h2><h3 id="全局字体"><a href="#全局字体" class="headerlink" title="全局字体"></a>全局字体</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>中的<code>font-family</code>属性即可，如不需要配置，请留空。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Global font settings</span><br><span class="line"># Don&#x27;t modify the following settings unless you know how they work (非必要不要修改)</span><br><span class="line">font:</span><br><span class="line">  global-font-size: &#x27;15px&#x27;</span><br><span class="line">  code-font-size: &#x27;14px&#x27;</span><br><span class="line">  # -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot; , &quot;Helvetica Neue&quot; , Lato, Roboto, &quot;PingFang SC&quot; , &quot;Microsoft JhengHei&quot; , &quot;Microsoft YaHei&quot; , sans-serif</span><br><span class="line">  # Wenkai, consolas, -apple-system, &#x27;Quicksand&#x27;, &#x27;Nimbus Roman No9 L&#x27;, &#x27;PingFang SC&#x27;, &#x27;Hiragino Sans GB&#x27;, &#x27;Noto Serif SC&#x27;, &#x27;Microsoft Yahei&#x27;, &#x27;WenQuanYi Micro Hei&#x27;, &#x27;ST Heiti&#x27;, sans-serif;</span><br><span class="line">  font-family: var(--global-font), Consolas_1, -apple-system, &#x27;Quicksand&#x27;, &#x27;Nimbus Roman No9 L&#x27;, &#x27;PingFang SC&#x27;, &#x27;Hiragino Sans GB&#x27;, &#x27;Noto Serif SC&#x27;, &#x27;Microsoft Yahei&#x27;, &#x27;WenQuanYi Micro Hei&#x27;, &#x27;ST Heiti&#x27;, sans-serif;</span><br><span class="line">  # consolas, ZhuZiAWan_light, &quot;Microsoft YaHei&quot;, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft JhengHei&quot;, sans-serif</span><br><span class="line">  # Consolas_1, ZhuZiAWan_light, &quot;Microsoft YaHei&quot;, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft JhengHei&quot;, sans-serif</span><br><span class="line">  code-font-family: Consolas_1, var(--global-font), &quot;Microsoft YaHei&quot;, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft JhengHei&quot;, sans-serif</span><br></pre></td></tr></table></figure>
<h3 id="Blog-标题字体"><a href="#Blog-标题字体" class="headerlink" title="Blog 标题字体"></a>Blog 标题字体</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>中的<code>blog_title_font</code>属性即可，如不需要配置，请留空。<br>如不需要使用网络字体，只需要把font_link留空就行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Font settings for the site title and site subtitle</span><br><span class="line"># https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap</span><br><span class="line"># Titillium Web, &#x27;PingFang SC&#x27; , &#x27;Hiragino Sans GB&#x27; , &#x27;Microsoft JhengHei&#x27; , &#x27;Microsoft YaHei&#x27; , sans-serif</span><br><span class="line"># 左上角網站名字 主頁居中網站名字</span><br><span class="line">blog_title_font:</span><br><span class="line">  font_link: </span><br><span class="line">  font-family: var(--global-font)</span><br></pre></td></tr></table></figure>
<h2 id="网站副标题"><a href="#网站副标题" class="headerlink" title="网站副标题"></a>网站副标题</h2><p>可设置主页中显示的网站副标题或者喜欢的座右铭。</p>
<p>修改主题配置文件<code>_config.butterfly.yml</code>中的<code>subtitle</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># the subtitle on homepage (主頁subtitle)</span><br><span class="line">subtitle:</span><br><span class="line">  enable: true</span><br><span class="line">  # Typewriter Effect (打字效果)</span><br><span class="line">  effect: true</span><br><span class="line">  # loop (循環打字)</span><br><span class="line">  loop: true</span><br><span class="line">  # source 調用第三方服務</span><br><span class="line">  # source: false 關閉調用</span><br><span class="line">  # source: 1  調用一言網的一句話（簡體） https://hitokoto.cn/</span><br><span class="line">  # source: 2  調用一句網（簡體） http://yijuzhan.com/</span><br><span class="line">  # source: 3  調用今日詩詞（簡體） https://www.jinrishici.com/</span><br><span class="line">  # subtitle 會先顯示 source , 再顯示 sub 的內容</span><br><span class="line">  source: false</span><br><span class="line">  # 如果關閉打字效果，subtitle 只會顯示 sub 的第一行文字</span><br><span class="line">  sub:</span><br><span class="line">    - &quot;Welcome to Fomalhaut🥝のTiny Home!🤣🤣🤣&quot;</span><br><span class="line">    - &quot;Hope you have a nice day!🍭🍭🍭&quot;</span><br></pre></td></tr></table></figure>
<h2 id="页面加载动画preloader"><a href="#页面加载动画preloader" class="headerlink" title="页面加载动画preloader"></a>页面加载动画preloader</h2><p>当进入网页时，因为加载速度的问题，可能会导致top_img图片出现断层显示，或者网页加载不全而出现等待时间，开启preloader后，会显示加载动画，等页面加载完，加载动画会消失。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 加载动画 Loading Animation</span><br><span class="line">preloader: true</span><br></pre></td></tr></table></figure>
<h2 id="字数统计"><a href="#字数统计" class="headerlink" title="字数统计"></a>字数统计</h2><p>注意必须要安装依赖才能设置为<code>true</code>，否则会报错！</p>
<ol>
<li>安装插件：在你的博客根目录，打开cmd命令窗口执行<code>npm install hexo-wordcount --save</code>。</li>
<li>开启配置：修改主题配置文件<code>_config.butterfly.yml</code>中的<code>wordcount</code></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wordcount:</span><br><span class="line">  enable: false</span><br><span class="line">  post_wordcount: true</span><br><span class="line">  min2read: true</span><br><span class="line">  total_wordcount: true</span><br></pre></td></tr></table></figure>
<h2 id="图片大图查看模式"><a href="#图片大图查看模式" class="headerlink" title="图片大图查看模式"></a>图片大图查看模式</h2><p>只能开启一个。<br>如果你并不想为某张图片添加大图查看模式，你可以使用 html 格式引用图片，并为图片添加 no-lightbox class 名，例如：<code>&lt;img src=&quot;xxxx.jpg&quot; class=&quot;no-lightbox&quot;&gt;</code>。</p>
<p>fancybox（推荐）</p>
<p>修改主题配置文件<code>_config.butterfly.yml</code>中<code>fancybox</code>属性</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># fancybox http://fancyapps.com/fancybox/3/</span><br><span class="line">fancybox: true</span><br></pre></td></tr></table></figure>
<h2 id="Pjax"><a href="#Pjax" class="headerlink" title="Pjax%"></a>Pjax%</h2><p>当用户点击链接，通过 <code>ajax</code> 更新页面需要变化的部分，然后使用 HTML5 的 <code>pushState</code> 修改浏览器的 URL 地址。这样可以不用重复加载相同的资源<code>（css/js）</code>， 从而提升网页的加载速度。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Pjax [Beta]</span><br><span class="line"># It may contain bugs and unstable, give feedback when you find the bugs.</span><br><span class="line"># https://github.com/MoOx/pjax</span><br><span class="line">pjax: </span><br><span class="line">  enable: true</span><br><span class="line">  # 对于一些第三方插件，有些并不支持 pjax 。</span><br><span class="line">  # 你可以把网页加入到 exclude 里，这个网页会被 pjax 排除在外。</span><br><span class="line">  # 点击该网页会重新加载网站。</span><br><span class="line">  exclude: </span><br><span class="line">    - /music/</span><br><span class="line">    - /no-pjax/</span><br></pre></td></tr></table></figure>
<p>注意：使用 pjax 后，一些自己DIY的js可能会无效，跳转页面时需要重新调用（例如朋友圈、说说等），具体请参考<a target="_blank" rel="noopener" href="https://github.com/MoOx/pjax">Pjax文档</a>。</p>
<h2 id="Inject"><a href="#Inject" class="headerlink" title="Inject"></a>Inject</h2><p>如想添加额外的 js/css/meta 等等东西，可以在 Inject 里添加，head(<code>&lt;/body&gt;</code>标签之前)， bottom(<code>&lt;/html&gt;</code>标签之前)。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Inject</span><br><span class="line"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span><br><span class="line"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span><br><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line">  bottom:</span><br><span class="line">    - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h1 id="hexo魔改"><a href="#hexo魔改" class="headerlink" title="hexo魔改"></a>hexo魔改</h1><h2 id="配置文章链接转数字或字母"><a href="#配置文章链接转数字或字母" class="headerlink" title="配置文章链接转数字或字母"></a>配置文章链接转数字或字母</h2><p><a target="_blank" rel="noopener" href="https://github.com/rozbo/hexo-abbrlink">参考</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure>
<p>在_config.yml文件中替换</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">permalink: posts/:abbrlink.html</span><br></pre></td></tr></table></figure>
<p>并在最后加入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 文章链接转数字或字母：https://github.com/rozbo/hexo-abbrlink</span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc32      #support crc16(default) and crc32</span><br><span class="line">  rep: hex        #support dec(default) and hex</span><br></pre></td></tr></table></figure>
<h2 id="本地搜索系统"><a href="#本地搜索系统" class="headerlink" title="本地搜索系统"></a>本地搜索系统</h2><ol>
<li><p>安装依赖：前往博客根目录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure>
<p>注入配置：修改站点配置文件<code>_config.yml</code>，添加如下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 本地搜索：https://github.com/wzpan/hexo-generator-search</span><br><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: all</span><br><span class="line">  content: true</span><br></pre></td></tr></table></figure>
<p>主题中开启搜索：在主题配置文件_config.butterfly.yml中修改以下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">local_search:</span><br><span class="line">-  enable: false</span><br><span class="line">+  enable: true</span><br></pre></td></tr></table></figure>
<p>重新编译运行，即可看到效果：前往博客根目录，打开cmd命令窗口依次执行如下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="百度主动推送-undo"><a href="#百度主动推送-undo" class="headerlink" title="百度主动推送 undo"></a>百度主动推送 undo</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-baidu-url-submit --save</span><br></pre></td></tr></table></figure>
<p>在_config.yml文件中添加如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  - type: &#x27;git&#x27;</span><br><span class="line">    repository: </span><br><span class="line">      github: git@github.com:ktzxy/ktzxy.github.io.git</span><br><span class="line">    branch: main</span><br><span class="line">  - type: baidu_url_submitter #这是新加的百度主动推送</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 百度主动推送</span><br><span class="line"># https://github.com/huiwang/hexo-baidu-url-submit</span><br><span class="line">baidu_url_submit:</span><br><span class="line">  count: 1        # 提交最新的多少个链接</span><br><span class="line">  host: blog.anheyu.com  # 在百度站长平台中添加的域名</span><br><span class="line">  token: Rgem9kAECSLflQq6   # 秘钥</span><br><span class="line">  path: baidu_urls.txt   # 文本文档的地址， 新链接会保存在此文本文档里</span><br></pre></td></tr></table></figure>
<h2 id="Live2D教程（店长）"><a href="#Live2D教程（店长）" class="headerlink" title="Live2D教程（店长）"></a>Live2D教程（店长）</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><ol>
<li><p>在Hexo根目录<code>[BlogRoot]</code>下打开终端，输入以下指令安装必要插件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure>
</li>
<li><p>打开站点配置文件<code>[BlogRoot]\config.yml</code><br>搜索live2d,按照如下注释内容指示进行操作。<br>如果没有搜到live2d的配置项，就直接把以下内容复制到最底部。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># Live2D</span><br><span class="line">## https://github.com/EYHN/hexo-helper-live2d</span><br><span class="line">live2d:</span><br><span class="line">  enable: true #开关插件版看板娘</span><br><span class="line">  scriptFrom: local # 默认</span><br><span class="line">  pluginRootPath: live2dw/ # 插件在站点上的根目录(相对路径)</span><br><span class="line">  pluginJsPath: lib/ # 脚本文件相对与插件根目录路径</span><br><span class="line">  pluginModelPath: assets/ # 模型文件相对与插件根目录路径</span><br><span class="line">  # scriptFrom: jsdelivr # jsdelivr CDN</span><br><span class="line">  # scriptFrom: unpkg # unpkg CDN</span><br><span class="line">  # scriptFrom: https://npm.elemecdn.com/live2d-widget@3.x/lib/L2Dwidget.min.js # 你的自定义 url</span><br><span class="line">  tagMode: false # 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中</span><br><span class="line">  debug: false # 调试, 是否在控制台输出日志</span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-shizuku # npm-module package name</span><br><span class="line">    # use: wanko # 博客根目录/live2d_models/ 下的目录名</span><br><span class="line">    # use: ./wives/wanko # 相对于博客根目录的路径</span><br><span class="line">    # use: https://npm.elemecdn.com/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json # 你的自定义 url</span><br><span class="line">  display:</span><br><span class="line">    position: right #控制看板娘位置</span><br><span class="line">    width: 150 #控制看板娘大小</span><br><span class="line">    height: 300 #控制看板娘大小</span><br><span class="line">  mobile:</span><br><span class="line">    show: false # 手机中是否展示</span><br></pre></td></tr></table></figure>
</li>
<li><p>完成后保存修改，在Hexo根目录下运行指令。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>之所以必须要使用<code>hexo clean</code>是因为我们需要清空缓存重新生成静态页面，不然看板娘没被加入生成的静态页面里，是不会出现的。</p>
<h3 id="更换"><a href="#更换" class="headerlink" title="更换"></a>更换</h3><ol>
<li><p>同样是在Hexo根目录<code>[BlogRoot]</code>下，打开终端，选择想要的看板娘进行安装，例如我这里用到的是 <code>live2d-widget-model-koharu</code>，一个Q版小正太。其他的模型也可以在<a target="_blank" rel="noopener" href="https://huaji8.top/post/live2d-plugin-2.0/">模型预览</a>里查看以供选择。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/wang_123_zy/article/details/87181892">Hexo添加Live2D看板娘+模型预览_hexo博客看板娘预览-CSDN博客</a></p>
</li>
<li><p>输入指令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install --save live2d-widget-model-koharu</span><br><span class="line"></span><br><span class="line">#npm install --save live2d-widget-model-shizuku</span><br></pre></td></tr></table></figure>
</li>
<li><p>然后在站点配置文件<code>[BlogRoot]\_config.yml</code>里找到<code>model</code>项修改为期望的模型</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">model:</span><br><span class="line">  use: live2d-widget-model-shizuku</span><br><span class="line">  # 默认为live2d-widget-model-wanko</span><br></pre></td></tr></table></figure>
</li>
<li><p>之后按部就班的运行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<p>就能在<code>localhost:4000</code>上查看效果了。</p>
</li>
</ol>
<h3 id="卸载看板娘"><a href="#卸载看板娘" class="headerlink" title="卸载看板娘"></a>卸载看板娘</h3><p>卸载插件和卸载模型的指令都是通过npm进行操作的。在博客根目录<code>[BlogRoot]</code>打开终端，输入：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-helper-live2d #卸载看板娘插件</span><br><span class="line">npm uninstall live2d-widget-model-modelname #卸载看板娘模型。记得替换modelname为看板娘名称</span><br></pre></td></tr></table></figure>
<p>卸载后为了保证配置项不出错，记得把<code>[BlogRoot]\_config.yml</code>里的配置项给注释或者删除掉。</p>
<h2 id="sitemap"><a href="#sitemap" class="headerlink" title="sitemap"></a>sitemap</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save-dev</span><br></pre></td></tr></table></figure>
<p>站点配置文件<code>[BlogRoot]\_config.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># https://github.com/hexojs/hexo-generator-sitemap</span><br><span class="line"># Sitemap主要是为了让搜索引擎更加了解清楚你的网站结构，通过你的网站结构更改对你网站的抓取策略，同时更深层次的抓取你的链接。让你的网站有更多的收录。</span><br><span class="line">sitemap:</span><br><span class="line">  path: sitemap.xml</span><br><span class="line">  rel: false</span><br><span class="line">  tags: true</span><br><span class="line">  categories: true</span><br><span class="line"></span><br><span class="line"># https://github.com/coneycode/hexo-generator-baidu-sitemap</span><br><span class="line">baidusitemap:</span><br><span class="line">    path: baidusitemap.xml</span><br></pre></td></tr></table></figure>
<h2 id="Rss"><a href="#Rss" class="headerlink" title="Rss"></a>Rss</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># https://github.com/hexojs/hexo-generator-feed</span><br><span class="line">#Feed Atom</span><br><span class="line">feed:</span><br><span class="line">    type: atom</span><br><span class="line">    path: atom.xml</span><br><span class="line">    limit: 20</span><br><span class="line">rss: /atom.xml</span><br></pre></td></tr></table></figure>
<h2 id="追番插件（vmid未设置）undo"><a href="#追番插件（vmid未设置）undo" class="headerlink" title="*追番插件（vmid未设置）undo"></a>*追番插件（vmid未设置）undo</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-bilibili-bangumi --save</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"># 追番插件</span><br><span class="line"># https://github.com/HCLonely/hexo-bilibili-bangumi</span><br><span class="line">bangumi: # 追番设置</span><br><span class="line">  enable: true</span><br><span class="line">  path:</span><br><span class="line">  vmid: 372204786</span><br><span class="line">  title: &#x27;追番列表&#x27;</span><br><span class="line">  quote: &#x27;生命不息，追番不止！&#x27;</span><br><span class="line">  show: 1</span><br><span class="line">  lazyload: false</span><br><span class="line">  loading:</span><br><span class="line">  metaColor:</span><br><span class="line">  color:</span><br><span class="line">  webp:</span><br><span class="line">  progress:</span><br><span class="line">  extra_options:</span><br><span class="line">    key: value</span><br><span class="line">cinema: # 追剧设置</span><br><span class="line">  enable: false</span><br><span class="line">  path:</span><br><span class="line">  vmid: 372204786</span><br><span class="line">  title: &#x27;追剧列表&#x27;</span><br><span class="line">  quote: &#x27;生命不息，追剧不止！&#x27;</span><br><span class="line">  show: 1</span><br><span class="line">  lazyload: true</span><br><span class="line">  loading:</span><br><span class="line">  metaColor:</span><br><span class="line">  color:</span><br><span class="line">  webp:</span><br><span class="line">  progress:</span><br><span class="line">  extra_options:</span><br><span class="line">    key: value</span><br></pre></td></tr></table></figure>
<p>番剧更新</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo bangumi -u</span><br></pre></td></tr></table></figure>
<h2 id="aplayer音乐播放器"><a href="#aplayer音乐播放器" class="headerlink" title="aplayer音乐播放器"></a>aplayer音乐播放器</h2><ol>
<li><p>在博客根目录<code>[BlogRoot]</code>下打开终端，运行以下指令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-tag-aplayer --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>在网站配置文件<code>_config.yml</code>中修改<code>aplayer</code> 配置项为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># APlayer 吸底音乐</span><br><span class="line"># https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md</span><br><span class="line">aplayer:</span><br><span class="line">  meting: true</span><br><span class="line">  asset_inject: false</span><br></pre></td></tr></table></figure>
</li>
<li><p>在主题配置文件<code>_config.butterfly.yml</code>中修改<code>aplayerInject</code>配置项为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Inject the css and script (aplayer/meting)</span><br><span class="line">aplayerInject:</span><br><span class="line">  enable: true</span><br><span class="line">  per_page: false</span><br></pre></td></tr></table></figure>
</li>
<li><p>在你想要加入音乐播放器的页面加入以下语句：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># aplayer音乐</span><br><span class="line">- &lt;div class=&quot;aplayer no-destroy&quot; data-id=&quot;8152976493&quot; data-server=&quot;netease&quot; data-type=&quot;playlist&quot;   data-order=&quot;list&quot; data-fixed=&quot;true&quot; data-preload=&quot;auto&quot; data-autoplay=&quot;false&quot; data-mutex=&quot;true&quot; &gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>其中<code>data-id</code>为歌单ID可以换为你喜欢的歌曲，其他参数见详情页这里不再赘述！</p>
</li>
</ol>
<h2 id="pwa配置-undo-有问题"><a href="#pwa配置-undo-有问题" class="headerlink" title="pwa配置 undo 有问题"></a>pwa配置 undo 有问题</h2><p>插件安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">npm install --global gulp-cli # 全局安装gulp命令集</span><br><span class="line">npm install workbox-build gulp --save # 安装workbox和gulp插件</span><br><span class="line"></span><br><span class="line"># 压缩html插件</span><br><span class="line">npm install gulp-htmlclean --save-dev</span><br><span class="line">npm install --save gulp-htmlmin</span><br><span class="line"># 压缩css插件</span><br><span class="line">npm install gulp-clean-css --save-dev</span><br><span class="line"># 压缩js插件</span><br><span class="line"># 使用babel压缩js，与terser二选一</span><br><span class="line">npm install --save-dev gulp-uglify</span><br><span class="line">npm install --save-dev gulp-babel @babel/core @babel/preset-env</span><br><span class="line"># 使用terser压缩js，与babel二选一 推荐</span><br><span class="line">npm install gulp-terser --save-dev</span><br><span class="line">npm install --save-dev gulp-babel @babel/core @babel/preset-env</span><br><span class="line"># 压缩图片插件</span><br><span class="line">npm install --save-dev gulp-imagemin</span><br><span class="line"># 压缩字体插件(font-min仅支持压缩ttf格式的字体包)</span><br><span class="line">npm install gulp-fontmin --save-dev</span><br></pre></td></tr></table></figure>
<blockquote>
<p>关于 font-min 的补充说明，在本文中，是通过读取所有编译好的 html 文件（./public/*/.html）中的字符，然后匹配原有字体包内./public/fonts/.ttf 字体样式，输出压缩后的字体包到./public/fontsdest/目录。所以最终引用字体的相对路径应该是/fontsdest/.ttf。而本地测试时，如果没有运行 gulp，自然也就不会输出压缩字体包到 public 目录，也就看不到字体样式。</p>
<p>gulp-terser 只会直接压缩 js 代码，所以不存在因为语法变动导致的错误 。事实上，当我们使用 jsdelivr 的 CDN 服务时，只需要在 css 或者 js 的后缀前添加.min,例如 example.js-&gt;example.min.js,JsDelivr 就会自动使用 terser 帮我们压缩好代码。</p>
</blockquote>
<p>在 package.json 中添加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;type&quot;: &quot;module&quot;,</span><br></pre></td></tr></table></figure>
<p>创建<code>gulpfile.js</code><br>在 Hexo 的根目录，创建一个gulpfile.js文件,打开[Blogroot]/gulpfile.js,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line"> * @Description: gulp</span><br><span class="line"> * @Author: 蓝桉</span><br><span class="line"> * pwa配置文件</span><br><span class="line"> */</span><br><span class="line">import gulp from &quot;gulp&quot;;</span><br><span class="line">import cleanCSS from &quot;gulp-clean-css&quot;;</span><br><span class="line">import htmlmin from &quot;gulp-htmlmin&quot;;</span><br><span class="line">import htmlclean from &quot;gulp-htmlclean&quot;;</span><br><span class="line">import workbox from &quot;workbox-build&quot;;</span><br><span class="line">import fontmin from &quot;gulp-fontmin&quot;;</span><br><span class="line"></span><br><span class="line">// 若使用babel压缩js，则取消下方注释，并注释terser的代码</span><br><span class="line">// var uglify = require(&#x27;gulp-uglify&#x27;);</span><br><span class="line">// var babel = require(&#x27;gulp-babel&#x27;);</span><br><span class="line"></span><br><span class="line">// 若使用terser压缩js</span><br><span class="line">import terser from &quot;gulp-terser&quot;;</span><br><span class="line"></span><br><span class="line">//pwa</span><br><span class="line">gulp.task(&quot;generate-service-worker&quot;, () =&gt; &#123;</span><br><span class="line">  return workbox.injectManifest(&#123;</span><br><span class="line">    swSrc: &quot;./sw-template.js&quot;,</span><br><span class="line">    swDest: &quot;./public/sw.js&quot;,</span><br><span class="line">    globDirectory: &quot;./public&quot;,</span><br><span class="line">    globPatterns: [</span><br><span class="line">      // 缓存所有以下类型的文件，极端不推荐</span><br><span class="line">      // &quot;**/*.&#123;html,css,js,json,woff2,xml&#125;&quot;</span><br><span class="line">      // 推荐只缓存404，主页和主要样式和脚本。</span><br><span class="line">      &quot;404.html&quot;,</span><br><span class="line">      &quot;index.html&quot;,</span><br><span class="line">      &quot;js/main.js&quot;,</span><br><span class="line">      &quot;css/index.css&quot;,</span><br><span class="line">    ],</span><br><span class="line">    modifyURLPrefix: &#123;</span><br><span class="line">      &quot;&quot;: &quot;./&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//minify js babel</span><br><span class="line">// 若使用babel压缩js，则取消下方注释，并注释terser的代码</span><br><span class="line">// gulp.task(&#x27;compress&#x27;, () =&gt;</span><br><span class="line">//   gulp.src([&#x27;./public/**/*.js&#x27;, &#x27;!./public/**/*.min.js&#x27;])</span><br><span class="line">// 		.pipe(babel(&#123;</span><br><span class="line">// 			presets: [&#x27;@babel/preset-env&#x27;]</span><br><span class="line">// 		&#125;))</span><br><span class="line">//     .pipe(uglify().on(&#x27;error&#x27;, function(e)&#123;</span><br><span class="line">//       console.log(e);</span><br><span class="line">//     &#125;))</span><br><span class="line">// 		.pipe(gulp.dest(&#x27;./public&#x27;))</span><br><span class="line">// );</span><br><span class="line"></span><br><span class="line">// minify js - gulp-tester</span><br><span class="line">// 若使用terser压缩js</span><br><span class="line">gulp.task(&quot;compress&quot;, () =&gt;</span><br><span class="line">  gulp</span><br><span class="line">    .src([</span><br><span class="line">      &quot;./public/**/*.js&quot;,</span><br><span class="line">      &quot;!./public/**/*.min.js&quot;,</span><br><span class="line">      &quot;!./public/js/custom/galmenu.js&quot;,</span><br><span class="line">      &quot;!./public/js/custom/gitcalendar.js&quot;,</span><br><span class="line">    ])</span><br><span class="line">    .pipe(terser())</span><br><span class="line">    .pipe(gulp.dest(&quot;./public&quot;))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">//css</span><br><span class="line">gulp.task(&quot;minify-css&quot;, () =&gt; &#123;</span><br><span class="line">  return gulp</span><br><span class="line">    .src(&quot;./public/**/*.css&quot;)</span><br><span class="line">    .pipe(</span><br><span class="line">      cleanCSS(&#123;</span><br><span class="line">        compatibility: &quot;ie11&quot;,</span><br><span class="line">      &#125;)</span><br><span class="line">    )</span><br><span class="line">    .pipe(gulp.dest(&quot;./public&quot;));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// 压缩 public 目录内 html</span><br><span class="line">gulp.task(&quot;minify-html&quot;, () =&gt; &#123;</span><br><span class="line">  return gulp</span><br><span class="line">    .src(&quot;./public/**/*.html&quot;)</span><br><span class="line">    .pipe(htmlclean())</span><br><span class="line">    .pipe(</span><br><span class="line">      htmlmin(&#123;</span><br><span class="line">        removeComments: true, //清除 HTML 註释</span><br><span class="line">        collapseWhitespace: true, //压缩 HTML</span><br><span class="line">        collapseBooleanAttributes: true, //省略布尔属性的值 &lt;input checked=&quot;true&quot;/&gt; ==&gt; &lt;input /&gt;</span><br><span class="line">        removeEmptyAttributes: true, //删除所有空格作属性值 &lt;input id=&quot;&quot; /&gt; ==&gt; &lt;input /&gt;</span><br><span class="line">        removeScriptTypeAttributes: true, //删除 &lt;script&gt; 的 type=&quot;text/javascript&quot;</span><br><span class="line">        removeStyleLinkTypeAttributes: true, //删除 &lt;style&gt; 和 &lt;link&gt; 的 type=&quot;text/css&quot;</span><br><span class="line">        minifyJS: true, //压缩页面 JS</span><br><span class="line">        minifyCSS: true, //压缩页面 CSS</span><br><span class="line">        minifyURLs: true,</span><br><span class="line">      &#125;)</span><br><span class="line">    )</span><br><span class="line">    .pipe(gulp.dest(&quot;./public&quot;));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//压缩字体</span><br><span class="line">function minifyFont(text, cb) &#123;</span><br><span class="line">  gulp</span><br><span class="line">    .src(&quot;./public/fonts/*.ttf&quot;) //原字体所在目录</span><br><span class="line">    .pipe(</span><br><span class="line">      fontmin(&#123;</span><br><span class="line">        text: text,</span><br><span class="line">      &#125;)</span><br><span class="line">    )</span><br><span class="line">    .pipe(gulp.dest(&quot;./public/fontsdest/&quot;)) //压缩后的输出目录</span><br><span class="line">    .on(&quot;end&quot;, cb);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">gulp.task(&quot;mini-font&quot;, cb =&gt; &#123;</span><br><span class="line">  var buffers = [];</span><br><span class="line">  gulp</span><br><span class="line">    .src([&quot;./public/**/*.html&quot;]) //HTML文件所在目录请根据自身情况修改</span><br><span class="line">    .on(&quot;data&quot;, function (file) &#123;</span><br><span class="line">      buffers.push(file.contents);</span><br><span class="line">    &#125;)</span><br><span class="line">    .on(&quot;end&quot;, function () &#123;</span><br><span class="line">      var text = Buffer.concat(buffers).toString(&quot;utf-8&quot;);</span><br><span class="line">      minifyFont(text, cb);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// 执行 gulp 命令时执行的任务</span><br><span class="line">gulp.task(</span><br><span class="line">  &quot;default&quot;,</span><br><span class="line">  gulp.series(&quot;generate-service-worker&quot;, gulp.parallel(&quot;compress&quot;, &quot;minify-html&quot;, &quot;minify-css&quot;, &quot;mini-font&quot;))</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>创建在 Hexo 的根目录，创建一个sw-template.js文件,打开[Blogroot]/sw-template.js,输入以下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line"> * @Description: sw</span><br><span class="line"> * @Author: 蓝桉</span><br><span class="line"> * pwa配置文件</span><br><span class="line"> */</span><br><span class="line">const workboxVersion = &quot;5.1.3&quot;;</span><br><span class="line"></span><br><span class="line">importScripts(`https://storage.googleapis.com/workbox-cdn/releases/$&#123;workboxVersion&#125;/workbox-sw.js`);</span><br><span class="line"></span><br><span class="line">workbox.core.setCacheNameDetails(&#123;</span><br><span class="line">  prefix: &quot;蓝桉&quot;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">workbox.core.skipWaiting();</span><br><span class="line"></span><br><span class="line">workbox.core.clientsClaim();</span><br><span class="line"></span><br><span class="line">// 注册成功后要立即缓存的资源列表</span><br><span class="line">// 具体缓存列表在gulpfile.js中配置，见下文</span><br><span class="line">workbox.precaching.precacheAndRoute(self.__WB_MANIFEST, &#123;</span><br><span class="line">  directoryIndex: null,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// 清空过期缓存</span><br><span class="line">workbox.precaching.cleanupOutdatedCaches();</span><br><span class="line"></span><br><span class="line">// 图片资源（可选，不需要就注释掉）</span><br><span class="line">// workbox.routing.registerRoute(</span><br><span class="line">//   /\.(?:png|jpg|jpeg|gif|bmp|webp|svg|ico)$/,</span><br><span class="line">//   new workbox.strategies.CacheFirst(&#123;</span><br><span class="line">//     cacheName: &#x27;images&#x27;,</span><br><span class="line">//     plugins: [</span><br><span class="line">//       new workbox.expiration.ExpirationPlugin(&#123;</span><br><span class="line">//         maxEntries: 1000,</span><br><span class="line">//         maxAgeSeconds: 60 * 60 * 24 * 30,</span><br><span class="line">//       &#125;),</span><br><span class="line">//       new workbox.cacheableResponse.CacheableResponsePlugin(&#123;</span><br><span class="line">//         statuses: [0, 200],</span><br><span class="line">//       &#125;),</span><br><span class="line">//     ],</span><br><span class="line">//   &#125;)</span><br><span class="line">// )</span><br><span class="line"></span><br><span class="line">// 字体文件（可选，不需要就注释掉）</span><br><span class="line">workbox.routing.registerRoute(</span><br><span class="line">  /\.(?:eot|ttf|woff|woff2)$/,</span><br><span class="line">  new workbox.strategies.CacheFirst(&#123;</span><br><span class="line">    cacheName: &quot;fonts&quot;,</span><br><span class="line">    plugins: [</span><br><span class="line">      new workbox.expiration.ExpirationPlugin(&#123;</span><br><span class="line">        maxEntries: 1000,</span><br><span class="line">        maxAgeSeconds: 60 * 60 * 24 * 30,</span><br><span class="line">      &#125;),</span><br><span class="line">      new workbox.cacheableResponse.CacheableResponsePlugin(&#123;</span><br><span class="line">        statuses: [0, 200],</span><br><span class="line">      &#125;),</span><br><span class="line">    ],</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// 谷歌字体（可选，不需要就注释掉）</span><br><span class="line">workbox.routing.registerRoute(</span><br><span class="line">  /^https:\/\/fonts\.googleapis\.com/,</span><br><span class="line">  new workbox.strategies.StaleWhileRevalidate(&#123;</span><br><span class="line">    cacheName: &quot;google-fonts-stylesheets&quot;,</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line">workbox.routing.registerRoute(</span><br><span class="line">  /^https:\/\/fonts\.gstatic\.com/,</span><br><span class="line">  new workbox.strategies.CacheFirst(&#123;</span><br><span class="line">    cacheName: &quot;google-fonts-webfonts&quot;,</span><br><span class="line">    plugins: [</span><br><span class="line">      new workbox.expiration.ExpirationPlugin(&#123;</span><br><span class="line">        maxEntries: 1000,</span><br><span class="line">        maxAgeSeconds: 60 * 60 * 24 * 30,</span><br><span class="line">      &#125;),</span><br><span class="line">      new workbox.cacheableResponse.CacheableResponsePlugin(&#123;</span><br><span class="line">        statuses: [0, 200],</span><br><span class="line">      &#125;),</span><br><span class="line">    ],</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// jsdelivr的CDN资源（可选，不需要就注释掉）</span><br><span class="line">// workbox.routing.registerRoute(</span><br><span class="line">//   /^https:\/\/cdn\.jsdelivr\.net/,</span><br><span class="line">//   new workbox.strategies.CacheFirst(&#123;</span><br><span class="line">//     cacheName: &#x27;static-libs&#x27;,</span><br><span class="line">//     plugins: [</span><br><span class="line">//       new workbox.expiration.ExpirationPlugin(&#123;</span><br><span class="line">//         maxEntries: 1000,</span><br><span class="line">//         maxAgeSeconds: 60 * 60 * 24 * 30,</span><br><span class="line">//       &#125;),</span><br><span class="line">//       new workbox.cacheableResponse.CacheableResponsePlugin(&#123;</span><br><span class="line">//         statuses: [0, 200],</span><br><span class="line">//       &#125;),</span><br><span class="line">//     ],</span><br><span class="line">//   &#125;)</span><br><span class="line">// )</span><br><span class="line"></span><br><span class="line">workbox.googleAnalytics.initialize();</span><br></pre></td></tr></table></figure>
<p>在[Blogroot]\themes\butterfly\layout\includes\third-party\目录下新建pwanotice.pug文件，<br>打开[Blogroot]\themes\butterfly\layout\includes\third-party\pwanotice.pug,输入：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">#app-refresh.app-refresh(style=&#x27;position: fixed;top: -2.2rem;left: 0;right: 0;z-index: 99999;padding: 0 1rem;font-size: 15px;height: 2.2rem;transition: all 0.3s ease;&#x27;)</span><br><span class="line">  .app-refresh-wrap(style=&#x27; display: flex;color: #fff;height: 100%;align-items: center;justify-content: center;&#x27;)</span><br><span class="line">    label ✨ 有新文章啦！ 👉</span><br><span class="line">    a(href=&#x27;javascript:void(0)&#x27; onclick=&#x27;location.reload()&#x27;)</span><br><span class="line">      span(style=&#x27;color: #fff;text-decoration: underline;cursor: pointer;&#x27;) 🍗点击食用🍔</span><br><span class="line">script.</span><br><span class="line">  if (&#x27;serviceWorker&#x27; in navigator) &#123;</span><br><span class="line">  if (navigator.serviceWorker.controller) &#123;</span><br><span class="line">  navigator.serviceWorker.addEventListener(&#x27;controllerchange&#x27;, function() &#123;</span><br><span class="line">  showNotification()</span><br><span class="line">  &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  window.addEventListener(&#x27;load&#x27;, function() &#123;</span><br><span class="line">  navigator.serviceWorker.register(&#x27;/sw.js&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  function showNotification() &#123;</span><br><span class="line">  if (GLOBAL_CONFIG.Snackbar) &#123;</span><br><span class="line">  var snackbarBg =</span><br><span class="line">  document.documentElement.getAttribute(&#x27;data-theme&#x27;) === &#x27;light&#x27; ?</span><br><span class="line">  GLOBAL_CONFIG.Snackbar.bgLight :</span><br><span class="line">  GLOBAL_CONFIG.Snackbar.bgDark</span><br><span class="line">  var snackbarPos = GLOBAL_CONFIG.Snackbar.position</span><br><span class="line">  Snackbar.show(&#123;</span><br><span class="line">  text: &#x27;✨ 有新文章啦！ 👉&#x27;,</span><br><span class="line">  backgroundColor: snackbarBg,</span><br><span class="line">  duration: 500000,</span><br><span class="line">  pos: snackbarPos,</span><br><span class="line">  actionText: &#x27;🍗点击食用🍔&#x27;,</span><br><span class="line">  actionTextColor: &#x27;#fff&#x27;,</span><br><span class="line">  onActionClick: function(e) &#123;</span><br><span class="line">  location.reload()</span><br><span class="line">  &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">  var showBg =</span><br><span class="line">  document.documentElement.getAttribute(&#x27;data-theme&#x27;) === &#x27;light&#x27; ?</span><br><span class="line">  &#x27;#3b70fc&#x27; :</span><br><span class="line">  &#x27;#1f1f1f&#x27;</span><br><span class="line">  var cssText = `top: 0; background: $&#123;showBg&#125;;`</span><br><span class="line">  document.getElementById(&#x27;app-refresh&#x27;).style.cssText = cssText</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>修改[Blogroot]\themes\butterfly\layout\includes\additional-js.pug,在文件底部添加以下内容，注意缩进。butterfly_v3.6.0取消了缓存配置，转为完全默认，需要将{cache:theme.fragment_cache}改为{cache: true}:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">      if theme.pjax.enable</span><br><span class="line">        !=partial(&#x27;includes/third-party/pjax&#x27;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line"></span><br><span class="line">      !=partial(&#x27;includes/third-party/baidu_push&#x27;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line"></span><br><span class="line">+     if theme.pwa.enable</span><br><span class="line">+       !=partial(&#x27;includes/third-party/pwanotice&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br></pre></td></tr></table></figure>
<p>将你的图标包移入相应的目录，例如我是/img/siteicon/，所以放到[Blogroot]/source/img/siteicon/目录下。</p>
<p>新建文件名为manifest.json并将其放到[Blogroot]/source目录下，此时还不能直接用，需要添加一些内容，以下是我的manifest.json配置内容，权且作为参考，其中的theme_color建议用取色器取设计的图标的主色调，同时务必配置 start_url 和 name 的配置项，这关系到你之后能否看到浏览器的应用安装按钮。：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;蓝桉`Blog&quot;,</span><br><span class="line">  &quot;short_name&quot;: &quot;蓝桉&quot;,</span><br><span class="line">  &quot;theme_color&quot;: &quot;#3b70fc&quot;,</span><br><span class="line">  &quot;background_color&quot;: &quot;#3b70fc&quot;,</span><br><span class="line">  &quot;display&quot;: &quot;standalone&quot;,</span><br><span class="line">  &quot;scope&quot;: &quot;/&quot;,</span><br><span class="line">  &quot;start_url&quot;: &quot;/&quot;,</span><br><span class="line">  &quot;icons&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;src&quot;: &quot;/img/siteicon/16.png&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;16x16&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;image/png&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;src&quot;: &quot;/img/siteicon/32.png&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;32x32&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;image/png&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;src&quot;: &quot;/img/siteicon/48.png&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;48x48&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;image/png&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;src&quot;: &quot;/img/siteicon/64.png&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;64x64&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;image/png&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;src&quot;: &quot;/img/siteicon/128.png&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;128x128&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;image/png&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;src&quot;: &quot;/img/siteicon/144.png&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;144x144&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;image/png&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;src&quot;: &quot;/img/siteicon/512.png&quot;,</span><br><span class="line">      &quot;sizes&quot;: &quot;512x512&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;image/png&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;splash_pages&quot;: null</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>打开主题配置文件[Blogroot]/_config.butterfly.yml,找到PWA配置项。添加图标路径。这里的 theme_color 建议改成你图标的主色调，包括manifest.json中的theme_color也是如此。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pwa:</span><br><span class="line">  enable: true</span><br><span class="line">  manifest: /manifest.json</span><br><span class="line">  theme_color: &quot;#3b70fc&quot;</span><br><span class="line">  apple_touch_icon: /img/siteicon/128.png</span><br><span class="line">  favicon_32_32: /img/siteicon/32.png</span><br><span class="line">  favicon_16_16: /img/siteicon/16.png</span><br><span class="line">  mask_icon: /img/siteicon/128.png</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl;hexo g;gulp;hexo s</span><br></pre></td></tr></table></figure>
<h2 id="留言板：薇尔莉特信封"><a href="#留言板：薇尔莉特信封" class="headerlink" title="留言板：薇尔莉特信封"></a>留言板：薇尔莉特信封</h2><ol>
<li><p>在<code>[BlogRoot]</code>运行指令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-envelope --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>在站点配置文件<code>_config.yml</code><strong>或</strong>主题配置文件<code>_config.butterfly.yml</code>添加以下配置项</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># envelope_comment</span><br><span class="line"># see https://akilar.top/posts/e2d3c450/</span><br><span class="line">envelope_comment:</span><br><span class="line">  enable: true #控制开关</span><br><span class="line">  custom_pic:      </span><br><span class="line">    cover: https://npm.elemecdn.com/hexo-butterfly-envelope/lib/violet.jpg #信笺头部图片</span><br><span class="line">    line: https://npm.elemecdn.com/hexo-butterfly-envelope/lib/line.png #信笺底部图片</span><br><span class="line">    beforeimg: https://npm.elemecdn.com/hexo-butterfly-envelope/lib/before.png # 信封前半部分</span><br><span class="line">    afterimg: https://npm.elemecdn.com/hexo-butterfly-envelope/lib/after.png # 信封后半部分</span><br><span class="line">  message: #信笺正文，多行文本，写法如下</span><br><span class="line">    - 有什么想问的？</span><br><span class="line">    - 有什么想说的？</span><br><span class="line">    - 有什么想吐槽的？</span><br><span class="line">    - 哪怕是有什么想吃的，都可以告诉我哦~</span><br><span class="line">  bottom: 自动书记人偶竭诚为您服务！ #仅支持单行文本</span><br><span class="line">  height: #1050px，信封划出的高度</span><br><span class="line">  path: #【可选】comments 的路径名称。默认为 comments，生成的页面为 comments/index.html</span><br><span class="line">  front_matter: #【可选】comments页面的 front_matter 配置</span><br><span class="line">    title: 留言板</span><br><span class="line">    comments: true</span><br></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">留言板: /comments/ || fas fa-envelope</span><br></pre></td></tr></table></figure>
<h2 id="wowjs动画"><a href="#wowjs动画" class="headerlink" title="wowjs动画"></a>wowjs动画</h2><ol>
<li><p>安装插件,在博客根目录<code>[BlogRoot]</code>下打开终端，运行以下指令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-wowjs --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中添加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">wowjs:</span><br><span class="line">  enable: true #控制动画开关。true是打开，false是关闭</span><br><span class="line">  priority: 10 #过滤器优先级</span><br><span class="line">  mobile: false #移动端是否启用，默认移动端禁用</span><br><span class="line">  animateitem:</span><br><span class="line">    - class: recent-post-item #必填项，需要添加动画的元素的class</span><br><span class="line">      style: animate__zoomIn #必填项，需要添加的动画</span><br><span class="line">      duration: 1.5s #选填项，动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</span><br><span class="line">      delay: 200ms #选填项，动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</span><br><span class="line">      offset: 30 #选填项，开始动画的距离（相对浏览器底部）</span><br><span class="line">      iteration: 1 #选填项，动画重复的次数</span><br><span class="line">    - class: card-widget</span><br><span class="line">      style: animate__zoomIn</span><br><span class="line">      delay: 200ms</span><br><span class="line">    # - class: flink-list-card</span><br><span class="line">    #   style: wowpanels</span><br><span class="line">    - class: flink-list-card</span><br><span class="line">      style: animate__flipInY</span><br><span class="line">      duration: 3s</span><br><span class="line">    - class: flink-list-card</span><br><span class="line">      style: animate__animated</span><br><span class="line">      duration: 3s</span><br><span class="line">    - class: article-sort-item</span><br><span class="line">      style: animate__slideInRight</span><br><span class="line">      duration: 1.5s</span><br><span class="line">    - class: site-card</span><br><span class="line">      style: animate__flipInY</span><br><span class="line">      duration: 3s</span><br><span class="line">    - class: site-card</span><br><span class="line">      style: animate__animated</span><br><span class="line">      duration: 3s</span><br><span class="line">  animate_css: https://cdn.cbd.int/hexo-butterfly-wowjs/lib/animate.min.css</span><br><span class="line">  wow_js: https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow.min.js</span><br><span class="line">  wow_init_js: https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow_init.js</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数释义</p>
</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">备选值/类型</th>
<th style="text-align:left">释义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">enable</td>
<td style="text-align:left">true/false</td>
<td style="text-align:left">【必选】控制开关</td>
</tr>
<tr>
<td style="text-align:left">priority</td>
<td style="text-align:left">number</td>
<td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td>
</tr>
<tr>
<td style="text-align:left">mobile</td>
<td style="text-align:left">true/false</td>
<td style="text-align:left">控制移动端是否启用，默认移动端禁用</td>
</tr>
<tr>
<td style="text-align:left">animateitem.class</td>
<td style="text-align:left">class</td>
<td style="text-align:left">【可选】添加动画类名，只支持给class添加</td>
</tr>
<tr>
<td style="text-align:left">animateitem.style</td>
<td style="text-align:left">text</td>
<td style="text-align:left">【可选】动画样式，具体类型参考<a target="_blank" rel="noopener" href="https://animate.style/">animate.css</a></td>
</tr>
<tr>
<td style="text-align:left">animateitem.duration</td>
<td style="text-align:left">time,单位为s或ms</td>
<td style="text-align:left">【可选】动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</td>
</tr>
<tr>
<td style="text-align:left">animateitem.delay</td>
<td style="text-align:left">time,单位为s或ms</td>
<td style="text-align:left">【可选】动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</td>
</tr>
<tr>
<td style="text-align:left">animateitem.offset</td>
<td style="text-align:left">number,单位为px</td>
<td style="text-align:left">【可选】开始动画的距离（相对浏览器底部）。</td>
</tr>
<tr>
<td style="text-align:left">animateitem.iteration</td>
<td style="text-align:left">number,单位为s或ms</td>
<td style="text-align:left">【可选】动画重复的次数</td>
</tr>
<tr>
<td style="text-align:left">animate_css</td>
<td style="text-align:left">URL</td>
<td style="text-align:left">【可选】animate.css的CDN链接,默认为<code>https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css</code></td>
</tr>
<tr>
<td style="text-align:left">wow_js</td>
<td style="text-align:left">URL</td>
<td style="text-align:left">【可选】wow.min.js的CDN链接,默认为<code>https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js</code></td>
</tr>
<tr>
<td style="text-align:left">wow_init_js</td>
<td style="text-align:left">URL</td>
<td style="text-align:left">【可选】wow_init.js的CDN链接,默认为<code>https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js</code></td>
</tr>
</tbody>
</table>
</div>
<p>wowjs详细用法见原帖。</p>
<h2 id="配置自定义css，一图流"><a href="#配置自定义css，一图流" class="headerlink" title="配置自定义css，一图流"></a>配置自定义css，一图流</h2><p>参考安知鱼博客</p>
<ol>
<li><p>在<code>[BlogRoot]\source</code>文件夹下新建一个文件夹<code>css</code>，该文件夹用于存放自定义的<code>css样式</code>，再新建一个名为<code>custom.css</code>，在里面写入以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br></pre></td><td class="code"><pre><span class="line">/* 自定义样式 */</span><br><span class="line">/* @font-face &#123;</span><br><span class="line">  font-family: Candyhome;</span><br><span class="line">  src: url(https://npm.elemecdn.com/anzhiyu-blog@1.1.6/fonts/Candyhome.ttf);</span><br><span class="line">  font-display: swap;</span><br><span class="line">  font-weight: lighter;</span><br><span class="line">&#125; */</span><br><span class="line">@font-face &#123;</span><br><span class="line">  font-family: ZhuZiAYuanJWD;</span><br><span class="line">  src: url(https://npm.elemecdn.com/anzhiyu-blog@1.1.6/fonts/ZhuZiAWan.woff2);</span><br><span class="line">  font-display: swap;</span><br><span class="line">  font-weight: lighter;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div#menus &#123;</span><br><span class="line">  font-family: &quot;ZhuZiAYuanJWD&quot;;</span><br><span class="line">&#125;</span><br><span class="line">h1#site-title &#123;</span><br><span class="line">  font-family: ZhuZiAYuanJWD;</span><br><span class="line">  font-size: 3em !important;</span><br><span class="line">&#125;</span><br><span class="line">a.article-title,</span><br><span class="line">a.blog-slider__title,</span><br><span class="line">a.categoryBar-list-link,</span><br><span class="line">h1.post-title &#123;</span><br><span class="line">  font-family: ZhuZiAYuanJWD;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.iconfont &#123;</span><br><span class="line">  font-family: &quot;iconfont&quot; !important;</span><br><span class="line">  font-size: 3em;</span><br><span class="line">  /* 可以定义图标大小 */</span><br><span class="line">  font-style: normal;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 时间轴生肖icon */</span><br><span class="line">svg.icon &#123;</span><br><span class="line">  /* 这里定义svg.icon，避免和Butterfly自带的note标签冲突 */</span><br><span class="line">  width: 1em;</span><br><span class="line">  height: 1em;</span><br><span class="line">  /* width和height定义图标的默认宽度和高度*/</span><br><span class="line">  vertical-align: -0.15em;</span><br><span class="line">  fill: currentColor;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.icon-zhongbiao::before &#123;</span><br><span class="line">  color: #f7c768;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* bilibli番剧插件 */</span><br><span class="line">#article-container .bangumi-tab.bangumi-active &#123;</span><br><span class="line">  background: var(--anzhiyu-theme);</span><br><span class="line">  color: var(--anzhiyu-ahoverbg);</span><br><span class="line">  border-radius: 10px;</span><br><span class="line">&#125;</span><br><span class="line">a.bangumi-tab:hover &#123;</span><br><span class="line">  text-decoration: none !important;</span><br><span class="line">&#125;</span><br><span class="line">.bangumi-button:hover &#123;</span><br><span class="line">  background: var(--anzhiyu-theme) !important;</span><br><span class="line">  border-radius: 10px !important;</span><br><span class="line">  color: var(--anzhiyu-ahoverbg) !important;</span><br><span class="line">&#125;</span><br><span class="line">a.bangumi-button.bangumi-nextpage:hover &#123;</span><br><span class="line">  text-decoration: none !important;</span><br><span class="line">&#125;</span><br><span class="line">.bangumi-button &#123;</span><br><span class="line">  padding: 5px 10px !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a.bangumi-tab &#123;</span><br><span class="line">  padding: 5px 10px !important;</span><br><span class="line">&#125;</span><br><span class="line">svg.icon.faa-tada &#123;</span><br><span class="line">  font-size: 1.1em;</span><br><span class="line">&#125;</span><br><span class="line">.bangumi-info-item &#123;</span><br><span class="line">  border-right: 1px solid #f2b94b;</span><br><span class="line">&#125;</span><br><span class="line">.bangumi-info-item span &#123;</span><br><span class="line">  color: #f2b94b;</span><br><span class="line">&#125;</span><br><span class="line">.bangumi-info-item em &#123;</span><br><span class="line">  color: #f2b94b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 解决artitalk的图标问题 */</span><br><span class="line">#uploadSource &gt; svg &#123;</span><br><span class="line">  width: 1.19em;</span><br><span class="line">  height: 1.5em;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*top-img黑色透明玻璃效果移除，不建议加，除非你执着于完全一图流或者背景图对比色明显 */</span><br><span class="line">#page-header:not(.not-top-img):before &#123;</span><br><span class="line">  background-color: transparent !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 首页文章卡片 */</span><br><span class="line">#recent-posts &gt; .recent-post-item &#123;</span><br><span class="line">  background: rgba(255, 255, 255, 0.9);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 首页侧栏卡片 */</span><br><span class="line">#aside-content .card-widget &#123;</span><br><span class="line">  background: rgba(255, 255, 255, 0.9);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 文章页面正文背景 */</span><br><span class="line">div#post &#123;</span><br><span class="line">  background: rgba(255, 255, 255, 0.9);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 分页页面 */</span><br><span class="line">div#page &#123;</span><br><span class="line">  background: rgba(255, 255, 255, 0.9);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 归档页面 */</span><br><span class="line">div#archive &#123;</span><br><span class="line">  background: rgba(255, 255, 255, 0.9);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 标签页面 */</span><br><span class="line">div#tag &#123;</span><br><span class="line">  background: rgba(255, 255, 255, 0.9);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 分类页面 */</span><br><span class="line">div#category &#123;</span><br><span class="line">  background: rgba(255, 255, 255, 0.9);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*夜间模式伪类遮罩层透明*/</span><br><span class="line">[data-theme=&quot;dark&quot;] #recent-posts &gt; .recent-post-item &#123;</span><br><span class="line">  background: #121212;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[data-theme=&quot;dark&quot;] .card-widget &#123;</span><br><span class="line">  background: #121212 !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[data-theme=&quot;dark&quot;] div#post &#123;</span><br><span class="line">  background: #121212 !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[data-theme=&quot;dark&quot;] div#tag &#123;</span><br><span class="line">  background: #121212 !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[data-theme=&quot;dark&quot;] div#archive &#123;</span><br><span class="line">  background: #121212 !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[data-theme=&quot;dark&quot;] div#page &#123;</span><br><span class="line">  background: #121212 !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[data-theme=&quot;dark&quot;] div#category &#123;</span><br><span class="line">  background: #121212 !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[data-theme=&quot;dark&quot;] div#category &#123;</span><br><span class="line">  background: transparent !important;</span><br><span class="line">&#125;</span><br><span class="line">/* 页脚透明 */</span><br><span class="line">#footer &#123;</span><br><span class="line">  background: transparent !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 头图透明 */</span><br><span class="line">#page-header &#123;</span><br><span class="line">  background: transparent !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#rightside &gt; div &gt; button &#123;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 滚动条 */</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar &#123;</span><br><span class="line">  width: 10px;</span><br><span class="line">  height: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-thumb &#123;</span><br><span class="line">  background-color: #3b70fc;</span><br><span class="line">  border-radius: 2em;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-corner &#123;</span><br><span class="line">  background-color: transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-moz-selection &#123;</span><br><span class="line">  color: #fff;</span><br><span class="line">  background-color: #3b70fc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 音乐播放器 */</span><br><span class="line"></span><br><span class="line">/* .aplayer .aplayer-lrc &#123;</span><br><span class="line">  display: none !important;</span><br><span class="line">&#125; */</span><br><span class="line"></span><br><span class="line">.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body &#123;</span><br><span class="line">  left: -66px !important;</span><br><span class="line">  transition: all 0.3s;</span><br><span class="line">  /* 默认情况下缩进左侧66px，只留一点箭头部分 */</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover &#123;</span><br><span class="line">  left: 0 !important;</span><br><span class="line">  transition: all 0.3s;</span><br><span class="line">  /* 鼠标悬停是左侧缩进归零，完全显示按钮 */</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.aplayer.aplayer-fixed &#123;</span><br><span class="line">  z-index: 999999 !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 评论框  */</span><br><span class="line">.vwrap &#123;</span><br><span class="line">  box-shadow: 2px 2px 5px #bbb;</span><br><span class="line">  background: rgba(255, 255, 255, 0.3);</span><br><span class="line">  border-radius: 8px;</span><br><span class="line">  padding: 30px;</span><br><span class="line">  margin: 30px 0px 30px 0px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 设置评论框 */</span><br><span class="line"></span><br><span class="line">.vcard &#123;</span><br><span class="line">  box-shadow: 2px 2px 5px #bbb;</span><br><span class="line">  background: rgba(255, 255, 255, 0.3);</span><br><span class="line">  border-radius: 8px;</span><br><span class="line">  padding: 30px;</span><br><span class="line">  margin: 30px 0px 0px 0px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* md网站下划线 */</span><br><span class="line">#article-container a:hover &#123;</span><br><span class="line">  text-decoration: none !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#article-container #hpp_talk p img &#123;</span><br><span class="line">  display: inline;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 404页面 */</span><br><span class="line">#error-wrap &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 40%;</span><br><span class="line">  right: 0;</span><br><span class="line">  left: 0;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">  padding: 0 1rem;</span><br><span class="line">  max-width: 1000px;</span><br><span class="line">  transform: translate(0, -50%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#error-wrap .error-content &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: row;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  align-items: center;</span><br><span class="line">  margin: 0 1rem;</span><br><span class="line">  height: 18rem;</span><br><span class="line">  border-radius: 8px;</span><br><span class="line">  background: var(--card-bg);</span><br><span class="line">  box-shadow: var(--card-box-shadow);</span><br><span class="line">  transition: all 0.3s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#error-wrap .error-content .error-img &#123;</span><br><span class="line">  box-flex: 1;</span><br><span class="line">  flex: 1;</span><br><span class="line">  height: 100%;</span><br><span class="line">  border-top-left-radius: 8px;</span><br><span class="line">  border-bottom-left-radius: 8px;</span><br><span class="line">  background-color: #3b70fc;</span><br><span class="line">  background-position: center;</span><br><span class="line">  background-size: cover;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#error-wrap .error-content .error-info &#123;</span><br><span class="line">  box-flex: 1;</span><br><span class="line">  flex: 1;</span><br><span class="line">  padding: 0.5rem;</span><br><span class="line">  text-align: center;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  font-family: Titillium Web, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft JhengHei&quot;, &quot;Microsoft YaHei&quot;, sans-serif;</span><br><span class="line">&#125;</span><br><span class="line">#error-wrap .error-content .error-info .error_title &#123;</span><br><span class="line">  margin-top: -4rem;</span><br><span class="line">  font-size: 9em;</span><br><span class="line">&#125;</span><br><span class="line">#error-wrap .error-content .error-info .error_subtitle &#123;</span><br><span class="line">  margin-top: -3.5rem;</span><br><span class="line">  word-break: break-word;</span><br><span class="line">  font-size: 1.6em;</span><br><span class="line">&#125;</span><br><span class="line">#error-wrap .error-content .error-info a &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  margin-top: 0.5rem;</span><br><span class="line">  padding: 0.3rem 1.5rem;</span><br><span class="line">  background: var(--btn-bg);</span><br><span class="line">  color: var(--btn-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#body-wrap.error .aside-list &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: row;</span><br><span class="line">  flex-wrap: nowrap;</span><br><span class="line">  bottom: 0px;</span><br><span class="line">  position: absolute;</span><br><span class="line">  padding: 1rem;</span><br><span class="line">  width: 100%;</span><br><span class="line">  overflow: scroll;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#body-wrap.error .aside-list .aside-list-group &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: row;</span><br><span class="line">  flex-wrap: nowrap;</span><br><span class="line">  max-width: 1200px;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#body-wrap.error .aside-list .aside-list-item &#123;</span><br><span class="line">  padding: 0.5rem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#body-wrap.error .aside-list .aside-list-item img &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">  object-fit: cover;</span><br><span class="line">  border-radius: 12px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#body-wrap.error .aside-list .aside-list-item .thumbnail &#123;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  width: 230px;</span><br><span class="line">  height: 143px;</span><br><span class="line">  background: var(--anzhiyu-card-bg);</span><br><span class="line">  display: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#body-wrap.error .aside-list .aside-list-item .content .title &#123;</span><br><span class="line">  -webkit-line-clamp: 2;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  display: -webkit-box;</span><br><span class="line">  -webkit-box-orient: vertical;</span><br><span class="line">  line-height: 1.5;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  align-items: flex-end;</span><br><span class="line">  align-content: center;</span><br><span class="line">  padding-top: 0.5rem;</span><br><span class="line">  color: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#body-wrap.error .aside-list .aside-list-item .content time &#123;</span><br><span class="line">  display: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 代码框主题 */</span><br><span class="line">#article-container figure.highlight &#123;</span><br><span class="line">  border-radius: 10px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>文件中的<code>inject</code>配置项的<code>head</code>子项加入以下代码，代表引入刚刚创建的<code>custom.css</code>文件（这是相对路径的写法）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/custom.css&quot; media=&quot;defer&quot; onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>文件中的<code>index_img</code>和<code>footer_bg</code>配置项取消头图与页脚图的加载项避免冗余加载</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># The banner image of home page</span><br><span class="line">index_img: </span><br><span class="line"></span><br><span class="line"># Footer Background</span><br><span class="line">footer_bg: false</span><br></pre></td></tr></table></figure>
</li>
<li><p>部分人反映一图流改完了背景图也没了，那大概率是你之前没设置背景图。在主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>文件中的<code>background</code>配置项设置背景图</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">background: url(https://source.fomal.cc/img/home_bg.webp)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="页脚Github徽标（店长）"><a href="#页脚Github徽标（店长）" class="headerlink" title="页脚Github徽标（店长）"></a>页脚Github徽标（店长）</h2><ol>
<li><p>安装插件,在博客根目录<code>[BlogRoot]</code>下打开终端，运行以下指令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-footer-beautify --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中添加（这是我的配置）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"># footer_beautify</span><br><span class="line"># 页脚计时器：[Native JS Timer](https://akilar.top/posts/b941af/)</span><br><span class="line"># 页脚徽标：[Add Github Badge](https://akilar.top/posts/e87ad7f8/)</span><br><span class="line">footer_beautify:</span><br><span class="line">  enable:</span><br><span class="line">    timer: true # 计时器开关</span><br><span class="line">    bdage: true # 徽标开关</span><br><span class="line">  priority: 5 #过滤器优先权</span><br><span class="line">  enable_page: all # 应用页面</span><br><span class="line">  exclude: #屏蔽页面</span><br><span class="line">    # - /posts/</span><br><span class="line">    # - /about/</span><br><span class="line">  layout: # 挂载容器类型</span><br><span class="line">    type: id</span><br><span class="line">    name: footer-wrap</span><br><span class="line">    index: 0</span><br><span class="line">  # 计时器部分配置项（看你喜欢哪个，最好下载下来放到自己的项目中不然会增加我网站的负载）</span><br><span class="line">  # 这是我的  </span><br><span class="line">  # runtime_js: https://www.fomal.cc/static/js/runtime.js</span><br><span class="line">  # runtime_css: https://www.fomal.cc/static/css/runtime.min.css </span><br><span class="line">  # 这是店长的 </span><br><span class="line">  runtime_js: https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.js</span><br><span class="line">  runtime_css: https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.css</span><br><span class="line">  # 徽标部分配置项</span><br><span class="line">  swiperpara: 0 #若非0，则开启轮播功能，每行徽标个数</span><br><span class="line">  bdageitem:</span><br><span class="line">    - link: https://hexo.io/ #徽标指向网站链接</span><br><span class="line">      shields: https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo #徽标API</span><br><span class="line">      message: 博客框架为Hexo_v6.2.0 #徽标提示语</span><br><span class="line">    - link: https://butterfly.js.org/</span><br><span class="line">      shields: https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender</span><br><span class="line">      message: 主题版本Butterfly_v4.3.1</span><br><span class="line">    - link: https://vercel.com/</span><br><span class="line">      shields: https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel</span><br><span class="line">      message: 本站采用多线部署，主线路托管于Vercel</span><br><span class="line">    - link: https://dashboard.4everland.org/</span><br><span class="line">    # https://img.shields.io/badge/Hosted-4EVERLAND-3FE2C1?style=flat&amp;logo=IPFS</span><br><span class="line">      shields: https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS</span><br><span class="line">      message: 本站采用多线部署，备用线路托管于4EVERLAND</span><br><span class="line">    - link: https://github.com/</span><br><span class="line">      shields: https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub</span><br><span class="line">      message: 本站项目由Github托管</span><br><span class="line">    - link: http://creativecommons.org/licenses/by-nc-sa/4.0/</span><br><span class="line">      shields: https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris</span><br><span class="line">      message: 本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可</span><br><span class="line">  swiper_css: https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css</span><br><span class="line">  swiper_js: https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js</span><br><span class="line">  swiperbdage_init_js: https://npm.elemecdn.com/hexo-butterfly-footer-beautify/lib/swiperbdage_init.min.js</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数释义</p>
</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">备选值/类型</th>
<th style="text-align:left">释义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">priority</td>
<td style="text-align:left">number</td>
<td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td>
</tr>
<tr>
<td style="text-align:left">enable.timer</td>
<td style="text-align:left">true/false</td>
<td style="text-align:left">【必选】计时器控制开关</td>
</tr>
<tr>
<td style="text-align:left">enable.bdage</td>
<td style="text-align:left">true/false</td>
<td style="text-align:left">【必选】徽标控制开关</td>
</tr>
<tr>
<td style="text-align:left">enable_page</td>
<td style="text-align:left">path</td>
<td style="text-align:left">【可选】填写想要应用的页面,如根目录就填’/‘,分类页面就填’/categories/‘。若要应用于所有页面，就填<code>all</code>，默认为<code>all</code></td>
</tr>
<tr>
<td style="text-align:left">exclude</td>
<td style="text-align:left">path</td>
<td style="text-align:left">【可选】填写想要屏蔽的页面，可以多个。仅当enable_page为’all’时生效。写法见示例。原理是将屏蔽项的内容逐个放到当前路径去匹配，若当前路径包含任一屏蔽项，则不会挂载。</td>
</tr>
<tr>
<td style="text-align:left">layout.type</td>
<td style="text-align:left">id/class</td>
<td style="text-align:left">【可选】挂载容器类型，填写id或class，不填则默认为id</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="http://layout.name/">layout.name</a></td>
<td style="text-align:left">text</td>
<td style="text-align:left">【必选】挂载容器名称</td>
</tr>
<tr>
<td style="text-align:left">layout.index</td>
<td style="text-align:left">0和正整数</td>
<td style="text-align:left">【可选】前提是layout.type为class，因为同一页面可能有多个class，此项用来确认究竟排在第几个顺位</td>
</tr>
<tr>
<td style="text-align:left">runtime_js</td>
<td style="text-align:left">url</td>
<td style="text-align:left">【必选】页脚计时器脚本，可以下载上文填写示例的链接，参照注释和<a target="_blank" rel="noopener" href="https://akilar.top/posts/b941af/">教程：Native JS Timer</a>自行修改。</td>
</tr>
<tr>
<td style="text-align:left">runtime_css</td>
<td style="text-align:left">url</td>
<td style="text-align:left">【可选】自定义样式，预留开发者接口，可自行下载。</td>
</tr>
<tr>
<td style="text-align:left">swiperpara</td>
<td style="text-align:left">number</td>
<td style="text-align:left">【可选】若非零，则开启轮播功能，此项表示每行最多容纳徽标个数，用来应对徽标过多显得页脚拥挤的问题</td>
</tr>
<tr>
<td style="text-align:left">bdageitem.link</td>
<td style="text-align:left">url</td>
<td style="text-align:left">【可选】页脚徽标指向的网站链接</td>
</tr>
<tr>
<td style="text-align:left">bdageitem.shields</td>
<td style="text-align:left">url</td>
<td style="text-align:left">【必选】页脚徽标对应的API，API具体写法示例参照<a target="_blank" rel="noopener" href="https://akilar.top/posts/e87ad7f8/">教程Add Github Badge</a></td>
</tr>
<tr>
<td style="text-align:left">bdageitem.message</td>
<td style="text-align:left">text</td>
<td style="text-align:left">【可选】页脚徽标悬停时显示的信息</td>
</tr>
<tr>
<td style="text-align:left">swiper_css</td>
<td style="text-align:left">url</td>
<td style="text-align:left">【可选】swiper的依赖</td>
</tr>
<tr>
<td style="text-align:left">swiper_js</td>
<td style="text-align:left">url</td>
<td style="text-align:left">【可选】swiper的依赖</td>
</tr>
<tr>
<td style="text-align:left">swiperbdage_init_js</td>
<td style="text-align:left">url</td>
<td style="text-align:left">【可选】swiper初始化方法</td>
</tr>
</tbody>
</table>
</div>
<p>其中，计时器部分和备案号部分自行下载到本地，然后引入</p>
<h2 id="首页分类磁贴新版-店长-kill"><a href="#首页分类磁贴新版-店长-kill" class="headerlink" title="*首页分类磁贴新版(店长)kill"></a>*首页分类磁贴新版(店长)kill</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page categories</span><br></pre></td></tr></table></figure>
<ol>
<li><p>安装插件,在博客根目录<code>[BlogRoot]</code>下打开终端，运行以下指令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-categories-card --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中添加以下代码，注意要根据他的默认描述排序改为你自己对应的分类名字：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># hexo-butterfly-categories-card</span><br><span class="line"># see https://akilar.top/posts/a9131002/</span><br><span class="line">categoryBar:</span><br><span class="line">  enable: true # 开关</span><br><span class="line">  priority: 5 #过滤器优先权</span><br><span class="line">  enable_page: / # 应用页面</span><br><span class="line">  layout: # 挂载容器类型</span><br><span class="line">    type: id</span><br><span class="line">    name: recent-posts</span><br><span class="line">    index: 0</span><br><span class="line">  column: odd # odd：3列 | even：4列</span><br><span class="line">  row: 1 #显示行数，默认两行，超过行数切换为滚动显示</span><br><span class="line">  message:</span><br><span class="line">    - descr: Ubuntu指南</span><br><span class="line">      cover: https://assets.akilar.top/image/cover1.webp</span><br><span class="line">    - descr: 玩转Win10</span><br><span class="line">      cover: https://assets.akilar.top/image/cover2.webp</span><br><span class="line">    - descr: 长篇小说连载</span><br><span class="line">      cover: https://assets.akilar.top/image/cover3.webp</span><br><span class="line">    - descr: 个人日记</span><br><span class="line">      cover: https://assets.akilar.top/image/cover4.webp</span><br><span class="line">    - descr: 诗词歌赋</span><br><span class="line">      cover: https://assets.akilar.top/image/cover5.webp</span><br><span class="line">    - descr: 杂谈教程</span><br><span class="line">      cover: https://assets.akilar.top/image/cover6.webp</span><br><span class="line">  custom_css: https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数释义</p>
</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">备选值/类型</th>
<th style="text-align:left">释义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">priority</td>
<td style="text-align:left">number</td>
<td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td>
</tr>
<tr>
<td style="text-align:left">enable</td>
<td style="text-align:left">true/false</td>
<td style="text-align:left">【必选】控制开关</td>
</tr>
<tr>
<td style="text-align:left">enable_page</td>
<td style="text-align:left">path/all</td>
<td style="text-align:left">【可选】填写想要应用的页面的相对路径（即路由地址）,如根目录就填’/‘,分类页面就填’/categories/‘。若要应用于所有页面，就填’all’，默认为’/‘</td>
</tr>
<tr>
<td style="text-align:left">layout.type</td>
<td style="text-align:left">id/class</td>
<td style="text-align:left">【可选】挂载容器类型，填写id或class，不填则默认为id</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="http://layout.name/">layout.name</a></td>
<td style="text-align:left">text</td>
<td style="text-align:left">【必选】挂载容器名称</td>
</tr>
<tr>
<td style="text-align:left">layout.index</td>
<td style="text-align:left">0和正整数</td>
<td style="text-align:left">【可选】前提是layout.type为class，因为同一页面可能有多个class，此项用来确认究竟排在第几个顺位</td>
</tr>
<tr>
<td style="text-align:left">column</td>
<td style="text-align:left">odd/even</td>
<td style="text-align:left">【可选】显示列数，考虑到比例问题，只提供3列和4列，odd为3列， even为4列</td>
</tr>
<tr>
<td style="text-align:left">row</td>
<td style="text-align:left">number</td>
<td style="text-align:left">【可选】显示行数，默认两行，超过行数切换为滚动显示</td>
</tr>
<tr>
<td style="text-align:left">message.descr</td>
<td style="text-align:left">text</td>
<td style="text-align:left">分类描述,需要和你自己的文章分类一一对应。</td>
</tr>
<tr>
<td style="text-align:left">message.cover</td>
<td style="text-align:left">url</td>
<td style="text-align:left">分类背景,需要和你自己的文章分类一一对应。</td>
</tr>
<tr>
<td style="text-align:left">custom_css</td>
<td style="text-align:left">url</td>
<td style="text-align:left">【可选】自定义样式，会替换默认的css链接，可以下载文档给出的cdn链接后自主修改</td>
</tr>
</tbody>
</table>
</div>
<h2 id="首页分类磁贴1-0（小冰）"><a href="#首页分类磁贴1-0（小冰）" class="headerlink" title="*首页分类磁贴1.0（小冰）"></a>*首页分类磁贴1.0（小冰）</h2><ol>
<li><p>在博客根目录<code>[BlogRoot]</code>下打开终端，运行以下指令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-magnet --save</span><br></pre></td></tr></table></figure>
<p>注意，一定要加 <code>--save</code>，不然本地预览的时候可能不会显示！！！</p>
</li>
<li><p>在网站配置文件<code>_config.yml</code>新增以下项 (注意不是主题配置文件)，这里的分类名字必须和你文章的分类名字一一对应：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">magnet:</span><br><span class="line">  enable: true</span><br><span class="line">  priority: 1</span><br><span class="line">  enable_page: /</span><br><span class="line">  type: categories</span><br><span class="line">  devide: 2</span><br><span class="line">  display:</span><br><span class="line">    - name: 教程</span><br><span class="line">      display_name: 小冰の魔改教程</span><br><span class="line">      icon: 📚</span><br><span class="line">    - name: 游戏评测</span><br><span class="line">      display_name: 小冰の游戏评测</span><br><span class="line">      icon: 🎮</span><br><span class="line">    - name: 生活趣闻</span><br><span class="line">      display_name: 小冰の生活趣闻</span><br><span class="line">      icon: 🐱‍👓</span><br><span class="line">    - name: vue</span><br><span class="line">      display_name: 小冰の编程学习</span><br><span class="line">      icon: 👩‍💻</span><br><span class="line">    - name: 学习</span><br><span class="line">      display_name: 小冰の读书笔记</span><br><span class="line">      icon: 📒</span><br><span class="line">    - name: 随想</span><br><span class="line">      display_name: 小冰の胡思乱想</span><br><span class="line">      icon: 💡</span><br><span class="line">  color_setting:</span><br><span class="line">    text_color: black</span><br><span class="line">    text_hover_color: white</span><br><span class="line">    background_color: &quot;#f2f2f2&quot;</span><br><span class="line">    background_hover_color: &quot;#b30070&quot;</span><br><span class="line">  layout:</span><br><span class="line">    type: id</span><br><span class="line">    name: recent-posts</span><br><span class="line">    index: 0</span><br><span class="line">  temple_html: &#x27;&lt;div class=&quot;recent-post-item&quot; style=&quot;width:100%;height: auto&quot;&gt;&lt;div id=&quot;catalog_magnet&quot;&gt;$&#123;temple_html_item&#125;&lt;/div&gt;&lt;/div&gt;&#x27;</span><br><span class="line">  plus_style: &quot;&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置项的含义：</p>
<ul>
<li><p>enable</p>
<p>参数：true/false<br>含义：是否开启插件</p>
</li>
<li><p>enable_page</p>
<p>参数：/<br>含义：路由地址，如 / 代表主页。/me/ 代表自我介绍页等等</p>
</li>
<li><p>priority</p>
<p>参数：1<br>含义：插件的叠放顺序，数字越大，叠放约靠前。</p>
</li>
<li><p>type</p>
<p>参数：categories/tags<br>含义：选择筛选分类还是标签</p>
</li>
<li><p>devide</p>
<p>参数：2<br>含义：表示分隔的列数，2 表示分为两列展示</p>
</li>
<li><p>display</p>
<p>参数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- name: 教程 # 这里是tags或者categories的名称</span><br><span class="line">  display_name: 小冰の魔改教程 # 这里是替换的名称</span><br><span class="line">  icon: 📚 # 这里是展示的图标</span><br></pre></td></tr></table></figure>
<p>含义：配置项，可自行设置，按照设置的顺序展示</p>
</li>
<li><p>color_setting</p>
<p>参数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">text_color: black # 文字默认颜色</span><br><span class="line">text_hover_color: white # 文字鼠标悬浮颜色</span><br><span class="line">background_color: &quot;#f2f2f2&quot; # 文字背景默认颜色</span><br><span class="line">background_hover_color: &quot;#b30070&quot; # 文字背景悬浮颜色</span><br></pre></td></tr></table></figure>
<p>含义：颜色配置项，可自行设置</p>
</li>
<li><p>layout</p>
<p>参数：type; （class&amp;id）<br>参数：name;<br>参数：index；（数字）<br>含义：如果说 magnet 是一幅画，那么这个 layout 就是指定了哪面墙来挂画<br>而在 HTML 的是世界里有两种墙分别 type 为 id 和 class。<br>其中在定义 class 的时候会出现多个 class 的情况，这时就需要使用 index，确定是哪一个。<br>最后墙的名字即是 name;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div name=&quot;我是墙&quot; id=&quot;recent-posts&quot;&gt;</span><br><span class="line">  &lt;!-- id=&gt;type  recent-posts=&gt;name    --&gt;</span><br><span class="line">  &lt;div name=&quot;我是画框&quot;&gt;</span><br><span class="line">    &lt;div name=&quot;我是纸&quot;&gt;</span><br><span class="line">      &lt;!--这里通过js挂载magnet，也就是画画--&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>temple_html</p>
<p>参数：html 模板字段<br>含义：包含挂载容器</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;recent-post-item&quot; style=&quot;width:100%;height: auto&quot;&gt; &lt;!--文章容器--&gt;</span><br><span class="line">  &lt;div id=&quot;catalog_magnet&quot;&gt;  &lt;!--挂载容器--&gt;</span><br><span class="line">    $&#123;temple_html_item&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>plus_style</p>
<p>参数：“”<br>含义：提供可自定义的 style，如加入黑夜模式。</p>
</li>
</ul>
</li>
<li><p>执行 hexo 三连</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>
</li>
<li><p>我们可以看到黑夜模式看起来特别的别扭，因此还要做一下黑夜模式的颜色适配，在<code>custom.css</code>文件中添加以下代码适配黑夜模式(具体颜色可以自己调节)：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/* 小冰分类分类磁铁黑夜模式适配 */</span><br><span class="line">/* 一般状态 */</span><br><span class="line">[data-theme=&quot;dark&quot;] .magnet_link_context &#123;</span><br><span class="line">  background: #1e1e1e;</span><br><span class="line">  color: antiquewhite;</span><br><span class="line">&#125;</span><br><span class="line">/* 鼠标悬浮状态 */</span><br><span class="line">[data-theme=&quot;dark&quot;] .magnet_link_context:hover &#123;</span><br><span class="line">  background: #3ecdf1;</span><br><span class="line">  color: #f2f2f2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="文章置顶滚动栏-店长"><a href="#文章置顶滚动栏-店长" class="headerlink" title="*文章置顶滚动栏(店长)"></a>*文章置顶滚动栏(店长)</h2><ol>
<li><p>安装插件,在博客根目录<code>[BlogRoot]</code>下打开终端，运行以下指令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-swiper --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中添加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># hexo-butterfly-swiper</span><br><span class="line"># see https://akilar.top/posts/8e1264d1/</span><br><span class="line">swiper:</span><br><span class="line">  enable: true # 开关</span><br><span class="line">  priority: 5 #过滤器优先权</span><br><span class="line">  enable_page: all # 应用页面</span><br><span class="line">  timemode: date #date/updated</span><br><span class="line">  layout: # 挂载容器类型</span><br><span class="line">    type: id</span><br><span class="line">    name: recent-posts</span><br><span class="line">    index: 0</span><br><span class="line">  default_descr: 再怎么看我也不知道怎么描述它的啦！</span><br><span class="line">  swiper_css: https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css #swiper css依赖</span><br><span class="line">  swiper_js: https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js #swiper js依赖</span><br><span class="line">  custom_css: https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css # 适配主题样式补丁</span><br><span class="line">  custom_js: https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js # swiper初始化方法</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数释义</p>
</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">备选值/类型</th>
<th style="text-align:left">释义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">priority</td>
<td style="text-align:left">number</td>
<td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td>
</tr>
<tr>
<td style="text-align:left">enable</td>
<td style="text-align:left">true/false</td>
<td style="text-align:left">【必选】控制开关</td>
</tr>
<tr>
<td style="text-align:left">enable_page</td>
<td style="text-align:left">path/all</td>
<td style="text-align:left">【可选】填写想要应用的页面的相对路径（即路由地址）,如根目录就填’/‘,分类页面就填’/categories/‘。若要应用于所有页面，就填’all’，默认为all</td>
</tr>
<tr>
<td style="text-align:left">timemode</td>
<td style="text-align:left">date/updated</td>
<td style="text-align:left">【可选】时间显示，date为显示创建日期，updated为显示更新日期,默认为date</td>
</tr>
<tr>
<td style="text-align:left">layout.type</td>
<td style="text-align:left">id/class</td>
<td style="text-align:left">【可选】挂载容器类型，填写id或class，不填则默认为id</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="http://layout.name/">layout.name</a></td>
<td style="text-align:left">text</td>
<td style="text-align:left">【必选】挂载容器名称</td>
</tr>
<tr>
<td style="text-align:left">layout.index</td>
<td style="text-align:left">0和正整数</td>
<td style="text-align:left">【可选】前提是layout.type为class，因为同一页面可能有多个class，此项用来确认究竟排在第几个顺位</td>
</tr>
<tr>
<td style="text-align:left">default_descr</td>
<td style="text-align:left">text</td>
<td style="text-align:left">默认文章描述</td>
</tr>
<tr>
<td style="text-align:left">swiper_css</td>
<td style="text-align:left">url</td>
<td style="text-align:left">【可选】自定义的swiper依赖项css链接</td>
</tr>
<tr>
<td style="text-align:left">swiper_js</td>
<td style="text-align:left">url</td>
<td style="text-align:left">【可选】自定义的swiper依赖项加js链接</td>
</tr>
<tr>
<td style="text-align:left">custom_css</td>
<td style="text-align:left">url</td>
<td style="text-align:left">【可选】适配主题样式补丁</td>
</tr>
<tr>
<td style="text-align:left">custom_js</td>
<td style="text-align:left">url</td>
<td style="text-align:left">【可选】swiper初始化方法</td>
</tr>
</tbody>
</table>
</div>
<p>使用方法:在文章的<code>front_matter</code>中添加<code>swiper_index</code>配置项即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章标题</span><br><span class="line">date: 创建日期</span><br><span class="line">updated: 更新日期</span><br><span class="line">cover: 文章封面</span><br><span class="line">description: 文章描述</span><br><span class="line">swiper_index: 1 #置顶轮播图顺序，非负整数，数字越大越靠前</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<h2 id="自定义字体"><a href="#自定义字体" class="headerlink" title="*自定义字体"></a>*自定义字体</h2><ol>
<li><p>准备好字体文件后，在<code>[BlogRoot]\source\css\custom.css</code>（没有就自己创建）中添加以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@font-face &#123;</span><br><span class="line">  /* 为载入的字体取名字(随意) */</span><br><span class="line">  font-family: &#x27;YSHST&#x27;;	</span><br><span class="line">  /* 字体文件地址(相对或者绝对路径都可以) */</span><br><span class="line">  src: url(/font/优设好身体.woff2);</span><br><span class="line">  /* 定义加粗样式(加粗多少) */</span><br><span class="line">  font-weight: normal;</span><br><span class="line">  /* 定义字体样式(斜体/非斜体) */</span><br><span class="line">  font-style: normal;</span><br><span class="line">  /* 定义显示样式 */</span><br><span class="line">  font-display: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>各个属性的定义：</p>
<ol>
<li>font-family属性值中使用webfont来声明使用的是服务器端字体，即设置文本的字体名称。</li>
<li>src属性值中首先指定了字体文件所在的路径。</li>
<li>format声明字体文件的格式，可以省略文件格式的声明，单独使用src属性值。</li>
<li>font-style：设置文本样式。取值：normal:不使用斜体；italic:使用斜体；oblique:使用倾斜体；inherit：从父元素继承。</li>
<li>支持格式：<em>.eot(老版本IE)，</em>.otf，<em>.ttf，</em>.woff，*.woff2(推荐)</li>
</ol>
</li>
<li><p>在主题配置文件<code>_config.butterfly.yml</code>中的<code>font</code>配置项以及<code>blog_title_font</code>配置项写上你刚刚引入的字体名称，系统会根据先后次序从前到后依次加载这些字体：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># Global font settings</span><br><span class="line"># Don&#x27;t modify the following settings unless you know how they work (非必要不要修改)</span><br><span class="line">font:</span><br><span class="line">  global-font-size: &#x27;15px&#x27;</span><br><span class="line">  code-font-size: &#x27;14px&#x27;</span><br><span class="line">  font-family: YSHST, -apple-system, &#x27;Quicksand&#x27;, &#x27;Nimbus Roman No9 L&#x27;, &#x27;PingFang SC&#x27;, &#x27;Hiragino Sans GB&#x27;, &#x27;Noto Serif SC&#x27;, &#x27;Microsoft Yahei&#x27;, &#x27;WenQuanYi Micro Hei&#x27;, &#x27;ST Heiti&#x27;, sans-serif;</span><br><span class="line">  code-font-family: Consolas, YSHST, &quot;Microsoft YaHei&quot;, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft JhengHei&quot;, sans-serif</span><br><span class="line"></span><br><span class="line"># 左上角網站名字 主頁居中網站名字</span><br><span class="line">blog_title_font:</span><br><span class="line">  font_link: </span><br><span class="line">  font-family: YSHST, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot; , &quot;Helvetica Neue&quot; , Lato, Roboto, &quot;PingFang SC&quot; , &quot;Microsoft JhengHei&quot; , &quot;Microsoft YaHei&quot; , sans-serif</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启项目即可看到</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl; hexo s</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="文章双侧栏显示-小冰"><a href="#文章双侧栏显示-小冰" class="headerlink" title="文章双侧栏显示(小冰)"></a>文章双侧栏显示(小冰)</h2><ol>
<li><p>在博客根目录<code>[BlogRoot]</code>下打开终端，运行以下指令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-butterfly-article-double-row --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>在网站配置文件<code>_config.yml</code>新增以下项 (注意不是主题配置文件)：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">butterfly_article_double_row:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>
</li>
<li><p>这时候插件有个bug，就是最后一页文章数目为奇数的时候，会出现这种情况</p>
<p><img src="https://s1.vika.cn/space/2022/11/09/8a36957a9cea4b0d9f72a7470a74dfc3" alt="image"></p>
<p>会显得很不舒服，感谢<a target="_blank" rel="noopener" href="https://tzy1997.com/">唐志远大佬</a>修复了这个bug，只需要在<code>custom.css</code>文件添加以下代码即可：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/* 翻页按钮居中 */</span><br><span class="line">#pagination &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">  margin: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>执行 hexo 三连：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="GitCalendar-店长"><a href="#GitCalendar-店长" class="headerlink" title="*GitCalendar(店长)"></a>*GitCalendar(店长)</h2><h3 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h3><ol>
<li><p>安装插件,在博客根目录<code>[BlogRoot]</code>下打开终端，运行以下指令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-filter-gitcalendar --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code>或者主题配置文件如<code>_config.butterfly.yml</code>中添加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># hexo-filter-gitcalendar</span><br><span class="line">gitcalendar:</span><br><span class="line">  enable: true # 开关</span><br><span class="line">  priority: 5 #过滤器优先权</span><br><span class="line">  enable_page: / # 应用页面</span><br><span class="line">  # butterfly挂载容器</span><br><span class="line">  layout: # 挂载容器类型</span><br><span class="line">    type: id</span><br><span class="line">    name: recent-posts</span><br><span class="line">    index: 0</span><br><span class="line">  user: Fomalhaut-Blog #git用户名</span><br><span class="line">  apiurl: &#x27;https://gitcalendar.fomal.cc&#x27;	# 这是我的API，最好自己弄一个</span><br><span class="line">  minheight:</span><br><span class="line">    pc: 280px #桌面端最小高度</span><br><span class="line">    mibile: 0px #移动端最小高度</span><br><span class="line">  color: &quot;[&#x27;#d9e0df&#x27;, &#x27;#c6e0dc&#x27;, &#x27;#a8dcd4&#x27;, &#x27;#9adcd2&#x27;, &#x27;#89ded1&#x27;, &#x27;#77e0d0&#x27;, &#x27;#5fdecb&#x27;, &#x27;#47dcc6&#x27;, &#x27;#39dcc3&#x27;, &#x27;#1fdabe&#x27;, &#x27;#00dab9&#x27;]&quot; # 目前我在用的</span><br><span class="line">  # &quot;[&#x27;#e4dfd7&#x27;, &#x27;#f9f4dc&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f8df72&#x27;, &#x27;#fcd217&#x27;, &#x27;#fcc515&#x27;, &#x27;#f28e16&#x27;, &#x27;#fb8b05&#x27;, &#x27;#d85916&#x27;, &#x27;#f43e06&#x27;]&quot; #橘黄色调</span><br><span class="line">  # color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#fdcdec&#x27;, &#x27;#fc9bd9&#x27;, &#x27;#fa6ac5&#x27;, &#x27;#f838b2&#x27;, &#x27;#f5089f&#x27;, &#x27;#c4067e&#x27;, &#x27;#92055e&#x27;, &#x27;#540336&#x27;, &#x27;#48022f&#x27;, &#x27;#30021f&#x27;]&quot; #浅紫色调</span><br><span class="line">  # color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f0fff4&#x27;, &#x27;#dcffe4&#x27;, &#x27;#bef5cb&#x27;, &#x27;#85e89d&#x27;, &#x27;#34d058&#x27;, &#x27;#28a745&#x27;, &#x27;#22863a&#x27;, &#x27;#176f2c&#x27;, &#x27;#165c26&#x27;, &#x27;#144620&#x27;]&quot; #翠绿色调</span><br><span class="line">  # color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f1f8ff&#x27;, &#x27;#dbedff&#x27;, &#x27;#c8e1ff&#x27;, &#x27;#79b8ff&#x27;, &#x27;#2188ff&#x27;, &#x27;#0366d6&#x27;, &#x27;#005cc5&#x27;, &#x27;#044289&#x27;, &#x27;#032f62&#x27;, &#x27;#05264c&#x27;]&quot; #天青色调</span><br><span class="line">  container: .recent-post-item(style=&#x27;width:100%;height:auto;padding:10px;&#x27;) #父元素容器，需要使用pug语法</span><br><span class="line">  gitcalendar_css: https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css</span><br><span class="line">  gitcalendar_js: https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js	</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数释义</p>
</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">备选值/类型</th>
<th style="text-align:left">释义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">priority</td>
<td style="text-align:left">number</td>
<td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td>
</tr>
<tr>
<td style="text-align:left">enable</td>
<td style="text-align:left">true/false</td>
<td style="text-align:left">【必选】控制开关</td>
</tr>
<tr>
<td style="text-align:left">enable_page</td>
<td style="text-align:left">path/all</td>
<td style="text-align:left">【可选】填写想要应用的页面的相对路径（即路由地址）,如根目录就填’/‘,分类页面就填’/categories/‘。若要应用于所有页面，就填’all’，默认为’/‘</td>
</tr>
<tr>
<td style="text-align:left">layout.type</td>
<td style="text-align:left">id/class</td>
<td style="text-align:left">【可选】挂载容器类型，填写id或class，不填则默认为id</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="http://layout.name/">layout.name</a></td>
<td style="text-align:left">text</td>
<td style="text-align:left">【必选】挂载容器名称</td>
</tr>
<tr>
<td style="text-align:left">layout.index</td>
<td style="text-align:left">0和正整数</td>
<td style="text-align:left">【可选】前提是layout.type为class，因为同一页面可能有多个class，此项用来确认究竟排在第几个顺位</td>
</tr>
<tr>
<td style="text-align:left">user</td>
<td style="text-align:left">text</td>
<td style="text-align:left">【必选】git用户名</td>
</tr>
<tr>
<td style="text-align:left">apiurl</td>
<td style="text-align:left">url</td>
<td style="text-align:left">【可选】默认使用提供文档提供的api，但还是建议自建api，参考教程：<a target="_blank" rel="noopener" href="https://akilar.top/posts/1f9c68c9/#自建API部署">自建API部署</a></td>
</tr>
<tr>
<td style="text-align:left">minheight.pc</td>
<td style="text-align:left">280px</td>
<td style="text-align:left">【可选】桌面端最小高度，默认为280px</td>
</tr>
<tr>
<td style="text-align:left">minheight.mobile</td>
<td style="text-align:left">0px</td>
<td style="text-align:left">【可选】移动端最小高度，默认为0px</td>
</tr>
<tr>
<td style="text-align:left">color</td>
<td style="text-align:left">list</td>
<td style="text-align:left">【可选】一个包含11个色值的数组，文档给出了四款预设值</td>
</tr>
<tr>
<td style="text-align:left">container</td>
<td style="text-align:left">pug</td>
<td style="text-align:left">【可选】预留的父元素容器，用以适配多主题，需要用pug语法填写，目前已适配<a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">butterfly</a>，<a target="_blank" rel="noopener" href="https://github.com/volantis-x/hexo-theme-volantis">volantis</a>，<a target="_blank" rel="noopener" href="https://github.com/blinkfox/hexo-theme-matery">matery</a>，<a target="_blank" rel="noopener" href="https://github.com/lete114/hexo-theme-MengD">mengd</a>主题，这四个主题，插件会自自动识别<code>_config.yml</code>内填写的<code>theme</code>配置项。其余主题需要自己填写父元素容器。</td>
</tr>
<tr>
<td style="text-align:left">gitcalendar_css</td>
<td style="text-align:left">URL</td>
<td style="text-align:left">【可选】自定义CSS样式链接</td>
</tr>
<tr>
<td style="text-align:left">gitcalendar_js</td>
<td style="text-align:left">URL</td>
<td style="text-align:left">【可选】自定义js链接</td>
</tr>
</tbody>
</table>
</div>
<h3 id="自定义挂载容器"><a href="#自定义挂载容器" class="headerlink" title="自定义挂载容器"></a>自定义挂载容器</h3><p>很多人反映不想挂在首页，想挂在关于或者统计等页面，只需要做2步:</p>
<ol>
<li><p>在对应页面创建一个DOM让插件有地方挂载，例如演示的就是在关于页面(<code>/about/</code>)的文件中直接写入一个<code>div</code>块</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- GitCalendar容器 --&gt;</span><br><span class="line">&lt;div id=&quot;gitZone&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在对应配置项改为与你容器<code>id</code>以创建页面路径相关的（是改不是加!!!）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">enable_page: /about/ # 应用页面(记住最后带/)</span><br><span class="line"></span><br><span class="line">layout: # 挂载容器类型</span><br><span class="line">  type: id</span><br><span class="line">  name: gitZone</span><br><span class="line">  index: 0</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启项目就会看见</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl; hexo s</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="自建API部署"><a href="#自建API部署" class="headerlink" title="自建API部署"></a>自建API部署</h3><p>虽然Vercel的访问应当没有次数限制，但是不排除存在因访问次数过多而限流等限制。所以还是建议各位自建API。使用Vercel部署，完全免费，且无需服务器。</p>
<p>将此项目<code>fork</code>到你的Github仓库</p>
<ol>
<li><p>访问<a target="_blank" rel="noopener" href="https://vercel.com/">Vercel官网</a>，点击右上角的sign up进行注册，注册并登录后点击右上角创建一个项目，并选择以Github继续。<br><a target="_blank" rel="noopener" href="https://s1.vika.cn/space/2022/10/27/13d509ad17d44a5ebf60d6bd7cde05f4"><img src="https://s1.vika.cn/space/2022/10/27/13d509ad17d44a5ebf60d6bd7cde05f4" alt="pp"></a></p>
</li>
<li><p>此时应该会看到你刚刚<code>fork</code>过来的你仓库的项目，看不到就输入关键字进行搜索。</p>
</li>
<li><p>点击该仓库右边的<code>Import</code>进行导入，<code>Vercel</code>的<code>PROJECT NAME</code>可以自定义，不用太过在意，但是之后不支持修改，若要改名，只能删除<code>PROJECT</code>以后重建一个了，下方三个选项保持默认就好，点击<code>Deploy</code>进行部署。</p>
<p><img src="https://s1.vika.cn/space/2022/10/29/5ab8babc380b4a93890ef5bbb6becc5c" alt="image-20221029221751149"></p>
</li>
<li><p>到此时，<code>Vercel</code>的部署已经完成，可以使用<code>Vercel</code>提供的默认域名来访问<code>api</code>链接。例如我获取到的默认域名为<code>github-calendar-api.vercel.app</code>,则用它来替换冰老师教程中的自建API，填写到<code>[BlogRoot]\_config.butterfly.yml</code>中关于<code>gitcalendar</code>的<code>apiurl</code>中。注意源码修改版不要带协议，不要带后缀。就填写给你的默认域名就好。<code>而插件版需要带协议</code></p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gitcalendar:</span><br><span class="line">  enable: true</span><br><span class="line">  simplemode: true</span><br><span class="line">  user: Akilarlxh</span><br><span class="line">  apiurl: github-calendar-api.vercel.app</span><br><span class="line">  color: &quot;[&#x27;#e4dfd7&#x27;, &#x27;#f9f4dc&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f8df72&#x27;, &#x27;#fcd217&#x27;, &#x27;#fcc515&#x27;, &#x27;#f28e16&#x27;, &#x27;#fb8b05&#x27;, &#x27;#d85916&#x27;, &#x27;#f43e06&#x27;]&quot;</span><br></pre></td></tr></table></figure>
<h2 id="导航栏魔改"><a href="#导航栏魔改" class="headerlink" title="*导航栏魔改"></a>*导航栏魔改</h2><p>在<code>[BlogRoot]\source\css\custom.css</code>中引入如下css代码，然后在主题配置文件<code>_config.butterfly.yml</code>中引入该文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">/* 一级菜单居中 */</span><br><span class="line">#nav .menus_items &#123;</span><br><span class="line">  position: absolute !important;</span><br><span class="line">  width: fit-content !important;</span><br><span class="line">  left: 50% !important;</span><br><span class="line">  transform: translateX(-50%) !important;</span><br><span class="line">&#125;</span><br><span class="line">/* 子菜单横向展示 */</span><br><span class="line">#nav .menus_items .menus_item:hover .menus_item_child &#123;</span><br><span class="line">  display: flex !important;</span><br><span class="line">&#125;</span><br><span class="line">/* 这里的2是代表导航栏的第2个元素，即有子菜单的元素，可以按自己需求修改 */</span><br><span class="line">.menus_items .menus_item:nth-child(2) .menus_item_child &#123;</span><br><span class="line">  left: -125px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>此处的<code>css</code>实现了两个作用：菜单栏居中、子菜单横向显示。其中子菜单横向显示要根据自己的实际情况来改，例如你的以及菜单的第2个选项中有子菜单，那就要加一项调节第2个选项中的子菜单，这个具体调节多少要根据你的具体情况为准，可以自己慢慢调到中间。</p>
<p>此时我们的手机端子菜单默认是展开显示的，如下图所示：</p>
<p><a target="_blank" rel="noopener" href="https://s1.vika.cn/space/2022/11/12/0e03923bd55641ff871392ceb360eff7"><img src="https://gitee.com/Bluetom/img2/raw/master/img20230403/202309241108601.png" alt="image-20221112140953381"></a></p>
<p>此时我们只需要在主题配置文件<code>_config.butterfly.yml</code>中列表对应的地方加一个<code>hide</code>即可，如下图的列表选项：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  首页: / || fas fa-home</span><br><span class="line">  归档: /archives/ || fas fa-archive</span><br><span class="line">  标签: /tags/ || fas fa-tags</span><br><span class="line">  分类: /categories/ || fas fa-folder-open</span><br><span class="line">  列表||fas fa-list || hide:</span><br><span class="line">    音乐: /music/ || fas fa-music</span><br><span class="line">    电影: /movies/ || fas fa-video</span><br><span class="line">  留言板: /comments/ || fas fa-envelope-open</span><br><span class="line">  友链: /link/ || fas fa-link</span><br><span class="line">  关于: /about/ || fas fa-heart</span><br></pre></td></tr></table></figure>
<p>此时有人觉得右边搜索按钮露出搜索两个字很丑，我们也可以把它隐藏了，在<code>[BlogRoot]\themes\Butterfly\layout\includes\header\nav.pug</code>（npm安装的在<code>[BlogRoot]\node_moudules\hexo-theme-butterfly\layout\includes\header\nav.pug</code>）中把以下语句删除或注释掉即可，搜索两个字就不会显示出来(这种语句统一写法是直接删除<code>+</code>就可以，不用补空格)。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">nav#nav</span><br><span class="line">  span#blog_name</span><br><span class="line">    a#site-name(href=url_for(&#x27;/&#x27;)) #[=config.title]</span><br><span class="line">    </span><br><span class="line">  #menus</span><br><span class="line">    if (theme.algolia_search.enable || theme.local_search.enable)</span><br><span class="line">      #search-button</span><br><span class="line">        a.site-page.social-icon.search</span><br><span class="line">          i.fas.fa-search.fa-fw</span><br><span class="line">-          span=&#x27; &#x27;+_p(&#x27;search.title&#x27;)</span><br><span class="line">    !=partial(&#x27;includes/header/menu_item&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"></span><br><span class="line">    #toggle-menu</span><br><span class="line">      a.site-page</span><br><span class="line">        i.fas.fa-bars.fa-fw</span><br></pre></td></tr></table></figure>
<h2 id="黑夜霓虹灯1-0（js计时器实现）"><a href="#黑夜霓虹灯1-0（js计时器实现）" class="headerlink" title="*黑夜霓虹灯1.0（js计时器实现）"></a>*黑夜霓虹灯1.0（js计时器实现）</h2><p>此教程会有两处地方有霓虹灯效果：一个是大标题和个人信息的动态霓虹灯，默认周期为1200ms；另外的是菜单栏的小字有夜光效果，为你的博客增添几分赛博朋克风~</p>
<ol>
<li><p>首先在自定义的样式文件<code>[BlogRoot]\source\css\custom.css</code>中引入以下代码，变量部分<code>var(--theme-color)</code>可以换为自己喜欢的颜色，例如紫色<code>rgb(179, 71, 241)</code>，后面的颜色连续渐变效果根据个人喜好选择，有的人喜欢连续的，有的人喜欢断续的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">/* 夜间模式菜单栏发光字 */</span><br><span class="line">[data-theme=&quot;dark&quot;] #nav .site-page,</span><br><span class="line">[data-theme=&quot;dark&quot;] #nav .menus_items .menus_item .menus_item_child li a &#123;</span><br><span class="line">  text-shadow: 0 0 2px var(--theme-color) !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 手机端适配 */</span><br><span class="line">[data-theme=&quot;dark&quot;] #sidebar #sidebar-menus .menus_items .site-page &#123;</span><br><span class="line">  text-shadow: 0 0 2px var(--theme-color) !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 闪烁变动颜色连续渐变 */</span><br><span class="line">#site-name,</span><br><span class="line">#site-title,</span><br><span class="line">#site-subtitle,</span><br><span class="line">#post-info,</span><br><span class="line">.author-info__name,</span><br><span class="line">.author-info__description &#123;</span><br><span class="line">  transition: text-shadow 1s linear !important;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>新建文件<code>[BlogRoot]\source\js\light.js</code>并写入以下代码，本质就是计时器，大家可以根据自己的喜好调节闪烁周期，默认为<code>1200ms</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">// 霓虹灯效果</span><br><span class="line">// 颜色数组</span><br><span class="line">var arr = [&quot;#39c5bb&quot;, &quot;#f14747&quot;, &quot;#f1a247&quot;, &quot;#f1ee47&quot;, &quot;#b347f1&quot;, &quot;#1edbff&quot;, &quot;#ed709b&quot;, &quot;#5636ed&quot;];</span><br><span class="line">// 颜色索引</span><br><span class="line">var idx = 0;</span><br><span class="line"></span><br><span class="line">// 切换颜色</span><br><span class="line">function changeColor() &#123;</span><br><span class="line">    // 仅夜间模式才启用</span><br><span class="line">    if (document.getElementsByTagName(&#x27;html&#x27;)[0].getAttribute(&#x27;data-theme&#x27;) == &#x27;dark&#x27;) &#123;</span><br><span class="line">        if (document.getElementById(&quot;site-name&quot;))</span><br><span class="line">            document.getElementById(&quot;site-name&quot;).style.textShadow = arr[idx] + &quot; 0 0 15px&quot;;</span><br><span class="line">        if (document.getElementById(&quot;site-title&quot;))</span><br><span class="line">            document.getElementById(&quot;site-title&quot;).style.textShadow = arr[idx] + &quot; 0 0 15px&quot;;</span><br><span class="line">        if (document.getElementById(&quot;site-subtitle&quot;))</span><br><span class="line">            document.getElementById(&quot;site-subtitle&quot;).style.textShadow = arr[idx] + &quot; 0 0 10px&quot;;</span><br><span class="line">        if (document.getElementById(&quot;post-info&quot;))</span><br><span class="line">            document.getElementById(&quot;post-info&quot;).style.textShadow = arr[idx] + &quot; 0 0 5px&quot;;</span><br><span class="line">        try &#123;</span><br><span class="line">            document.getElementsByClassName(&quot;author-info__name&quot;)[0].style.textShadow = arr[idx] + &quot; 0 0 12px&quot;;</span><br><span class="line">            document.getElementsByClassName(&quot;author-info__description&quot;)[0].style.textShadow = arr[idx] + &quot; 0 0 12px&quot;;</span><br><span class="line">        &#125; catch &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        idx++;</span><br><span class="line">        if (idx == 8) &#123;</span><br><span class="line">            idx = 0;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // 白天模式恢复默认</span><br><span class="line">        if (document.getElementById(&quot;site-name&quot;))</span><br><span class="line">            document.getElementById(&quot;site-name&quot;).style.textShadow = &quot;#1e1e1ee0 1px 1px 1px&quot;;</span><br><span class="line">        if (document.getElementById(&quot;site-title&quot;))</span><br><span class="line">            document.getElementById(&quot;site-title&quot;).style.textShadow = &quot;#1e1e1ee0 1px 1px 1px&quot;;</span><br><span class="line">        if (document.getElementById(&quot;site-subtitle&quot;))</span><br><span class="line">            document.getElementById(&quot;site-subtitle&quot;).style.textShadow = &quot;#1e1e1ee0 1px 1px 1px&quot;;</span><br><span class="line">        if (document.getElementById(&quot;post-info&quot;))</span><br><span class="line">            document.getElementById(&quot;post-info&quot;).style.textShadow = &quot;#1e1e1ee0 1px 1px 1px&quot;;</span><br><span class="line">        try &#123;</span><br><span class="line">            document.getElementsByClassName(&quot;author-info__name&quot;)[0].style.textShadow = &quot;&quot;;</span><br><span class="line">            document.getElementsByClassName(&quot;author-info__description&quot;)[0].style.textShadow = &quot;&quot;;</span><br><span class="line">        &#125; catch &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 开启计时器</span><br><span class="line">window.onload = setInterval(changeColor, 1200);</span><br></pre></td></tr></table></figure>
</li>
<li><p>在主题配置文件<code>_config.butterfly.yml</code>引入以上两个文件，要注意的是，js文件这里必须为<code>defer</code>，不能为<code>ansyc</code>，保证脚本会延迟到整个页面都解析完后再执行，此时才有对应的元素进行操作：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/custom.css&quot; media=&quot;defer&quot; onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span><br><span class="line">  bottom: </span><br><span class="line">    - &lt;script defer src=&quot;/js/light.js&quot;&gt;&lt;/script&gt; # 霓虹灯(必须defer否则有时候会不生效)</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启项目即可看到效果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl; hexo s</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="星空背景和流星特效"><a href="#星空背景和流星特效" class="headerlink" title="*星空背景和流星特效"></a>*星空背景和流星特效</h2><ol>
<li><p>在<code>[BlogRoot]/source/js</code>目录下新建<code>universe.js</code>，输入以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line">function dark() &#123;window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var n,e,i,h,t=.05,s=document.getElementById(&quot;universe&quot;),o=!0,a=&quot;180,184,240&quot;,r=&quot;226,225,142&quot;,d=&quot;226,225,224&quot;,c=[];function f()&#123;n=window.innerWidth,e=window.innerHeight,i=.216*n,s.setAttribute(&quot;width&quot;,n),s.setAttribute(&quot;height&quot;,e)&#125;function u()&#123;h.clearRect(0,0,n,e);for(var t=c.length,i=0;i&lt;t;i++)&#123;var s=c[i];s.move(),s.fadeIn(),s.fadeOut(),s.draw()&#125;&#125;function y()&#123;this.reset=function()&#123;this.giant=m(3),this.comet=!this.giant&amp;&amp;!o&amp;&amp;m(10),this.x=l(0,n-10),this.y=l(0,e),this.r=l(1.1,2.6),this.dx=l(t,6*t)+(this.comet+1-1)*t*l(50,120)+2*t,this.dy=-l(t,6*t)-(this.comet+1-1)*t*l(50,120),this.fadingOut=null,this.fadingIn=!0,this.opacity=0,this.opacityTresh=l(.2,1-.4*(this.comet+1-1)),this.do=l(5e-4,.002)+.001*(this.comet+1-1)&#125;,this.fadeIn=function()&#123;this.fadingIn&amp;&amp;(this.fadingIn=!(this.opacity&gt;this.opacityTresh),this.opacity+=this.do)&#125;,this.fadeOut=function()&#123;this.fadingOut&amp;&amp;(this.fadingOut=!(this.opacity&lt;0),this.opacity-=this.do/2,(this.x&gt;n||this.y&lt;0)&amp;&amp;(this.fadingOut=!1,this.reset()))&#125;,this.draw=function()&#123;if(h.beginPath(),this.giant)h.fillStyle=&quot;rgba(&quot;+a+&quot;,&quot;+this.opacity+&quot;)&quot;,h.arc(this.x,this.y,2,0,2*Math.PI,!1);else if(this.comet)&#123;h.fillStyle=&quot;rgba(&quot;+d+&quot;,&quot;+this.opacity+&quot;)&quot;,h.arc(this.x,this.y,1.5,0,2*Math.PI,!1);for(var t=0;t&lt;30;t++)h.fillStyle=&quot;rgba(&quot;+d+&quot;,&quot;+(this.opacity-this.opacity/20*t)+&quot;)&quot;,h.rect(this.x-this.dx/4*t,this.y-this.dy/4*t-2,2,2),h.fill()&#125;else h.fillStyle=&quot;rgba(&quot;+r+&quot;,&quot;+this.opacity+&quot;)&quot;,h.rect(this.x,this.y,this.r,this.r);h.closePath(),h.fill()&#125;,this.move=function()&#123;this.x+=this.dx,this.y+=this.dy,!1===this.fadingOut&amp;&amp;this.reset(),(this.x&gt;n-n/4||this.y&lt;0)&amp;&amp;(this.fadingOut=!0)&#125;,setTimeout(function()&#123;o=!1&#125;,50)&#125;function m(t)&#123;return Math.floor(1e3*Math.random())+1&lt;10*t&#125;function l(t,i)&#123;return Math.random()*(i-t)+t&#125;f(),window.addEventListener(&quot;resize&quot;,f,!1),function()&#123;h=s.getContext(&quot;2d&quot;);for(var t=0;t&lt;i;t++)c[t]=new y,c[t].reset();u()&#125;(),function t()&#123;document.getElementsByTagName(&#x27;html&#x27;)[0].getAttribute(&#x27;data-theme&#x27;)==&#x27;dark&#x27;&amp;&amp;u(),window.requestAnimationFrame(t)&#125;()&#125;;</span><br><span class="line">dark()</span><br></pre></td></tr></table></figure>
</li>
<li><p>在<code>[BlogRoot]/source/css</code>目录下新建<code>universe.css</code>，输入以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/* 背景宇宙星光  */</span><br><span class="line">#universe&#123;</span><br><span class="line">  display: block;</span><br><span class="line">  position: fixed;</span><br><span class="line">  margin: 0;</span><br><span class="line">  padding: 0;</span><br><span class="line">  border: 0;</span><br><span class="line">  outline: 0;</span><br><span class="line">  left: 0;</span><br><span class="line">  top: 0;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 100%;</span><br><span class="line">  pointer-events: none;</span><br><span class="line">  /* 这个是调置顶的优先级的，-1在文章页下面，背景上面，个人推荐这种 */</span><br><span class="line">  z-index: -1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在主题配置文件<code>_config.butterfly.yml</code>的<code>inject</code>配置项中<code>bottom</code>下填入：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  bottom:</span><br><span class="line">   - &lt;canvas id=&quot;universe&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">   - &lt;script defer src=&quot;/js/universe.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在主题配置文件<code>_config.butterfly.yml</code>的<code>inject</code>配置项中<code>head</code>下填入：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">   - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/universe.css&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>重新编译即可看到效果。</p>
</li>
</ol>
<h2 id="侧边栏电子时钟-安知鱼"><a href="#侧边栏电子时钟-安知鱼" class="headerlink" title="侧边栏电子时钟(安知鱼)"></a>侧边栏电子时钟(安知鱼)</h2><ol>
<li><p>如果有安装店长的插件版侧边栏电子钟（与店长的电子钟冲突），在博客根目录<code>[BlogRoot]</code>下打开终端，运行以下指令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 卸载原版电子钟</span><br><span class="line">npm uninstall hexo-butterfly-clock</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装插件,在博客根目录<code>[BlogRoot]</code>下打开终端，运行以下指令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-clock-anzhiyu --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加配置信息，以下为写法示例<br>在主题配置文件<code>_config.butterfly.yml</code>（注意一定要主题配置文件）中添加：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># electric_clock (安知鱼电子钟)</span><br><span class="line"># see https://anzhiy.cn/posts/fc18.html</span><br><span class="line">electric_clock:</span><br><span class="line">  enable: true # 开关</span><br><span class="line">  priority: 5 #过滤器优先权</span><br><span class="line">  enable_page: / # 应用页面</span><br><span class="line">  exclude:</span><br><span class="line">    # - /posts/</span><br><span class="line">    # - /about/</span><br><span class="line">  layout: # 挂载容器类型</span><br><span class="line">    type: class</span><br><span class="line">    name: sticky_layout</span><br><span class="line">    index: 0</span><br><span class="line">  loading: https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif #加载动画自定义</span><br><span class="line">  clock_css: https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css</span><br><span class="line">  clock_js: https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js</span><br><span class="line">  ip_api: https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0</span><br><span class="line">  qweather_key:  # 和风天气key</span><br><span class="line">  gaud_map_key:  # 高得地图web服务key</span><br><span class="line">  default_rectangle: false # 开启后将一直显示rectangle位置的天气，否则将获取访问者的地理位置与天气</span><br><span class="line">  rectangle: 113.34532,23.15624 # 获取访问者位置失败时会显示该位置的天气，同时该位置为开启default_rectangle后的位置</span><br></pre></td></tr></table></figure>
<p>其中qweather_key 和gaud_map_key 最好自己去申请对应的 api key，不保证可靠性。</p>
</li>
<li><p>参数释义</p>
</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数</th>
<th>备选值/类型</th>
<th>释义</th>
</tr>
</thead>
<tbody>
<tr>
<td>priority</td>
<td>number</td>
<td>【可选】过滤器优先级，数值越小，执行越早，默认为 10，选填</td>
</tr>
<tr>
<td>enable</td>
<td>true/false</td>
<td>【必选】控制开关</td>
</tr>
<tr>
<td>enable_page</td>
<td>path/all</td>
<td>【可选】填写想要应用的页面的相对路径（即路由地址）,如根目录就填’/‘,分类页面就填’/categories/‘。若要应用于所有页面，就填’all’，默认为 all</td>
</tr>
<tr>
<td>exclude</td>
<td>path</td>
<td>【可选】填写想要屏蔽的页面，可以多个。写法见示例。原理是将屏蔽项的内容逐个放到当前路径去匹配，若当前路径包含任一屏蔽项，则不会挂载。</td>
</tr>
<tr>
<td>layout.type</td>
<td>id/class</td>
<td>【可选】挂载容器类型，填写 id 或 class，不填则默认为 id</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://layout.name/">layout.name</a></td>
<td>text</td>
<td>【必选】挂载容器名称</td>
</tr>
<tr>
<td>layout.index</td>
<td>0和正整数</td>
<td>【可选】前提是 layout.type 为 class，因为同一页面可能有多个 class，此项用来确认究竟排在第几个顺位</td>
</tr>
<tr>
<td>loading</td>
<td>URL</td>
<td>【可选】电子钟加载动画的图片</td>
</tr>
<tr>
<td>clock_css</td>
<td>URL</td>
<td>【可选】电子钟样式 CDN 资源</td>
</tr>
<tr>
<td>clock_js</td>
<td>URL</td>
<td>【可选】电子钟执行脚本 CDN 资源</td>
</tr>
<tr>
<td>ip_api</td>
<td>URL</td>
<td>【可选】获取时钟 IP 的 API</td>
</tr>
<tr>
<td>qweather_key</td>
<td>text</td>
<td>【可选】和风天气 key</td>
</tr>
<tr>
<td>gaud_map_key</td>
<td>text</td>
<td>【可选】高得地图 web 服务 key</td>
</tr>
<tr>
<td>default_rectangle</td>
<td>text</td>
<td>【可选】开启后将一直显示 rectangle 位置的天气，否则将获取访问者的地理位置与天气</td>
</tr>
<tr>
<td>rectangle</td>
<td>text</td>
<td>【可选】获取访问者位置失败时会显示该位置的天气，同时该位置为开启 default_rectangle 后的位置</td>
</tr>
</tbody>
</table>
</div>
<p>一、<code>qweather_key</code>申请地址: <a target="_blank" rel="noopener" href="https://id.qweather.com/#/login">https://id.qweather.com/#/login</a></p>
<ol>
<li>登录后进入控制台</li>
<li>创建应用</li>
<li>填写应用名称和 key 名称随意</li>
<li>选择 WebApi</li>
<li>复制 key</li>
</ol>
<p>二、<code>gaud_map_key</code> 申请地址: <a target="_blank" rel="noopener" href="https://lbs.amap.com/">https://lbs.amap.com/</a></p>
<ol>
<li>登录后进入控制台</li>
<li>创建应用，名称随意，类型选其他</li>
<li>点击添加, <code>key</code>名称随意，<code>服务平台</code>选择<code>Web服务</code>,点击提交</li>
<li>复制 key</li>
</ol>
<h2 id="个人卡片渐变色"><a href="#个人卡片渐变色" class="headerlink" title="个人卡片渐变色"></a>个人卡片渐变色</h2><p>在<code>[BlogRoot]\source\css\custom.css</code>自定义样式的文件中引入如下代码（最后记得在<code>inject</code>配置项引入!!!）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">/* 侧边栏个人信息卡片动态渐变色 */</span><br><span class="line">#aside-content &gt; .card-widget.card-info &#123;</span><br><span class="line">  background: linear-gradient(</span><br><span class="line">    -45deg,</span><br><span class="line">    #e8d8b9,</span><br><span class="line">    #eccec5,</span><br><span class="line">    #a3e9eb,</span><br><span class="line">    #bdbdf0,</span><br><span class="line">    #eec1ea</span><br><span class="line">  );</span><br><span class="line">  box-shadow: 0 0 5px rgb(66, 68, 68);</span><br><span class="line">  position: relative;</span><br><span class="line">  background-size: 400% 400%;</span><br><span class="line">  -webkit-animation: Gradient 10s ease infinite;</span><br><span class="line">  -moz-animation: Gradient 10s ease infinite;</span><br><span class="line">  animation: Gradient 10s ease infinite !important;</span><br><span class="line">&#125;</span><br><span class="line">@-webkit-keyframes Gradient &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    background-position: 0% 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  50% &#123;</span><br><span class="line">    background-position: 100% 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    background-position: 0% 50%;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@-moz-keyframes Gradient &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    background-position: 0% 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  50% &#123;</span><br><span class="line">    background-position: 100% 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    background-position: 0% 50%;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes Gradient &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    background-position: 0% 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  50% &#123;</span><br><span class="line">    background-position: 100% 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    background-position: 0% 50%;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 黑夜模式适配 */</span><br><span class="line">[data-theme=&quot;dark&quot;] #aside-content &gt; .card-widget.card-info &#123;</span><br><span class="line">  background: #191919ee;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 个人信息Follow me按钮 */</span><br><span class="line">#aside-content &gt; .card-widget.card-info &gt; #card-info-btn &#123;</span><br><span class="line">  background-color: #3eb8be;</span><br><span class="line">  border-radius: 8px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="外挂标签的引入（店长）"><a href="#外挂标签的引入（店长）" class="headerlink" title="外挂标签的引入（店长）"></a>外挂标签的引入（店长）</h2><ol>
<li><p>安装插件,在博客根目录<code>[BlogRoot]</code>下打开终端，运行以下指令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-tag-plugins-plus --save</span><br></pre></td></tr></table></figure>
<p>考虑到hexo自带的markdown渲染插件<code>hexo-renderer-marked</code>与外挂标签语法的兼容性较差，建议您将其替换成<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/hexo-renderer-kramed">hexo-renderer-kramed</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中添加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 外挂标签</span><br><span class="line"># tag-plugins-plus</span><br><span class="line"># see https://akilar.top/posts/615e2dec/</span><br><span class="line">tag_plugins:</span><br><span class="line">  enable: true # 开关</span><br><span class="line">  priority: 5 #过滤器优先权</span><br><span class="line">  issues: false #issues标签依赖注入开关</span><br><span class="line">  link:</span><br><span class="line">    placeholder: /img/siteicon/64.png #link_card标签默认的图标图片</span><br><span class="line">  CDN:</span><br><span class="line">    anima: https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css #动画标签anima的依赖</span><br><span class="line">    jquery: https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js #issues标签依赖</span><br><span class="line">    issues: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/issues.js #issues标签依赖</span><br><span class="line">    iconfont: /js/ali_font_all.js #参看https://akilar.top/posts/d2ebecef/</span><br><span class="line">    carousel: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js</span><br><span class="line">    tag_plugins_css: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数释义</p>
</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">备选值/类型</th>
<th style="text-align:left">释义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">enable</td>
<td style="text-align:left">true/false</td>
<td style="text-align:left">【必选】控制开关</td>
</tr>
<tr>
<td style="text-align:left">priority</td>
<td style="text-align:left">number</td>
<td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td>
</tr>
<tr>
<td style="text-align:left">issues</td>
<td style="text-align:left">true/false</td>
<td style="text-align:left">【可选】issues标签控制开关，默认为false</td>
</tr>
<tr>
<td style="text-align:left">link.placeholder</td>
<td style="text-align:left">【必选】link卡片外挂标签的默认图标</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">CDN.anima</td>
<td style="text-align:left">URL</td>
<td style="text-align:left">【可选】动画标签anima的依赖</td>
</tr>
<tr>
<td style="text-align:left">CDN.jquery</td>
<td style="text-align:left">URL</td>
<td style="text-align:left">【可选】issues标签依赖</td>
</tr>
<tr>
<td style="text-align:left">CDN.issues</td>
<td style="text-align:left">URL</td>
<td style="text-align:left">【可选】issues标签依赖</td>
</tr>
<tr>
<td style="text-align:left">CDN.iconfont</td>
<td style="text-align:left">URL</td>
<td style="text-align:left">【可选】iconfont标签symbol样式引入，如果不想引入，则设为false</td>
</tr>
<tr>
<td style="text-align:left">CDN.carousel</td>
<td style="text-align:left">URL</td>
<td style="text-align:left">【可选】carousel旋转相册标签鼠标拖动依赖，如果不想引入则设为false</td>
</tr>
<tr>
<td style="text-align:left">CDN.tag_plugins_css</td>
<td style="text-align:left">URL</td>
<td style="text-align:left">【可选】外挂标签样式的CSS依赖，为避免CDN缓存延迟，建议将@latest改为具体版本号</td>
</tr>
</tbody>
</table>
</div>
<p>具体样式和写法可见：<a target="_blank" rel="noopener" href="https://www.fomal.cc/posts/2013454d.html">Markdown语法与外挂标签写法汇总</a></p>
<p>iconfont选项，可将font自行下载放在source/js/目录下，新建目录</p>
<h2 id="听话的鼠标魔改"><a href="#听话的鼠标魔改" class="headerlink" title="*听话的鼠标魔改"></a>*听话的鼠标魔改</h2><ol>
<li><p>新建文件<code>[BlogRoot]\source\js\cursor.js</code>，在里面写上如下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">JS</span><br><span class="line">复制成功var CURSOR;</span><br><span class="line"></span><br><span class="line">Math.lerp = (a, b, n) =&gt; (1 - n) * a + n * b;</span><br><span class="line"></span><br><span class="line">const getStyle = (el, attr) =&gt; &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        return window.getComputedStyle</span><br><span class="line">            ? window.getComputedStyle(el)[attr]</span><br><span class="line">            : el.currentStyle[attr];</span><br><span class="line">    &#125; catch (e) &#123;&#125;</span><br><span class="line">    return &quot;&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">class Cursor &#123;</span><br><span class="line">    constructor() &#123;</span><br><span class="line">        this.pos = &#123;curr: null, prev: null&#125;;</span><br><span class="line">        this.pt = [];</span><br><span class="line">        this.create();</span><br><span class="line">        this.init();</span><br><span class="line">        this.render();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    move(left, top) &#123;</span><br><span class="line">        this.cursor.style[&quot;left&quot;] = `$&#123;left&#125;px`;</span><br><span class="line">        this.cursor.style[&quot;top&quot;] = `$&#123;top&#125;px`;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    create() &#123;</span><br><span class="line">        if (!this.cursor) &#123;</span><br><span class="line">            this.cursor = document.createElement(&quot;div&quot;);</span><br><span class="line">            this.cursor.id = &quot;cursor&quot;;</span><br><span class="line">            this.cursor.classList.add(&quot;hidden&quot;);</span><br><span class="line">            document.body.append(this.cursor);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        var el = document.getElementsByTagName(&#x27;*&#x27;);</span><br><span class="line">        for (let i = 0; i &lt; el.length; i++)</span><br><span class="line">            if (getStyle(el[i], &quot;cursor&quot;) == &quot;pointer&quot;)</span><br><span class="line">                this.pt.push(el[i].outerHTML);</span><br><span class="line"></span><br><span class="line">        document.body.appendChild((this.scr = document.createElement(&quot;style&quot;)));</span><br><span class="line">        // 这里改变鼠标指针的颜色 由svg生成</span><br><span class="line">        this.scr.innerHTML = `* &#123;cursor: url(&quot;data:image/svg+xml,&lt;svg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 8 8&#x27; width=&#x27;8px&#x27; height=&#x27;8px&#x27;&gt;&lt;circle cx=&#x27;4&#x27; cy=&#x27;4&#x27; r=&#x27;4&#x27; opacity=&#x27;.5&#x27;/&gt;&lt;/svg&gt;&quot;) 4 4, auto&#125;`;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    refresh() &#123;</span><br><span class="line">        this.scr.remove();</span><br><span class="line">        this.cursor.classList.remove(&quot;hover&quot;);</span><br><span class="line">        this.cursor.classList.remove(&quot;active&quot;);</span><br><span class="line">        this.pos = &#123;curr: null, prev: null&#125;;</span><br><span class="line">        this.pt = [];</span><br><span class="line"></span><br><span class="line">        this.create();</span><br><span class="line">        this.init();</span><br><span class="line">        this.render();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    init() &#123;</span><br><span class="line">        document.onmouseover  = e =&gt; this.pt.includes(e.target.outerHTML) &amp;&amp; this.cursor.classList.add(&quot;hover&quot;);</span><br><span class="line">        document.onmouseout   = e =&gt; this.pt.includes(e.target.outerHTML) &amp;&amp; this.cursor.classList.remove(&quot;hover&quot;);</span><br><span class="line">        document.onmousemove  = e =&gt; &#123;(this.pos.curr == null) &amp;&amp; this.move(e.clientX - 8, e.clientY - 8); this.pos.curr = &#123;x: e.clientX - 8, y: e.clientY - 8&#125;; this.cursor.classList.remove(&quot;hidden&quot;);&#125;;</span><br><span class="line">        document.onmouseenter = e =&gt; this.cursor.classList.remove(&quot;hidden&quot;);</span><br><span class="line">        document.onmouseleave = e =&gt; this.cursor.classList.add(&quot;hidden&quot;);</span><br><span class="line">        document.onmousedown  = e =&gt; this.cursor.classList.add(&quot;active&quot;);</span><br><span class="line">        document.onmouseup    = e =&gt; this.cursor.classList.remove(&quot;active&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        if (this.pos.prev) &#123;</span><br><span class="line">            this.pos.prev.x = Math.lerp(this.pos.prev.x, this.pos.curr.x, 0.15);</span><br><span class="line">            this.pos.prev.y = Math.lerp(this.pos.prev.y, this.pos.curr.y, 0.15);</span><br><span class="line">            this.move(this.pos.prev.x, this.pos.prev.y);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            this.pos.prev = this.pos.curr;</span><br><span class="line">        &#125;</span><br><span class="line">        requestAnimationFrame(() =&gt; this.render());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(() =&gt; &#123;</span><br><span class="line">    CURSOR = new Cursor();</span><br><span class="line">    // 需要重新获取列表时，使用 CURSOR.refresh()</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<p>其中比较重要的参数就是鼠标的尺寸和颜色，已经在上图中标出，目前发现颜色只支持RGB写法和固有名称写法（例如red这种），其他参数也可以自行摸索：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* &#123;cursor: url(&quot;data:image/svg+xml,&lt;svg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 8 8&#x27; width=&#x27;8px&#x27; height=&#x27;8px&#x27;&gt;&lt;circle cx=&#x27;4&#x27; cy=&#x27;4&#x27; r=&#x27;4&#x27; opacity=&#x27;1.0&#x27; fill=&#x27;rgb(57, 197, 187)&#x27;/&gt;&lt;/svg&gt;&quot;) 4 4, auto&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在<code>[BlogRoot]\source\css\custom.css</code>添加如下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">/* 鼠标样式 */</span><br><span class="line">#cursor &#123;</span><br><span class="line">  position: fixed;</span><br><span class="line">  width: 16px;</span><br><span class="line">  height: 16px;</span><br><span class="line">  /* 这里改变跟随的底色 */</span><br><span class="line">  background: var(--theme-color);</span><br><span class="line">  border-radius: 8px;</span><br><span class="line">  opacity: 0.25;</span><br><span class="line">  z-index: 10086;</span><br><span class="line">  pointer-events: none;</span><br><span class="line">  transition: 0.2s ease-in-out;</span><br><span class="line">  transition-property: background, opacity, transform;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#cursor.hidden &#123;</span><br><span class="line">  opacity: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#cursor.hover &#123;</span><br><span class="line">  opacity: 0.1;</span><br><span class="line">  transform: scale(2.5);</span><br><span class="line">  -webkit-transform: scale(2.5);</span><br><span class="line">  -moz-transform: scale(2.5);</span><br><span class="line">  -ms-transform: scale(2.5);</span><br><span class="line">  -o-transform: scale(2.5);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#cursor.active &#123;</span><br><span class="line">  opacity: 0.5;</span><br><span class="line">  transform: scale(0.5);</span><br><span class="line">  -webkit-transform: scale(0.5);</span><br><span class="line">  -moz-transform: scale(0.5);</span><br><span class="line">  -ms-transform: scale(0.5);</span><br><span class="line">  -o-transform: scale(0.5);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里比较重要的参数就是鼠标跟随的圆形颜色，可以根据自己的喜好进行更改：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#cursor &#123;</span><br><span class="line">  /* 这里改变跟随的底色 */</span><br><span class="line">  background: rgb(57, 197, 187);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在主题配置文件<code>_config.butterfly.yml</code>文件的<code>inject</code>配置项引入刚刚创建的<code>css</code>文件和<code>js</code>文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inject: </span><br><span class="line">  bottom:</span><br><span class="line">+    - &lt;script defer src=&quot;/js/cursor.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启项目即可看见效果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl; hexo s</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="页面样式调节"><a href="#页面样式调节" class="headerlink" title="*页面样式调节"></a>*页面样式调节</h2><p>这个教程是通过css样式调节各个页面透明度、模糊度（亚克力效果）、圆角、边框样式等，看起来会更加舒适。</p>
<ol>
<li><p>复制以下代码进去自定义的<code>custom.css</code>文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">:root &#123;</span><br><span class="line">  --trans-light: rgba(255, 255, 255, 0.88);</span><br><span class="line">  --trans-dark: rgba(25, 25, 25, 0.88);</span><br><span class="line">  --border-style: 1px solid rgb(169, 169, 169);</span><br><span class="line">  --backdrop-filter: blur(5px) saturate(150%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 首页文章卡片 */</span><br><span class="line">#recent-posts &gt; .recent-post-item &#123;</span><br><span class="line">  background: var(--trans-light);</span><br><span class="line">  backdrop-filter: var(--backdrop-filter);</span><br><span class="line">  border-radius: 25px;</span><br><span class="line">  border: var(--border-style);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 首页侧栏卡片 */</span><br><span class="line">#aside-content .card-widget &#123;</span><br><span class="line">  background: var(--trans-light);</span><br><span class="line">  backdrop-filter: var(--backdrop-filter);</span><br><span class="line">  border-radius: 18px;</span><br><span class="line">  border: var(--border-style);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 文章页、归档页、普通页面 */</span><br><span class="line">div#post,</span><br><span class="line">div#page,</span><br><span class="line">div#archive &#123;</span><br><span class="line">  background: var(--trans-light);</span><br><span class="line">  backdrop-filter: var(--backdrop-filter);</span><br><span class="line">  border: var(--border-style);</span><br><span class="line">  border-radius: 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 导航栏 */</span><br><span class="line">#page-header.nav-fixed #nav &#123;</span><br><span class="line">  background: rgba(255, 255, 255, 0.75);</span><br><span class="line">  backdrop-filter: var(--backdrop-filter);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[data-theme=&quot;dark&quot;] #page-header.nav-fixed #nav &#123;</span><br><span class="line">  background: rgba(0, 0, 0, 0.7) !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 夜间模式遮罩 */</span><br><span class="line">[data-theme=&quot;dark&quot;] #recent-posts &gt; .recent-post-item,</span><br><span class="line">[data-theme=&quot;dark&quot;] #aside-content .card-widget,</span><br><span class="line">[data-theme=&quot;dark&quot;] div#post,</span><br><span class="line">[data-theme=&quot;dark&quot;] div#archive,</span><br><span class="line">[data-theme=&quot;dark&quot;] div#page &#123;</span><br><span class="line">  background: var(--trans-dark);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/* 夜间模式页脚页头遮罩透明 */</span><br><span class="line">[data-theme=&quot;dark&quot;] #footer::before &#123;</span><br><span class="line">  background: transparent !important;</span><br><span class="line">&#125;</span><br><span class="line">[data-theme=&quot;dark&quot;] #page-header::before &#123;</span><br><span class="line">  background: transparent !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 阅读模式 */</span><br><span class="line">.read-mode #aside-content .card-widget &#123;</span><br><span class="line">  background: rgba(158, 204, 171, 0.5) !important;</span><br><span class="line">&#125;</span><br><span class="line">.read-mode div#post &#123;</span><br><span class="line">  background: rgba(158, 204, 171, 0.5) !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 夜间模式下的阅读模式 */</span><br><span class="line">[data-theme=&quot;dark&quot;] .read-mode #aside-content .card-widget &#123;</span><br><span class="line">  background: rgba(25, 25, 25, 0.9) !important;</span><br><span class="line">  color: #ffffff;</span><br><span class="line">&#125;</span><br><span class="line">[data-theme=&quot;dark&quot;] .read-mode div#post &#123;</span><br><span class="line">  background: rgba(25, 25, 25, 0.9) !important;</span><br><span class="line">  color: #ffffff;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数说明：</p>
<ul>
<li><code>--trans-light</code>：白天模式带透明度的背景色，如<code>rgba(255, 255, 255, 0.88)</code>底色是纯白色，其中0.88就透明度，在0-1之间调节，值越大越不透明；</li>
<li><code>--trans-dark</code>: 夜间模式带透明度的背景色，如<code>rgba(25, 25, 25, 0.88)</code>底色是柔和黑色，其中0.88就透明度，在0-1之间调节，值越大越不透明;</li>
<li><code>--border-style</code>: 边框样式，<code>1px solid rgb(169, 169, 169)</code>指宽度为1px的灰色实体边框;</li>
<li><code>--backdrop-filter</code>: 背景过滤器，如<code>blur(5px) saturate(150%)</code>表示饱和度为150%的、高斯模糊半径为5px的过滤器，这是亚克力效果的一种实现方法;</li>
<li>大家可以根据自己喜好进行调节，不用拘泥于我的样式！</li>
</ul>
</li>
<li><p>记住在主题配置文件<code>_config.butterfly.yml</code>的<code>inject</code>配置项中引入该css文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inject: </span><br><span class="line">  head: </span><br><span class="line">+    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/custom.css&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启项目即可看见效果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl; hexo s</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="引入iconfont自定义图标（店长）"><a href="#引入iconfont自定义图标（店长）" class="headerlink" title="引入iconfont自定义图标（店长）"></a>引入iconfont自定义图标（店长）</h2><h3 id="新建图标项目"><a href="#新建图标项目" class="headerlink" title="新建图标项目"></a>新建图标项目</h3><ol>
<li><p>访问<a target="_blank" rel="noopener" href="https://www.iconfont.cn/">阿里巴巴矢量图标库</a>,注册登录。</p>
</li>
<li><p>搜索自己心仪的图标，然后选择<strong>添加入库</strong>，加到购物车。</p>
</li>
<li><p>选择完毕后点击右上角的购物车图标，打开侧栏，选择添加到项目，如果没有项目就新建一个。</p>
<p><img src="https://s1.vika.cn/space/2022/10/29/91ec7f6432274b42b50698ef554a2b91" alt="p4"></p>
</li>
<li><p>可以通过上方顶栏菜单-&gt;资源管理-&gt;我的项目，找到之前添加的图标项目。(现在的iconfont可以在图标库的项目设置里直接打开彩色设置，然后采用fontclass的引用方式即可使用多彩图标。但是<strong>单一项目彩色图标上限是40个图标</strong>，酌情采用。)</p>
<p><img src="https://gitee.com/Bluetom/img2/raw/master/img20230403/202309241235853.png" alt="image-20221029212836645"></p>
<p><img src="https://s1.vika.cn/space/2022/10/29/a1984c415cb7442ba088e7a489cb2d8a" alt="image-20221029212857202"></p>
</li>
</ol>
<h3 id="引入图标"><a href="#引入图标" class="headerlink" title="引入图标"></a>引入图标</h3><p>线上引入方案，我使用的是官方文档中最便捷的<code>font-class</code>方案。这一方案偶尔会出现图标加载不出的情况。但是便于随时对图标库进行升级，换一下在线链接即可，适合新手使用。最新版本的iconfont支持直接在项目设置中开启彩色图标，从而实现直接用class添加多彩色图标。（推荐直接用这个即可）</p>
<ol>
<li><p>在<code>[BlogRoot]\themes\butterfly\source\css\custom.css</code>中填写如下内容，引入Unicode和Font-class的线上资源：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;//at.alicdn.com/t/font_2264842_b004iy0kk2b.css&quot;;</span><br></pre></td></tr></table></figure>
<p>更推荐在在主题配置文件<code>inject</code>配置项进行全局引入：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    - &lt;link rel=&quot;stylesheet&quot; href=&quot;//at.alicdn.com/t/font_2264842_b004iy0kk2b.css&quot; media=&quot;defer&quot; onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span><br><span class="line">  bottom: </span><br><span class="line">    - &lt;script async src=&quot;//at.alicdn.com/t/font_2264842_b004iy0kk2b.js&quot;&gt;&lt;/script&gt; </span><br></pre></td></tr></table></figure>
</li>
<li><p>同时可以在自定义<code>CSS</code>中添加如下样式来控制图标默认大小和颜色等属性（<strong>若已经在项目设置中勾选了彩色选项，则无需再定义图标颜色</strong>），写法与字体样式类似，这恐怕也是它被称为<code>iconfont</code>（图标字体）的原因:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.iconfont &#123;</span><br><span class="line">  font-family: &quot;iconfont&quot; !important;</span><br><span class="line">  /* 这里可以自定义图标大小 */</span><br><span class="line">  font-size: 3em;</span><br><span class="line">  font-style: normal;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>可以通过自己的阿里图标库的font-class方案查询复制相应的<code>icon-xxxx</code>。</p>
</li>
</ol>
<h2 id="菜单栏多色动态图标（店长）"><a href="#菜单栏多色动态图标（店长）" class="headerlink" title="菜单栏多色动态图标（店长）"></a>菜单栏多色动态图标（店长）</h2><p>前置教程：<a target="_blank" rel="noopener" href="https://akilar.top/posts/d2ebecef/">Hexo引入阿里矢量图标库-iconfont inject</a>和<a target="_blank" rel="noopener" href="https://akilar.top/posts/615e2dec/#动态标签-anima">基于Butterfly的外挂标签引入-Tag Plugins Plus</a>中关于<code>动态标签anima</code>的内容。请确保您已经完成了前置教程，并实现了在文章中使用<code>symbol</code>写法来引入<code>iconfont</code>图标。同时引入了<code>fontawesome_animation</code>的前置依赖。<br>主要检查您的<code>inject</code>配置项中是否有这两个依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    #动画标签anima的依赖</span><br><span class="line">    - &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css&quot;  media=&quot;defer&quot; onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span><br><span class="line">  bottom:</span><br><span class="line">    # 阿里矢量图标,这串是我的图标库，你的链接会有所不同。</span><br><span class="line">    - &lt;script async src=&quot;//at.alicdn.com/t/font_2032782_ev6ytrh30f.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<ol>
<li><p>替换<code>[BlogRoot]\themes\butterfly\layout\includes\header\menu_item.pug</code>为以下代码，本方案默认使用观感最佳的悬停父元素触发子元素动画效果，默认动画为<code>faa-tada</code>。注意：可以把之前的代码注释掉，再在后面加上如下代码，以便于回滚，此代码在<code>butterfly 4.3.1</code> 上可以运行并保留hide字段隐藏子菜单的功能，其他版本自行测试。代码的本质并不复杂，就是扫描配置文件对应的配置项，然后根据<code>||</code>的分割标志筛选出对应的图标名称、对应链接等，从而渲染出html页面。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">if theme.menu</span><br><span class="line">  .menus_items</span><br><span class="line">    each value, label in theme.menu</span><br><span class="line">      if typeof value !== &#x27;object&#x27;</span><br><span class="line">        .menus_item</span><br><span class="line">          - const valueArray = value.split(&#x27;||&#x27;)</span><br><span class="line">          a.site-page.faa-parent.animated-hover(href=url_for(trim(value.split(&#x27;||&#x27;)[0])))</span><br><span class="line">            if valueArray[1]</span><br><span class="line">              i.fa-fw(class=trim(valueArray[1]))</span><br><span class="line">              - var icon_value = trim(value.split(&#x27;||&#x27;)[1])</span><br><span class="line">              - var anima_value = value.split(&#x27;||&#x27;)[2] ? trim(value.split(&#x27;||&#x27;)[2]) : &#x27;faa-tada&#x27;</span><br><span class="line">              if icon_value.substring(0,2)==&quot;fa&quot;      </span><br><span class="line">                i.fa-fw(class=icon_value + &#x27; &#x27; + anima_value)</span><br><span class="line">              else if icon_value.substring(0,4)==&quot;icon&quot;          </span><br><span class="line">                svg.icon(aria-hidden=&quot;true&quot; class=anima_value)</span><br><span class="line">                  use(xlink:href=`#`+ icon_value)</span><br><span class="line">            span=&#x27; &#x27;+label</span><br><span class="line">      else</span><br><span class="line">        .menus_item</span><br><span class="line">          - const labelArray = label.split(&#x27;||&#x27;)</span><br><span class="line">          - const hideClass = labelArray[3] &amp;&amp; trim(labelArray[3]) === &#x27;hide&#x27; ? &#x27;hide&#x27; : &#x27;&#x27;</span><br><span class="line">          a.site-page.group.faa-parent.animated-hover(class=`$&#123;hideClass&#125;` href=&#x27;javascript:void(0);&#x27;)</span><br><span class="line">            if labelArray[1]</span><br><span class="line">              - var icon_label = trim(label.split(&#x27;||&#x27;)[1])</span><br><span class="line">              - var anima_label = label.split(&#x27;||&#x27;)[2] ? trim(label.split(&#x27;||&#x27;)[2]) : &#x27;faa-tada&#x27;</span><br><span class="line">              if icon_label.substring(0,2)==&quot;fa&quot;      </span><br><span class="line">                i.fa-fw(class=icon_label + &#x27; &#x27; + anima_label)</span><br><span class="line">              else if icon_label.substring(0,4)==&quot;icon&quot;    </span><br><span class="line">                svg.icon(aria-hidden=&quot;true&quot; class=anima_label)</span><br><span class="line">                  use(xlink:href=`#`+ icon_label)</span><br><span class="line">            span=&#x27; &#x27;+ trim(labelArray[0])</span><br><span class="line">            i.fas.fa-chevron-down</span><br><span class="line">          ul.menus_item_child</span><br><span class="line">            each val,lab in value </span><br><span class="line">              - const valArray = val.split(&#x27;||&#x27;)</span><br><span class="line">              li</span><br><span class="line">                a.site-page.child.faa-parent.animated-hover(href=url_for(trim(val.split(&#x27;||&#x27;)[0])))</span><br><span class="line">                  if valArray[1]</span><br><span class="line">                    - var icon_val = trim(val.split(&#x27;||&#x27;)[1])</span><br><span class="line">                    - var anima_val = val.split(&#x27;||&#x27;)[2] ? trim(val.split(&#x27;||&#x27;)[2]) : &#x27;faa-tada&#x27;</span><br><span class="line">                    if icon_val.substring(0,2)==&quot;fa&quot;      </span><br><span class="line">                      i.fa-fw(class=icon_val + &#x27; &#x27; + anima_val)</span><br><span class="line">                    else if icon_val.substring(0,4)==&quot;icon&quot;</span><br><span class="line">                      svg.icon(aria-hidden=&quot;true&quot; class=anima_val)</span><br><span class="line">                        use(xlink:href=`#`+ icon_val)                    </span><br><span class="line">                  span=&#x27; &#x27;+ lab</span><br></pre></td></tr></table></figure>
</li>
<li><p>以下是填写示例，在<code>[BlogRoot]\_config.butterfly.yml</code>中修改。<code>icon-xxx</code>字样的为<code>iconfont</code>的<code>symbol</code>引入方案的<code>id</code>值，可以在你的<code>iconfont</code>图标库内查询，其中hide属性也是可以用的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  首页: / || fas fa-home || faa-tada</span><br><span class="line">  时间轴: /archives/ || fas fa-archive</span><br><span class="line">  闲言碎语: /artitalk/ || fas fa-comment-dots</span><br><span class="line">  音乐馆: /music/ || fas fa-music</span><br><span class="line">  分类: /categories/ || fas fa-folder-open</span><br><span class="line">  # List||fas fa-list:</span><br><span class="line">  #   Music: /music/ || fas fa-music</span><br><span class="line">  #   Movie: /movies/ || fas fa-video</span><br><span class="line"></span><br><span class="line">  朋友圈: /fcircle/ || fab fa-artstation</span><br><span class="line">  留言板: /comments/ || fas fa-envelope</span><br><span class="line">  友人帐: /link/ || fas fa-link</span><br><span class="line">  # 闲言碎语: /hpptalk/ || fas fa-comment-dots</span><br><span class="line">  追番: /bangumis/ || icon-bilibili1</span><br><span class="line">  关于: /about/ || icon-zhifeiji</span><br></pre></td></tr></table></figure>
</li>
<li><p>要注意的是，这里的动态图标是<code>svg.icon</code>的标签，因此上面调节<code>.iconfont</code>的css并不使用，我们需要在自定义样式文件<code>custom.css</code>里加上一些样式来限制图标的大小和颜色等，具体大小自行调节。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">svg.icon &#123;</span><br><span class="line">  width: 1.28em;</span><br><span class="line">  height: 1.28em;</span><br><span class="line">  vertical-align: -0.15em;</span><br><span class="line">  fill: currentColor;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启项目即可看到效果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl; hexo s</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="Social卡片彩色图标引入（店长）"><a href="#Social卡片彩色图标引入（店长）" class="headerlink" title="Social卡片彩色图标引入（店长）"></a>Social卡片彩色图标引入（店长）</h2><p>代码原理和上面的菜单栏基本一致，所以各个前置教程都不再重复，这里只提供代码魔改内容和配置项编写方案。（记住要引入了自己的图标再来看这个教程！！！）</p>
<ol>
<li><p>重写<code>[BlogRoot]\themes\butterfly\layout\includes\header\social.pug</code>,替换为以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">each value, title in theme.social</span><br><span class="line">  a.social-icon.faa-parent.animated-hover(href=url_for(trim(value.split(&#x27;||&#x27;)[0])) target=&quot;_blank&quot; title=title === undefined ? &#x27;&#x27; : trim(title))</span><br><span class="line">    if value.split(&#x27;||&#x27;)[1]</span><br><span class="line">      - var icon_value = trim(value.split(&#x27;||&#x27;)[1])</span><br><span class="line">      - var anima_value = value.split(&#x27;||&#x27;)[2] ? trim(value.split(&#x27;||&#x27;)[2]) : &#x27;faa-tada&#x27;</span><br><span class="line">      if icon_value.substring(0,2)==&quot;fa&quot;      </span><br><span class="line">        i.fa-fw(class=icon_value + &#x27; &#x27; + anima_value)</span><br><span class="line">      else if icon_value.substring(0,4)==&quot;icon&quot;          </span><br><span class="line">        svg.icon(aria-hidden=&quot;true&quot; class=anima_value)</span><br><span class="line">          use(xlink:href=`#`+ icon_value)</span><br></pre></td></tr></table></figure>
</li>
<li><p>以下为对应的<code>social</code>配置项。写法沿用<code>menu_item</code>的写法示例，修改<code>[BlogRoot]\_config.butterfly.yml</code>的<code>social</code>配置项，具体的链接改为自己的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  Github: https://github.com/ktzxy || icon-gitHub || faa-tada</span><br><span class="line">  Email: https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=222251511764@qq.com || icon-youxiang || faa-tada</span><br><span class="line">  RSS: atom.xml || icon-rss || faa-tada</span><br><span class="line">  BiliBili: https://space.bilibili.com/496148176 || icon-bilibili || faa-tada</span><br><span class="line">  QQ: tencent://Message/?Uin=2251511764&amp;amp;websiteName=local.edu.com:8888=&amp;amp;Menu=yes || icon-QQ1 || faa-tada</span><br></pre></td></tr></table></figure>
</li>
<li><p>要注意的是，这里的动态图标是<code>svg.icon</code>的标签，因此上面调节<code>.iconfont</code>的css并不使用，我们需要在自定义样式文件<code>custom.css</code>里加上一些样式来限制图标的大小和颜色等，具体大小自行调节（如果上面弄过菜单栏的图标大小，这里也就不需要再重复写了）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">svg.icon &#123;</span><br><span class="line">  width: 1.28em;</span><br><span class="line">  height: 1.28em;</span><br><span class="line">  vertical-align: -0.15em;</span><br><span class="line">  fill: currentColor;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>进阶操作：不知道大家发现没有，这个css对菜单栏的图标和对社交图标同时生效，但是有时候我们想这两者有不一样的大小，怎么办？其实很简单，只要我们给这两部分的图标元素贴上不同的“标签”就可以，这个标签可以是<code>id</code>，也可以是<code>class</code>，但是众所周知html中的id是唯一的，我们这里有多个图标，因此贴上不通的<code>class</code>比较合适，因此我们改造一下<code>[BlogRoot]\themes\butterfly\layout\includes\header\social.pug</code>这个文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">each value, title in theme.social</span><br><span class="line">  a.social-icon.faa-parent.animated-hover(href=url_for(trim(value.split(&#x27;||&#x27;)[0])) target=&quot;_blank&quot; title=title === undefined ? &#x27;&#x27; : trim(title))</span><br><span class="line">    if value.split(&#x27;||&#x27;)[1]</span><br><span class="line">      - var icon_value = trim(value.split(&#x27;||&#x27;)[1])</span><br><span class="line">      - var anima_value = value.split(&#x27;||&#x27;)[2] ? trim(value.split(&#x27;||&#x27;)[2]) : &#x27;faa-tada&#x27;</span><br><span class="line">      if icon_value.substring(0,2)==&quot;fa&quot;      </span><br><span class="line">        i.fa-fw(class=icon_value + &#x27; &#x27; + anima_value)</span><br><span class="line">      else if icon_value.substring(0,4)==&quot;icon&quot;          </span><br><span class="line">-        svg.icon(aria-hidden=&quot;true&quot; class=anima_value)</span><br><span class="line">+        svg.social_icon(aria-hidden=&quot;true&quot; class=anima_value)</span><br><span class="line">          use(xlink:href=`#`+ icon_value)</span><br></pre></td></tr></table></figure>
<p>上面的改动会将图标渲染成<code>class=social_icon</code>的标签，现在我们可以区分菜单栏还是社交的图标的，如果想调节社交图标的大小就用以下的css</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">svg.social_icon &#123;</span><br><span class="line">  width: 1.20em;</span><br><span class="line">  height: 1.20em;</span><br><span class="line">  vertical-align: -0.15em;</span><br><span class="line">  fill: currentColor;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>举一反三，要想专门用css改动菜单栏图标大小，只需要将<code>[BlogRoot]\themes\butterfly\layout\includes\header\menu_item.pug</code>文件中的<code>svg.icon</code>替换成<code>svg.menu_icon</code>，然后用以下的css</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">svg.menu_icon &#123;</span><br><span class="line">  width: 1.28em;</span><br><span class="line">  height: 1.28em;</span><br><span class="line">  vertical-align: -0.15em;</span><br><span class="line">  fill: currentColor;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启项目即可看到效果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl; hexo s</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="侧边栏图标和文字自定义"><a href="#侧边栏图标和文字自定义" class="headerlink" title="*侧边栏图标和文字自定义"></a>*侧边栏图标和文字自定义</h2><ol>
<li><p>进入<code>[BlogRoot]\themes\butterfly\layout\includes\widget\card_webinfo.pug</code>，进行以下修改，因为默认的图标是<code>font-awesome</code>的黑白图标，就是<code>i.fas.fa-chart-line</code>那一行，删除，然后引入新的图标标签，其中图标的样式、名称等参考自己的需要进行更改，样式主要是<code>width</code>、<code>height</code>、<code>position</code>、<code>top</code>这几个属性，这里的<code>animated-hover</code>和<code>faa-tada</code>是给对应的元素套上对应的class，如果装了动画依赖，扫描到这些class的元素会自动挂载动画样式，如果不想要可以去除。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">if theme.aside.card_webinfo.enable</span><br><span class="line">  .card-widget.card-webinfo</span><br><span class="line">    .item-headline</span><br><span class="line">-      i.fas.fa-chart-line</span><br><span class="line">+      a.faa-parent.animated-hover</span><br><span class="line">+       svg.faa-tada.icon(style=&quot;height:25px;width:25px;fill:currentColor;position:relative;top:5px&quot; aria-hidden=&quot;true&quot;)</span><br><span class="line">+        use(xlink:href=&#x27;#icon-shujutongji2&#x27;)</span><br><span class="line">      span= _p(&#x27;aside.card_webinfo.headline&#x27;)</span><br><span class="line">    .webinfo</span><br><span class="line">      if theme.aside.card_webinfo.post_count</span><br><span class="line">        .webinfo-item</span><br><span class="line">          .item-name= _p(&#x27;aside.card_webinfo.article_name&#x27;) + &quot; :&quot;</span><br><span class="line">          .item-count= site.posts.length</span><br><span class="line">      if theme.runtimeshow.enable</span><br><span class="line">        .webinfo-item</span><br><span class="line">          .item-name= _p(&#x27;aside.card_webinfo.runtime.name&#x27;) + &quot; :&quot;</span><br><span class="line">          .item-count#runtimeshow(data-publishDate=date_xml(theme.runtimeshow.publish_date))</span><br><span class="line">            i.fa-solid.fa-spinner.fa-spin</span><br><span class="line">      if theme.wordcount.enable &amp;&amp; theme.wordcount.total_wordcount</span><br><span class="line">        .webinfo-item</span><br><span class="line">          .item-name=_p(&#x27;aside.card_webinfo.site_wordcount&#x27;) + &quot; :&quot;</span><br><span class="line">          .item-count=totalcount(site)</span><br><span class="line">      if theme.busuanzi.site_uv</span><br><span class="line">        .webinfo-item</span><br><span class="line">          .item-name= _p(&#x27;aside.card_webinfo.site_uv_name&#x27;) + &quot; :&quot;</span><br><span class="line">          .item-count#busuanzi_value_site_uv</span><br><span class="line">            i.fa-solid.fa-spinner.fa-spin</span><br><span class="line">      if theme.busuanzi.site_pv</span><br><span class="line">        .webinfo-item</span><br><span class="line">          .item-name= _p(&#x27;aside.card_webinfo.site_pv_name&#x27;) + &quot; :&quot;</span><br><span class="line">          .item-count#busuanzi_value_site_pv</span><br><span class="line">            i.fa-solid.fa-spinner.fa-spin</span><br><span class="line">      if theme.aside.card_webinfo.last_push_date</span><br><span class="line">        .webinfo-item</span><br><span class="line">          .item-name= _p(&#x27;aside.card_webinfo.last_push_date.name&#x27;) + &quot; :&quot;</span><br><span class="line">          .item-count#last-push-date(data-lastPushDate=date_xml(Date.now()))</span><br><span class="line">            i.fa-solid.fa-spinner.fa-spin</span><br></pre></td></tr></table></figure>
</li>
<li><p>接下来就是改文了，注意到第8行的<code>span= _p(&#39;aside.card_webinfo.headline&#39;)</code>，这行代码就是渲染图标后面的文字，我们其实可以直接改成<code>span= _p(&#39;小站资讯&#39;)</code>，这样就已经按照自己的文字显示了，但是为了更好维护，我们遵循主题的设计原则，注意到变量<code>aside.card_webinfo.headline</code>，这其实是在写好的语言包中扫描对应的值，因为不同的语言对应不同的文字，如果我们设置了语言为<code>zh-CN</code>那么就到<code>[BlogRoot]\themes\butterfly\languages\zh-CN.yml</code>进行修改。<code>yml</code>文件是以缩进区分层级的，我们只需要寻找<code>aside</code>-&gt;<code>card_webinfo</code>-&gt;<code>headline</code>这一项修改为自己喜欢的内容即可</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line">  articles: 文章</span><br><span class="line">  tags: 标签</span><br><span class="line">  categories: 分类</span><br><span class="line">  card_announcement: 公告栏</span><br><span class="line">  card_categories: 分类</span><br><span class="line">  card_tags: 标签</span><br><span class="line">  card_archives: 归档</span><br><span class="line">  card_recent_post: 最新文章</span><br><span class="line">  card_friend_link: 通讯录</span><br><span class="line">  card_webinfo:</span><br><span class="line">-    headline: 网站资讯</span><br><span class="line">+    headline: 网站资讯</span><br><span class="line">    article_name: 文章数目</span><br><span class="line">    runtime:</span><br><span class="line">      name: 已运行时间</span><br><span class="line">      unit: 天</span><br><span class="line">    last_push_date:</span><br><span class="line">      name: 最后更新时间</span><br><span class="line">    site_wordcount: 本站总字数</span><br><span class="line">    site_uv_name: 本站访客数</span><br><span class="line">    site_pv_name: 本站总访问量</span><br><span class="line">  more_button: 查看更多</span><br><span class="line">  card_newest_comments:</span><br><span class="line">    headline: 最新评论</span><br><span class="line">    loading_text: 正在加载中...</span><br><span class="line">    error: 无法获取评论，请确认相关配置是否正确</span><br><span class="line">    zero: 没有评论</span><br><span class="line">    image: 图片</span><br><span class="line">    link: 链接</span><br><span class="line">    code: 代码</span><br><span class="line">  card_toc: 目录</span><br></pre></td></tr></table></figure>
</li>
<li><p>最后重新编译运行即可看见效果。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl; hexo s</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="渐变色版权美化（店长-微调）"><a href="#渐变色版权美化（店长-微调）" class="headerlink" title="*渐变色版权美化（店长+微调）"></a>*渐变色版权美化（店长+微调）</h2><ol>
<li><p>修改<code>[BlogRoot]\themes\butterfly\layout\includes\post\post-copyright.pug</code>,直接复制以下内容替换原文件内容。此处多次用到了三元运算符作为默认项设置，在确保有主题配置文件的默认项的情况下，也可以在相应文章的<code>front-matter</code>中重新定义作者，原文链接，开源许可协议等内容。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">PLAINTEXT</span><br><span class="line">if theme.post_copyright.enable &amp;&amp; page.copyright !== false</span><br><span class="line">  - let author = page.copyright_author ? page.copyright_author : config.author</span><br><span class="line">  - let url = page.copyright_url ? page.copyright_url : page.permalink</span><br><span class="line">  - let license = page.license ? page.license : theme.post_copyright.license</span><br><span class="line">  - let license_url = page.license_url ? page.license_url : theme.post_copyright.license_url</span><br><span class="line">  .post-copyright</span><br><span class="line">    .post-copyright__title</span><br><span class="line">      span.post-copyright-info</span><br><span class="line">        h #[=page.title]</span><br><span class="line">    .post-copyright__type</span><br><span class="line">      span.post-copyright-info</span><br><span class="line">        a(href=url_for(url))= theme.post_copyright.decode ? decodeURI(url) : url</span><br><span class="line">    .post-copyright-m</span><br><span class="line">      .post-copyright-m-info</span><br><span class="line">        .post-copyright-a</span><br><span class="line">            h 作者</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                h=author</span><br><span class="line">        .post-copyright-c</span><br><span class="line">            h 发布于</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                h=date(page.date, config.date_format)</span><br><span class="line">        .post-copyright-u</span><br><span class="line">            h 更新于</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                h=date(page.updated, config.date_format)</span><br><span class="line">        .post-copyright-c</span><br><span class="line">            h 许可协议</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                a.icon(rel=&#x27;noopener&#x27; target=&#x27;_blank&#x27; title=&#x27;Creative Commons&#x27; href=&#x27;https://creativecommons.org/&#x27;)</span><br><span class="line">                  i.fab.fa-creative-commons</span><br><span class="line">                a(rel=&#x27;noopener&#x27; target=&#x27;_blank&#x27; title=license href=url_for(license_url))=license</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改<code>[BlogRoot]\themes\butterfly\source\css\_layout\post.styl</code>,直接复制以下内容，替换原文件，这个文件就是自己调节样式的。其中，<code>184</code>行是白天模式的背景色，这里默认是我网站的渐变色，大家可以根据自己的喜好调节；<code>253</code>行是夜间模式的发光光圈颜色，大家也可以自行替换成自己喜欢的颜色：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br></pre></td><td class="code"><pre><span class="line">STYLUS</span><br><span class="line"></span><br><span class="line">beautify()</span><br><span class="line">  headStyle(fontsize)</span><br><span class="line">    padding-left: unit(fontsize + 12, &#x27;px&#x27;)</span><br><span class="line"></span><br><span class="line">    &amp;:before</span><br><span class="line">      margin-left: unit((-(fontsize + 6)), &#x27;px&#x27;)</span><br><span class="line">      font-size: unit(fontsize, &#x27;px&#x27;)</span><br><span class="line"></span><br><span class="line">    &amp;:hover</span><br><span class="line">      padding-left: unit(fontsize + 18, &#x27;px&#x27;)</span><br><span class="line"></span><br><span class="line">  h1,</span><br><span class="line">  h2,</span><br><span class="line">  h3,</span><br><span class="line">  h4,</span><br><span class="line">  h5,</span><br><span class="line">  h6</span><br><span class="line">    transition: all .2s ease-out</span><br><span class="line"></span><br><span class="line">    &amp;:before</span><br><span class="line">      position: absolute</span><br><span class="line">      top: calc(50% - 7px)</span><br><span class="line">      color: $title-prefix-icon-color</span><br><span class="line">      content: $title-prefix-icon</span><br><span class="line">      line-height: 1</span><br><span class="line">      transition: all .2s ease-out</span><br><span class="line">      @extend .fontawesomeIcon</span><br><span class="line"></span><br><span class="line">    &amp;:hover</span><br><span class="line">      &amp;:before</span><br><span class="line">        color: $light-blue</span><br><span class="line"></span><br><span class="line">  h1</span><br><span class="line">    headStyle(20)</span><br><span class="line"></span><br><span class="line">  h2</span><br><span class="line">    headStyle(18)</span><br><span class="line"></span><br><span class="line">  h3</span><br><span class="line">    headStyle(16)</span><br><span class="line"></span><br><span class="line">  h4</span><br><span class="line">    headStyle(14)</span><br><span class="line"></span><br><span class="line">  h5</span><br><span class="line">    headStyle(12)</span><br><span class="line"></span><br><span class="line">  h6</span><br><span class="line">    headStyle(12)</span><br><span class="line"></span><br><span class="line">  ol,</span><br><span class="line">  ul</span><br><span class="line">    p</span><br><span class="line">      margin: 0 0 8px</span><br><span class="line"></span><br><span class="line">  li</span><br><span class="line">    &amp;::marker</span><br><span class="line">      color: $light-blue</span><br><span class="line">      font-weight: 600</span><br><span class="line">      font-size: 1.05em</span><br><span class="line"></span><br><span class="line">    &amp;:hover</span><br><span class="line">      &amp;::marker</span><br><span class="line">        color: var(--pseudo-hover)</span><br><span class="line"></span><br><span class="line">  ul &gt; li</span><br><span class="line">    list-style-type: circle</span><br><span class="line"></span><br><span class="line">#article-container</span><br><span class="line">  word-wrap: break-word</span><br><span class="line">  overflow-wrap: break-word</span><br><span class="line"></span><br><span class="line">  a</span><br><span class="line">    color: $theme-link-color</span><br><span class="line"></span><br><span class="line">    &amp;:hover</span><br><span class="line">      text-decoration: underline</span><br><span class="line"></span><br><span class="line">  img</span><br><span class="line">    display: block</span><br><span class="line">    margin: 0 auto 20px</span><br><span class="line">    max-width: 100%</span><br><span class="line">    transition: filter 375ms ease-in .2s</span><br><span class="line"></span><br><span class="line">  p</span><br><span class="line">    margin: 0 0 16px</span><br><span class="line"></span><br><span class="line">  iframe</span><br><span class="line">    margin: 0 0 20px</span><br><span class="line"></span><br><span class="line">  if hexo-config(&#x27;anchor&#x27;)</span><br><span class="line">    a.headerlink</span><br><span class="line">      &amp;:after</span><br><span class="line">        @extend .fontawesomeIcon</span><br><span class="line">        float: right</span><br><span class="line">        color: var(--headline-presudo)</span><br><span class="line">        content: &#x27;\f0c1&#x27;</span><br><span class="line">        font-size: .95em</span><br><span class="line">        opacity: 0</span><br><span class="line">        transition: all .3s</span><br><span class="line"></span><br><span class="line">      &amp;:hover</span><br><span class="line">        &amp;:after</span><br><span class="line">          color: var(--pseudo-hover)</span><br><span class="line"></span><br><span class="line">    h1,</span><br><span class="line">    h2,</span><br><span class="line">    h3,</span><br><span class="line">    h4,</span><br><span class="line">    h5,</span><br><span class="line">    h6</span><br><span class="line">      &amp;:hover</span><br><span class="line">        a.headerlink</span><br><span class="line">          &amp;:after</span><br><span class="line">            opacity: 1</span><br><span class="line"></span><br><span class="line">  ol,</span><br><span class="line">  ul</span><br><span class="line">    ol,</span><br><span class="line">    ul</span><br><span class="line">      padding-left: 20px</span><br><span class="line"></span><br><span class="line">    li</span><br><span class="line">      margin: 4px 0</span><br><span class="line"></span><br><span class="line">    p</span><br><span class="line">      margin: 0 0 8px</span><br><span class="line"></span><br><span class="line">  if hexo-config(&#x27;beautify.enable&#x27;)</span><br><span class="line">    if hexo-config(&#x27;beautify.field&#x27;) == &#x27;site&#x27;</span><br><span class="line">      beautify()</span><br><span class="line">    else if hexo-config(&#x27;beautify.field&#x27;) == &#x27;post&#x27;</span><br><span class="line">      &amp;.post-content</span><br><span class="line">        beautify()</span><br><span class="line"></span><br><span class="line">  &gt; :last-child</span><br><span class="line">    margin-bottom: 0 !important</span><br><span class="line"></span><br><span class="line">#post</span><br><span class="line">  .tag_share</span><br><span class="line">    .post-meta</span><br><span class="line">      &amp;__tag-list</span><br><span class="line">        display: inline-block</span><br><span class="line"></span><br><span class="line">      &amp;__tags</span><br><span class="line">        display: inline-block</span><br><span class="line">        margin: 8px 8px 8px 0</span><br><span class="line">        padding: 0 12px</span><br><span class="line">        width: fit-content</span><br><span class="line">        border: 1px solid $light-blue</span><br><span class="line">        border-radius: 12px</span><br><span class="line">        color: $light-blue</span><br><span class="line">        font-size: .85em</span><br><span class="line">        transition: all .2s ease-in-out</span><br><span class="line"></span><br><span class="line">        &amp;:hover</span><br><span class="line">          background: $light-blue</span><br><span class="line">          color: var(--white)</span><br><span class="line"></span><br><span class="line">    .post_share</span><br><span class="line">      display: inline-block</span><br><span class="line">      float: right</span><br><span class="line">      margin: 8px 0</span><br><span class="line">      width: fit-content</span><br><span class="line"></span><br><span class="line">      .social-share</span><br><span class="line">        font-size: .85em</span><br><span class="line"></span><br><span class="line">        .social-share-icon</span><br><span class="line">          margin: 0 4px</span><br><span class="line">          width: w = 1.85em</span><br><span class="line">          height: w</span><br><span class="line">          font-size: 1.2em</span><br><span class="line">          line-height: w</span><br><span class="line"></span><br><span class="line">  .post-copyright</span><br><span class="line">    position: relative</span><br><span class="line">    margin: 40px 0 10px</span><br><span class="line">    padding: 10px 16px</span><br><span class="line">    border: 1px solid var(--light-grey)</span><br><span class="line">    transition: box-shadow .3s ease-in-out</span><br><span class="line">    overflow: hidden</span><br><span class="line">    border-radius: 12px!important</span><br><span class="line">    background: linear-gradient(45deg, #f6d8f5, #c2f1f0, #f0debf);</span><br><span class="line"></span><br><span class="line">    &amp;:before</span><br><span class="line">      background var(--heo-post-blockquote-bg)</span><br><span class="line">      position absolute</span><br><span class="line">      right -26px</span><br><span class="line">      top -120px</span><br><span class="line">      content &#x27;\f25e&#x27;</span><br><span class="line">      font-size 200px</span><br><span class="line">      font-family &#x27;Font Awesome 5 Brands&#x27;</span><br><span class="line">      opacity .2</span><br><span class="line"></span><br><span class="line">    &amp;:hover</span><br><span class="line">      box-shadow: 0 0 8px 0 rgba(232, 237, 250, .6), 0 2px 4px 0 rgba(232, 237, 250, .5)</span><br><span class="line"></span><br><span class="line">    .post-copyright</span><br><span class="line">      &amp;-meta</span><br><span class="line">        color: $light-blue</span><br><span class="line">        font-weight: bold</span><br><span class="line"></span><br><span class="line">      &amp;-info</span><br><span class="line">        padding-left: 6px</span><br><span class="line"></span><br><span class="line">        a</span><br><span class="line">          text-decoration: none</span><br><span class="line">          word-break: break-word</span><br><span class="line"></span><br><span class="line">          &amp;:hover</span><br><span class="line">            text-decoration: none</span><br><span class="line"></span><br><span class="line">  .post-copyright-cc-info</span><br><span class="line">    color: $theme-color;</span><br><span class="line"></span><br><span class="line">  .post-outdate-notice</span><br><span class="line">    position: relative</span><br><span class="line">    margin: 0 0 20px</span><br><span class="line">    padding: .5em 1.2em</span><br><span class="line">    border-radius: 3px</span><br><span class="line">    background-color: $noticeOutdate-bg</span><br><span class="line">    color: $noticeOutdate-color</span><br><span class="line"></span><br><span class="line">    if hexo-config(&#x27;noticeOutdate.style&#x27;) == &#x27;flat&#x27;</span><br><span class="line">      padding: .5em 1em .5em 2.6em</span><br><span class="line">      border-left: 5px solid $noticeOutdate-border</span><br><span class="line"></span><br><span class="line">      &amp;:before</span><br><span class="line">        @extend .fontawesomeIcon</span><br><span class="line">        position: absolute</span><br><span class="line">        top: 50%</span><br><span class="line">        left: .9em</span><br><span class="line">        color: $noticeOutdate-border</span><br><span class="line">        content: &#x27;\f071&#x27;</span><br><span class="line">        transform: translateY(-50%)</span><br><span class="line"></span><br><span class="line">  .ads-wrap</span><br><span class="line">    margin: 40px 0</span><br><span class="line">.post-copyright-m-info</span><br><span class="line">  .post-copyright-a,</span><br><span class="line">  .post-copyright-c,</span><br><span class="line">  .post-copyright-u</span><br><span class="line">    display inline-block</span><br><span class="line">    width fit-content</span><br><span class="line">    padding 2px 5px</span><br><span class="line">[data-theme=&quot;dark&quot;]</span><br><span class="line">  #post</span><br><span class="line">    .post-copyright</span><br><span class="line">      background #07080a</span><br><span class="line">      text-shadow #bfbeb8 0 0 2px</span><br><span class="line">      border 1px solid rgb(19 18 18 / 35%)</span><br><span class="line">      box-shadow 0 0 5px var(--theme-color)</span><br><span class="line">      animation flashlight 1s linear infinite alternate</span><br><span class="line">  .post-copyright-info</span><br><span class="line">    color #e0e0e4</span><br><span class="line"></span><br><span class="line">#post</span><br><span class="line">  .post-copyright__title</span><br><span class="line">    font-size 22px</span><br><span class="line">  .post-copyright__notice</span><br><span class="line">    font-size 15px</span><br><span class="line">  .post-copyright</span><br><span class="line">    box-shadow 2px 2px 5px</span><br></pre></td></tr></table></figure>
</li>
<li><p>默认项的配置</p>
<ul>
<li><p>作者：<code>[BlogRoot]\_config.yml</code>中的<code>author</code>配置项</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Site</span><br><span class="line">title: Akilarの糖果屋</span><br><span class="line">subtitle: Akilar.top</span><br><span class="line">description:</span><br><span class="line">keywords:</span><br><span class="line">author: Akilar #默认作者</span><br><span class="line">language: zh-CN</span><br><span class="line">timezone: &#x27;&#x27;</span><br></pre></td></tr></table></figure>
</li>
<li><p>许可协议：<code>[BlogRoot]\_config.butterfly.yml</code>中的<code>license</code>和<code>license_url</code>配置项</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">post_copyright:</span><br><span class="line">  enable: true</span><br><span class="line">  decode: true</span><br><span class="line">  license: CC BY-NC-SA 4.0</span><br><span class="line">  license_url: https://creativecommons.org/licenses/by-nc-sa/4.0/</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>页面覆写配置项，修改对应文章的<code>front-matter</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MARKDOWN</span><br><span class="line">---</span><br><span class="line">title: Copyright-beautify # 文章名称</span><br><span class="line">date: 2021-03-02 13:52:46 # 文章发布日期</span><br><span class="line">updated: 2021-03-02 13:52:46 # 文章更新日期</span><br><span class="line">copyright_author: Nesxc # 作者覆写</span><br><span class="line">copyright_url: https://www.nesxc.com/post/hexocc.html # 原文链接覆写</span><br><span class="line">license: # 许可协议名称覆写</span><br><span class="line">license_url: # 许可协议链接覆写</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="顶部渐变条色加载条"><a href="#顶部渐变条色加载条" class="headerlink" title="顶部渐变条色加载条"></a>顶部渐变条色加载条</h2><ol>
<li><p>新建<code>[BlogRoot]\source\css\progress_bar.css</code>文件，写入以下内容（或者你在<code>[BlogRoot]\source\css\custom.css</code>直接加也行，最后在配置文件记得引入即可）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">.pace &#123;</span><br><span class="line">    -webkit-pointer-events: none;</span><br><span class="line">    pointer-events: none;</span><br><span class="line">    -webkit-user-select: none;</span><br><span class="line">    -moz-user-select: none;</span><br><span class="line">    user-select: none;</span><br><span class="line">    z-index: 2000;</span><br><span class="line">    position: fixed;</span><br><span class="line">    margin: auto;</span><br><span class="line">    top: 4px;</span><br><span class="line">    left: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">    height: 8px;</span><br><span class="line">    border-radius: 8px;</span><br><span class="line">    width: 7rem;</span><br><span class="line">    background: #eaecf2;</span><br><span class="line">    border: 1px #e3e8f7;</span><br><span class="line">    overflow: hidden</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.pace-inactive .pace-progress &#123;</span><br><span class="line">    opacity: 0;</span><br><span class="line">    transition: .3s ease-in</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.pace .pace-progress &#123;</span><br><span class="line">    -webkit-box-sizing: border-box;</span><br><span class="line">    -moz-box-sizing: border-box;</span><br><span class="line">    -ms-box-sizing: border-box;</span><br><span class="line">    -o-box-sizing: border-box;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">    -webkit-transform: translate3d(0, 0, 0);</span><br><span class="line">    -moz-transform: translate3d(0, 0, 0);</span><br><span class="line">    -ms-transform: translate3d(0, 0, 0);</span><br><span class="line">    -o-transform: translate3d(0, 0, 0);</span><br><span class="line">    transform: translate3d(0, 0, 0);</span><br><span class="line">    max-width: 200px;</span><br><span class="line">    position: absolute;</span><br><span class="line">    z-index: 2000;</span><br><span class="line">    display: block;</span><br><span class="line">    top: 0;</span><br><span class="line">    right: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    width: 100%;</span><br><span class="line">    /* linear-gradient(to right, #3494e6, #ec6ead) */</span><br><span class="line">    background: linear-gradient(to right, #43cea2, #3866ca);</span><br><span class="line">    animation: gradient 2s ease infinite;</span><br><span class="line">    background-size: 200%</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.pace.pace-inactive &#123;</span><br><span class="line">    opacity: 0;</span><br><span class="line">    transition: .3s;</span><br><span class="line">    top: -8px</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在主题配置文件<code>_config.butterfly.yml</code>的<code>inject</code>配置项加入刚刚的css样式和必须的js依赖：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    - xxx</span><br><span class="line">    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/progress_bar.css&quot; media=&quot;defer&quot; onload=&quot;this.media=&#x27;all&#x27;&quot;&gt; </span><br><span class="line">  bottom: </span><br><span class="line">  	- xxx</span><br><span class="line">    - &lt;script async src=&quot;//npm.elemecdn.com/pace-js@1.2.4/pace.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="Bilibili视频适配"><a href="#Bilibili视频适配" class="headerlink" title="*Bilibili视频适配%"></a>*Bilibili视频适配%</h2><h2 id="文章页局部-html-代码不渲染"><a href="#文章页局部-html-代码不渲染" class="headerlink" title="*文章页局部 html 代码不渲染"></a>*文章页局部 html 代码不渲染</h2><p>在你的 md 文章页中，部分内容不想经过 Hexo 渲染，则包一层 <code>raw</code> 标签：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% raw %&#125;</span><br><span class="line">&lt;div class=&quot;&quot;&gt;你的一些代码...&lt;/div&gt;</span><br><span class="line">&lt;script&gt;你的一些代码...&lt;/script&gt;</span><br><span class="line">&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure>
<p>那么标签内的代码就不会被框架渲染了~</p>
<h2 id="文章H1-H6标题小风车转动效果"><a href="#文章H1-H6标题小风车转动效果" class="headerlink" title="文章H1~H6标题小风车转动效果"></a>文章H1~H6标题小风车转动效果</h2><ol>
<li><p>修改主题配置文件<code>_config.butterfly.yml</code>文件的<code>beautify</code>配置项：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">beautify:</span><br><span class="line">  enable: true</span><br><span class="line">  field: post # site/post</span><br><span class="line">  # title-prefix-icon: &#x27;\f0c1&#x27; 原内容</span><br><span class="line">  title-prefix-icon: &#x27;\f863&#x27;</span><br><span class="line">  title-prefix-icon-color: &quot;#F47466&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在<code>[BlogRoot]\source\css\custom.css</code> 中加入以下代码，可以自己调节一下转速:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">/* 文章页H1-H6图标样式效果 */</span><br><span class="line">/* 控制风车转动速度 4s那里可以自己调节快慢 */</span><br><span class="line">h1::before,</span><br><span class="line">h2::before,</span><br><span class="line">h3::before,</span><br><span class="line">h4::before,</span><br><span class="line">h5::before,</span><br><span class="line">h6::before &#123;</span><br><span class="line">  -webkit-animation: ccc 4s linear infinite;</span><br><span class="line">  animation: ccc 4s linear infinite;</span><br><span class="line">&#125;</span><br><span class="line">/* 控制风车转动方向 -1turn 为逆时针转动，1turn 为顺时针转动，相同数字部分记得统一修改 */</span><br><span class="line">@-webkit-keyframes ccc &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    -webkit-transform: rotate(0deg);</span><br><span class="line">    transform: rotate(0deg);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    -webkit-transform: rotate(-1turn);</span><br><span class="line">    transform: rotate(-1turn);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes ccc &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    -webkit-transform: rotate(0deg);</span><br><span class="line">    transform: rotate(0deg);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    -webkit-transform: rotate(-1turn);</span><br><span class="line">    transform: rotate(-1turn);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">/* 设置风车颜色 */</span><br><span class="line">#content-inner.layout h1::before &#123;</span><br><span class="line">  color: #ef50a8;</span><br><span class="line">  margin-left: -1.55rem;</span><br><span class="line">  font-size: 1.3rem;</span><br><span class="line">  margin-top: -0.23rem;</span><br><span class="line">&#125;</span><br><span class="line">#content-inner.layout h2::before &#123;</span><br><span class="line">  color: #fb7061;</span><br><span class="line">  margin-left: -1.35rem;</span><br><span class="line">  font-size: 1.1rem;</span><br><span class="line">  margin-top: -0.12rem;</span><br><span class="line">&#125;</span><br><span class="line">#content-inner.layout h3::before &#123;</span><br><span class="line">  color: #ffbf00;</span><br><span class="line">  margin-left: -1.22rem;</span><br><span class="line">  font-size: 0.95rem;</span><br><span class="line">  margin-top: -0.09rem;</span><br><span class="line">&#125;</span><br><span class="line">#content-inner.layout h4::before &#123;</span><br><span class="line">  color: #a9e000;</span><br><span class="line">  margin-left: -1.05rem;</span><br><span class="line">  font-size: 0.8rem;</span><br><span class="line">  margin-top: -0.09rem;</span><br><span class="line">&#125;</span><br><span class="line">#content-inner.layout h5::before &#123;</span><br><span class="line">  color: #57c850;</span><br><span class="line">  margin-left: -0.9rem;</span><br><span class="line">  font-size: 0.7rem;</span><br><span class="line">  margin-top: 0rem;</span><br><span class="line">&#125;</span><br><span class="line">#content-inner.layout h6::before &#123;</span><br><span class="line">  color: #5ec1e0;</span><br><span class="line">  margin-left: -0.9rem;</span><br><span class="line">  font-size: 0.66rem;</span><br><span class="line">  margin-top: 0rem;</span><br><span class="line">&#125;</span><br><span class="line">/* s设置风车hover动效 6s那里可以自己调节快慢*/</span><br><span class="line">#content-inner.layout h1:hover,</span><br><span class="line">#content-inner.layout h2:hover,</span><br><span class="line">#content-inner.layout h3:hover,</span><br><span class="line">#content-inner.layout h4:hover,</span><br><span class="line">#content-inner.layout h5:hover,</span><br><span class="line">#content-inner.layout h6:hover &#123;</span><br><span class="line">  color: var(--theme-color);</span><br><span class="line">&#125;</span><br><span class="line">#content-inner.layout h1:hover::before,</span><br><span class="line">#content-inner.layout h2:hover::before,</span><br><span class="line">#content-inner.layout h3:hover::before,</span><br><span class="line">#content-inner.layout h4:hover::before,</span><br><span class="line">#content-inner.layout h5:hover::before,</span><br><span class="line">#content-inner.layout h6:hover::before &#123;</span><br><span class="line">  color: var(--theme-color);</span><br><span class="line">  -webkit-animation: ccc 6s linear infinite;</span><br><span class="line">  animation: ccc 6s linear infinite;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在主题配置文件<code>_config.butterfly.yml</code>的<code>inject</code>配置项进行引入（不再赘述）。</p>
</li>
</ol>
<h2 id="挂绳小猫咪-tzy大佬"><a href="#挂绳小猫咪-tzy大佬" class="headerlink" title="挂绳小猫咪(tzy大佬)"></a>挂绳小猫咪(tzy大佬)</h2><ol>
<li><p>制作一个盛放内容的盒子，在<code>[BlogRoot]/node_modules/hexo-theme-butterfly/layout/includes/head.pug</code>(如果是<code>git clone</code> 安装在<code>[BlogRoot]/themes/butterfly/layout/includes/head.pug</code>)最后一行加入如下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#myscoll</span><br></pre></td></tr></table></figure>
<p>其实随便放在哪里都行，只要能加载出来就行</p>
</li>
<li><p>在<code>[BlogRoot]/node_modules/hexo-theme-butterfly/source/js</code>文件夹下新建一个<code>cat.js</code>，将以下代码复制到文件中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line">if (document.body.clientWidth &gt; 992) &#123;</span><br><span class="line">    function getBasicInfo() &#123;</span><br><span class="line">        /* 窗口高度 */</span><br><span class="line">        var ViewH = $(window).height();</span><br><span class="line">        /* document高度 */</span><br><span class="line">        var DocH = $(&quot;body&quot;)[0].scrollHeight;</span><br><span class="line">        /* 滚动的高度 */</span><br><span class="line">        var ScrollTop = $(window).scrollTop();</span><br><span class="line">        /* 可滚动的高度 */</span><br><span class="line">        var S_V = DocH - ViewH;</span><br><span class="line">        var Band_H = ScrollTop / (DocH - ViewH) * 100;</span><br><span class="line">        return &#123;</span><br><span class="line">            ViewH: ViewH,</span><br><span class="line">            DocH: DocH,</span><br><span class="line">            ScrollTop: ScrollTop,</span><br><span class="line">            Band_H: Band_H,</span><br><span class="line">            S_V: S_V</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    function show(basicInfo) &#123;</span><br><span class="line">        if (basicInfo.ScrollTop &gt; 0.001) &#123;</span><br><span class="line">            $(&quot;.neko&quot;).css(&#x27;display&#x27;, &#x27;block&#x27;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            $(&quot;.neko&quot;).css(&#x27;display&#x27;, &#x27;none&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    (function ($) &#123;</span><br><span class="line">        $.fn.nekoScroll = function (option) &#123;</span><br><span class="line">            var defaultSetting = &#123;</span><br><span class="line">                top: &#x27;0&#x27;,</span><br><span class="line">                scroWidth: 6 + &#x27;px&#x27;,</span><br><span class="line">                z_index: 9999,</span><br><span class="line">                zoom: 0.9,</span><br><span class="line">                borderRadius: 5 + &#x27;px&#x27;,</span><br><span class="line">                right: 60 + &#x27;px&#x27;,</span><br><span class="line">                // 这里可以换为你喜欢的图片，例如我就换为了雪人，但是要抠图</span><br><span class="line">                nekoImg: &quot;https://bu.dusays.com/2022/07/20/62d812db74be9.png&quot;,</span><br><span class="line">                hoverMsg: &quot;喵喵喵~&quot;,</span><br><span class="line">                color: &quot;#6f42c1&quot;,</span><br><span class="line">                during: 500,</span><br><span class="line">                blog_body: &quot;body&quot;,</span><br><span class="line">            &#125;;</span><br><span class="line">            var setting = $.extend(defaultSetting, option);</span><br><span class="line">            var getThis = this.prop(&quot;className&quot;) !== &quot;&quot; ? &quot;.&quot; + this.prop(&quot;className&quot;) : this.prop(&quot;id&quot;) !== &quot;&quot; ? &quot;#&quot; +</span><br><span class="line">                this.prop(&quot;id&quot;) : this.prop(&quot;nodeName&quot;);</span><br><span class="line">            if ($(&quot;.neko&quot;).length == 0) &#123;</span><br><span class="line">                this.after(&quot;&lt;div class=\&quot;neko\&quot; id=&quot; + setting.nekoname + &quot; data-msg=\&quot;&quot; + setting.hoverMsg + &quot;\&quot;&gt;&lt;/div&gt;&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            let basicInfo = getBasicInfo();</span><br><span class="line">            $(getThis)</span><br><span class="line">                .css(&#123;</span><br><span class="line">                    &#x27;position&#x27;: &#x27;fixed&#x27;,</span><br><span class="line">                    &#x27;width&#x27;: setting.scroWidth,</span><br><span class="line">                    &#x27;top&#x27;: setting.top,</span><br><span class="line">                    &#x27;height&#x27;: basicInfo.Band_H * setting.zoom * basicInfo.ViewH * 0.01 + &#x27;px&#x27;,</span><br><span class="line">                    &#x27;z-index&#x27;: setting.z_index,</span><br><span class="line">                    &#x27;background-color&#x27;: setting.bgcolor,</span><br><span class="line">                    &quot;border-radius&quot;: setting.borderRadius,</span><br><span class="line">                    &#x27;right&#x27;: setting.right,</span><br><span class="line">                    &#x27;background-image&#x27;: &#x27;url(&#x27; + setting.scImg + &#x27;)&#x27;,</span><br><span class="line">                    &#x27;background-image&#x27;: &#x27;-webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.1) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.1) 75%, transparent 75%, transparent)&#x27;, &#x27;border-radius&#x27;: &#x27;2em&#x27;,</span><br><span class="line">                    &#x27;background-size&#x27;: &#x27;contain&#x27;</span><br><span class="line">                &#125;);</span><br><span class="line">            $(&quot;#&quot; + setting.nekoname)</span><br><span class="line">                .css(&#123;</span><br><span class="line">                    &#x27;position&#x27;: &#x27;fixed&#x27;,</span><br><span class="line">                    &#x27;top&#x27;: basicInfo.Band_H * setting.zoom * basicInfo.ViewH * 0.01 - 50 + &#x27;px&#x27;,</span><br><span class="line">                    &#x27;z-index&#x27;: setting.z_index * 10,</span><br><span class="line">                    &#x27;right&#x27;: setting.right,</span><br><span class="line">                    &#x27;background-image&#x27;: &#x27;url(&#x27; + setting.nekoImg + &#x27;)&#x27;,</span><br><span class="line">                &#125;);</span><br><span class="line">            show(getBasicInfo());</span><br><span class="line">            $(window)</span><br><span class="line">                .scroll(function () &#123;</span><br><span class="line">                    let basicInfo = getBasicInfo();</span><br><span class="line">                    show(basicInfo);</span><br><span class="line">                    $(getThis)</span><br><span class="line">                        .css(&#123;</span><br><span class="line">                            &#x27;position&#x27;: &#x27;fixed&#x27;,</span><br><span class="line">                            &#x27;width&#x27;: setting.scroWidth,</span><br><span class="line">                            &#x27;top&#x27;: setting.top,</span><br><span class="line">                            &#x27;height&#x27;: basicInfo.Band_H * setting.zoom * basicInfo.ViewH * 0.01 + &#x27;px&#x27;,</span><br><span class="line">                            &#x27;z-index&#x27;: setting.z_index,</span><br><span class="line">                            &#x27;background-color&#x27;: setting.bgcolor,</span><br><span class="line">                            &quot;border-radius&quot;: setting.borderRadius,</span><br><span class="line">                            &#x27;right&#x27;: setting.right,</span><br><span class="line">                            &#x27;background-image&#x27;: &#x27;url(&#x27; + setting.scImg + &#x27;)&#x27;,</span><br><span class="line">                            &#x27;background-image&#x27;: &#x27;-webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.1) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.1) 75%, transparent 75%, transparent)&#x27;, &#x27;border-radius&#x27;: &#x27;2em&#x27;,</span><br><span class="line">                            &#x27;background-size&#x27;: &#x27;contain&#x27;</span><br><span class="line">                        &#125;);</span><br><span class="line">                    $(&quot;#&quot; + setting.nekoname)</span><br><span class="line">                        .css(&#123;</span><br><span class="line">                            &#x27;position&#x27;: &#x27;fixed&#x27;,</span><br><span class="line">                            &#x27;top&#x27;: basicInfo.Band_H * setting.zoom * basicInfo.ViewH * 0.01 - 50 + &#x27;px&#x27;,</span><br><span class="line">                            &#x27;z-index&#x27;: setting.z_index * 10,</span><br><span class="line">                            &#x27;right&#x27;: setting.right,</span><br><span class="line">                            &#x27;background-image&#x27;: &#x27;url(&#x27; + setting.nekoImg + &#x27;)&#x27;,</span><br><span class="line">                        &#125;);</span><br><span class="line">                    if (basicInfo.ScrollTop == basicInfo.S_V) &#123;</span><br><span class="line">                        $(&quot;#&quot; + setting.nekoname)</span><br><span class="line">                            .addClass(&quot;showMsg&quot;)</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        $(&quot;#&quot; + setting.nekoname)</span><br><span class="line">                            .removeClass(&quot;showMsg&quot;);</span><br><span class="line">                        $(&quot;#&quot; + setting.nekoname)</span><br><span class="line">                            .attr(&quot;data-msg&quot;, setting.hoverMsg);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            this.click(function (e) &#123;</span><br><span class="line">                btf.scrollToDest(0, 500)</span><br><span class="line">            &#125;);</span><br><span class="line">            $(&quot;#&quot; + setting.nekoname)</span><br><span class="line">                .click(function () &#123;</span><br><span class="line">                    btf.scrollToDest(0, 500)</span><br><span class="line">                &#125;);</span><br><span class="line">            return this;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)(jQuery);</span><br><span class="line"></span><br><span class="line">    $(document).ready(function () &#123;</span><br><span class="line">        //部分自定义</span><br><span class="line">        $(&quot;#myscoll&quot;).nekoScroll(&#123;</span><br><span class="line">            bgcolor: &#x27;rgb(0 0 0 / .5)&#x27;, //背景颜色，没有绳子背景图片时有效</span><br><span class="line">            borderRadius: &#x27;2em&#x27;,</span><br><span class="line">            zoom: 0.9</span><br><span class="line">        &#125;</span><br><span class="line">        );</span><br><span class="line">        //自定义（去掉以下注释，并注释掉其他的查看效果）</span><br><span class="line">        /*</span><br><span class="line">        $(&quot;#myscoll&quot;).nekoScroll(&#123;</span><br><span class="line">            nekoname:&#x27;neko1&#x27;, //nekoname，相当于id</span><br><span class="line">            nekoImg:&#x27;img/猫咪.png&#x27;, //neko的背景图片</span><br><span class="line">            scImg:&quot;img/绳1.png&quot;, //绳子的背景图片</span><br><span class="line">            bgcolor:&#x27;#1e90ff&#x27;, //背景颜色，没有绳子背景图片时有效</span><br><span class="line">            zoom:0.9, //绳子长度的缩放值</span><br><span class="line">            hoverMsg:&#x27;你好~喵&#x27;, //鼠标浮动到neko上方的对话框信息</span><br><span class="line">            right:&#x27;100px&#x27;, //距离页面右边的距离</span><br><span class="line">            fontFamily:&#x27;楷体&#x27;, //对话框字体</span><br><span class="line">            fontSize:&#x27;14px&#x27;, //对话框字体的大小</span><br><span class="line">            color:&#x27;#1e90ff&#x27;, //对话框字体颜色</span><br><span class="line">            scroWidth:&#x27;8px&#x27;, //绳子的宽度</span><br><span class="line">            z_index:100, //不用解释了吧</span><br><span class="line">            during:1200, //从顶部到底部滑动的时长</span><br><span class="line">        &#125;);</span><br><span class="line">        */</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在<code>[BlogRoot]/node_modules/hexo-theme-butterfly/source/css</code>文件夹下新建一个<code>cat.css</code>，将以下代码复制到文件中。当然你也可以选择不新建 css 文件，复制代码到<code>custom.css</code>也行，总之有地方引入就行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">body::-webkit-scrollbar &#123;</span><br><span class="line">    width: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.neko &#123;</span><br><span class="line">    width: 64px;</span><br><span class="line">    height: 64px;</span><br><span class="line">    background-image: url(&quot;https://bu.dusays.com/2022/07/20/62d812db74be9.png&quot;);</span><br><span class="line">    position: absolute;</span><br><span class="line">    right: 32px;</span><br><span class="line">    background-repeat: no-repeat;</span><br><span class="line">    background-size: contain;</span><br><span class="line">    transform: translateX(50%);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    font-family: tzy;</span><br><span class="line">    font-weight: 600;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">    color: #6f42c1;</span><br><span class="line">    display: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.neko::after &#123;</span><br><span class="line">    display: none;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background-image: url(&quot;https://bu.dusays.com/2022/07/20/62d812d95e6f5.png&quot;);</span><br><span class="line">    background-size: contain;</span><br><span class="line">    z-index: 9999;</span><br><span class="line">    position: absolute;</span><br><span class="line">    right: 50%;</span><br><span class="line">    text-align: center;</span><br><span class="line">    line-height: 100px;</span><br><span class="line">    top: -115%;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.neko.showMsg::after &#123;</span><br><span class="line">    content: attr(data-msg);</span><br><span class="line">    display: block;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    text-overflow: ellipsis;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.neko:hover::after &#123;</span><br><span class="line">    content: attr(data-msg);</span><br><span class="line">    display: block;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    text-overflow: ellipsis;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.neko.fontColor::after &#123;</span><br><span class="line">    color: #333;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @description: 滚动条样式  跟猫二选一</span><br><span class="line"> */</span><br><span class="line">@media screen and (max-width:992px) &#123;</span><br><span class="line">    ::-webkit-scrollbar &#123;</span><br><span class="line">        width: 8px !important;</span><br><span class="line">        height: 8px !important</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ::-webkit-scrollbar-track &#123;</span><br><span class="line">        border-radius: 2em;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ::-webkit-scrollbar-thumb &#123;</span><br><span class="line">        background-color: rgb(255 255 255 / .3);</span><br><span class="line">        background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.1) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.1) 75%, transparent 75%, transparent);</span><br><span class="line">        border-radius: 2em</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ::-webkit-scrollbar-corner &#123;</span><br><span class="line">        background-color: transparent</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在主题配置文件<code>_config.butterfly.yml</code>中引入<code>cat.js</code>和<code>cat.css</code>，当然还有在bottom的最前面引入<code>jQuery</code>，因为<code>cat.js</code>的语法依赖<code>jQuery</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/cat.css&quot;&gt;</span><br><span class="line">  bottom:</span><br><span class="line">    - &lt;script defer src=&quot;https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    - &lt;script defer data-pjax src=&quot;/js/cat.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>最后重新编译运行即可看见效果。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl; hexo s</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="打赏按钮投币彩蛋效果"><a href="#打赏按钮投币彩蛋效果" class="headerlink" title="打赏按钮投币彩蛋效果"></a>打赏按钮投币彩蛋效果</h2><p>收款码样式 可上传到草料网进行样式修改</p>
<p>修改[Blogroot]\themes\butterfly\languages\zh-CN.yml</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">date_suffix:</span><br><span class="line">  just: 刚刚</span><br><span class="line">  min: 分钟前</span><br><span class="line">  hour: 小时前</span><br><span class="line">  day: 天前</span><br><span class="line">  month: 个月前</span><br><span class="line"></span><br><span class="line">- donate: 打赏</span><br><span class="line">+ donate: 不给糖果就捣蛋</span><br><span class="line">share: 分享</span><br></pre></td></tr></table></figure>
<p>修改[Blogroot]\themes\butterfly\layout\includes\post\reward.pug,整体替换为以下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">link(rel=&#x27;stylesheet&#x27; href=url_for(theme.CDN.option.coin_css) media=&quot;defer&quot; onload=&quot;this.media=&#x27;all&#x27;&quot;)</span><br><span class="line">.post-reward</span><br><span class="line">  button.tip-button.reward-button</span><br><span class="line">    span.tip-button__text= _p(&#x27;donate&#x27;)</span><br><span class="line">    .coin-wrapper</span><br><span class="line">      .coin</span><br><span class="line">        .coin__middle</span><br><span class="line">        .coin__back</span><br><span class="line">        .coin__front</span><br><span class="line">    .reward-main</span><br><span class="line">      ul.reward-all</span><br><span class="line">        each item in theme.reward.QR_code</span><br><span class="line">          - var clickTo = (item.itemlist||item).link ? (item.itemlist||item).link : (item.itemlist||item).img</span><br><span class="line">          li.reward-item</span><br><span class="line">            a(href=clickTo target=&#x27;_blank&#x27;)</span><br><span class="line">              img.post-qr-code-img(src=url_for((item.itemlist||item).img) alt=(item.itemlist||item).text)</span><br><span class="line">            .post-qr-code-desc=(item.itemlist||item).text</span><br><span class="line">if theme.reward.coinAudio</span><br><span class="line">  - var coinAudio = theme.reward.coinAudio ? url_for(theme.reward.coinAudio) : &#x27;https://cdn.cbd.int/akilar-candyassets@1.0.36/audio/coin.mp3&#x27;</span><br><span class="line">  audio#coinAudio(src=coinAudio)</span><br><span class="line">script(defer src=url_for(theme.CDN.option.coin_js))</span><br></pre></td></tr></table></figure>
<p>新建[Blogroot]source\css\coin\coin.css</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br></pre></td><td class="code"><pre><span class="line">.tip-button &#123;</span><br><span class="line">  border: 0;</span><br><span class="line">  border-radius: 0.25rem;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  font-size: 20px;</span><br><span class="line">  font-weight: 600;</span><br><span class="line">  height: 2.6rem;</span><br><span class="line">  margin-bottom: -4rem;</span><br><span class="line">  outline: 0;</span><br><span class="line">  position: relative;</span><br><span class="line">  top: 0;</span><br><span class="line">  transform-origin: 0% 100%;</span><br><span class="line">  transition: transform 50ms ease-in-out;</span><br><span class="line">  width: auto;</span><br><span class="line">  -webkit-tap-highlight-color: transparent;</span><br><span class="line">&#125;</span><br><span class="line">.tip-button:active &#123;</span><br><span class="line">  transform: rotate(4deg);</span><br><span class="line">&#125;</span><br><span class="line">.tip-button.clicked &#123;</span><br><span class="line">  animation: 150ms ease-in-out 1 shake;</span><br><span class="line">  pointer-events: none;</span><br><span class="line">&#125;</span><br><span class="line">.tip-button.clicked .tip-button__text &#123;</span><br><span class="line">  opacity: 0;</span><br><span class="line">  transition: opacity 100ms linear 200ms;</span><br><span class="line">&#125;</span><br><span class="line">.tip-button.clicked::before &#123;</span><br><span class="line">  height: 0.5rem;</span><br><span class="line">  width: 60%;</span><br><span class="line">  background: $button-hover-color;</span><br><span class="line">&#125;</span><br><span class="line">.tip-button.clicked .coin &#123;</span><br><span class="line">  transition: margin-bottom 1s linear 200ms;</span><br><span class="line">  margin-bottom: 0;</span><br><span class="line">&#125;</span><br><span class="line">.tip-button.shrink-landing::before &#123;</span><br><span class="line">  transition: width 200ms ease-in;</span><br><span class="line">  width: 0;</span><br><span class="line">&#125;</span><br><span class="line">.tip-button.coin-landed::after &#123;</span><br><span class="line">  opacity: 1;</span><br><span class="line">  transform: scale(1);</span><br><span class="line">  transform-origin: 50% 100%;</span><br><span class="line">&#125;</span><br><span class="line">.tip-button.coin-landed .coin-wrapper &#123;</span><br><span class="line">  background: radial-gradient(circle at 35% 97%, rgba(3, 16, 50, 0.4) 0.04rem, transparent 0.04rem), radial-gradient(</span><br><span class="line">      circle at 45% 92%,</span><br><span class="line">      rgba(3, 16, 50, 0.4) 0.04rem,</span><br><span class="line">      transparent 0.02rem</span><br><span class="line">    ), radial-gradient(circle at 55% 98%, rgba(3, 16, 50, 0.4) 0.04rem, transparent 0.04rem), radial-gradient(circle at</span><br><span class="line">        65% 96%, rgba(3, 16, 50, 0.4) 0.06rem, transparent 0.06rem);</span><br><span class="line">  background-position: center bottom;</span><br><span class="line">  background-size: 100%;</span><br><span class="line">  bottom: -1rem;</span><br><span class="line">  opacity: 0;</span><br><span class="line">  transform: scale(2) translateY(-10px);</span><br><span class="line">&#125;</span><br><span class="line">.tip-button__text &#123;</span><br><span class="line">  color: #fff;</span><br><span class="line">  margin-right: 1.8rem;</span><br><span class="line">  opacity: 1;</span><br><span class="line">  position: relative;</span><br><span class="line">  transition: opacity 100ms linear 500ms;</span><br><span class="line">  z-index: 3;</span><br><span class="line">&#125;</span><br><span class="line">.tip-button::before &#123;</span><br><span class="line">  border-radius: 0.25rem;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  content: &quot;&quot;;</span><br><span class="line">  display: block;</span><br><span class="line">  height: 100%;</span><br><span class="line">  left: 50%;</span><br><span class="line">  position: absolute;</span><br><span class="line">  transform: translateX(-50%);</span><br><span class="line">  transition: height 250ms ease-in-out 400ms, width 250ms ease-in-out 300ms;</span><br><span class="line">  width: 100%;</span><br><span class="line">  z-index: 2;</span><br><span class="line">&#125;</span><br><span class="line">.tip-button::after &#123;</span><br><span class="line">  bottom: -1rem;</span><br><span class="line">  color: white;</span><br><span class="line">  content: &quot;ヾ(≧O≦)〃嗷~&quot;; /*点击后显示的内容*/</span><br><span class="line">  height: 110%;</span><br><span class="line">  left: 0;</span><br><span class="line">  opacity: 0;</span><br><span class="line">  position: absolute;</span><br><span class="line">  pointer-events: none;</span><br><span class="line">  text-align: center;</span><br><span class="line">  transform: scale(0);</span><br><span class="line">  transform-origin: 50% 20%;</span><br><span class="line">  transition: transform 200ms cubic-bezier(0, 0, 0.35, 1.43);</span><br><span class="line">  width: 100%;</span><br><span class="line">  z-index: 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.coin-wrapper &#123;</span><br><span class="line">  background: none;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  height: 18rem;</span><br><span class="line">  left: 0;</span><br><span class="line">  opacity: 1;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  pointer-events: none;</span><br><span class="line">  position: absolute;</span><br><span class="line">  transform: none;</span><br><span class="line">  transform-origin: 50% 100%;</span><br><span class="line">  transition: opacity 200ms linear 100ms, transform 300ms ease-out;</span><br><span class="line">  width: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.coin &#123;</span><br><span class="line">  --front-y-multiplier: 0;</span><br><span class="line">  --back-y-multiplier: 0;</span><br><span class="line">  --coin-y-multiplier: 0;</span><br><span class="line">  --coin-x-multiplier: 0;</span><br><span class="line">  --coin-scale-multiplier: 0;</span><br><span class="line">  --coin-rotation-multiplier: 0;</span><br><span class="line">  --shine-opacity-multiplier: 0.4;</span><br><span class="line">  --shine-bg-multiplier: 50%;</span><br><span class="line">  bottom: calc(var(--coin-y-multiplier) * 1rem - 3.5rem);</span><br><span class="line">  height: 3.5rem;</span><br><span class="line">  margin-bottom: 3.05rem;</span><br><span class="line">  position: absolute;</span><br><span class="line">  right: calc(var(--coin-x-multiplier) * 34% + 16%);</span><br><span class="line">  transform: translateX(50%) scale(calc(0.4 + var(--coin-scale-multiplier))) rotate(calc(var(</span><br><span class="line">            --coin-rotation-multiplier</span><br><span class="line">          ) * -1deg));</span><br><span class="line">  transition: opacity 100ms linear 200ms;</span><br><span class="line">  width: 3.5rem;</span><br><span class="line">  z-index: 3;</span><br><span class="line">&#125;</span><br><span class="line">.coin__front,</span><br><span class="line">.coin__middle,</span><br><span class="line">.coin__back,</span><br><span class="line">.coin::before,</span><br><span class="line">.coin__front::after,</span><br><span class="line">.coin__back::after &#123;</span><br><span class="line">  border-radius: 50%;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">  height: 100%;</span><br><span class="line">  left: 0;</span><br><span class="line">  position: absolute;</span><br><span class="line">  width: 100%;</span><br><span class="line">  z-index: 3;</span><br><span class="line">&#125;</span><br><span class="line">.coin__front &#123;</span><br><span class="line">  background: radial-gradient(circle at 50% 50%, transparent 50%, rgba(115, 124, 153, 0.4) 54%, #c2cadf 54%),</span><br><span class="line">    linear-gradient(210deg, #8590b3 32%, transparent 32%), linear-gradient(150deg, #8590b3 32%, transparent 32%),</span><br><span class="line">    linear-gradient(to right, #8590b3 22%, transparent 22%, transparent 78%, #8590b3 78%), linear-gradient(</span><br><span class="line">      to bottom,</span><br><span class="line">      #fcfaf9 44%,</span><br><span class="line">      transparent 44%,</span><br><span class="line">      transparent 65%,</span><br><span class="line">      #fcfaf9 65%,</span><br><span class="line">      #fcfaf9 71%,</span><br><span class="line">      #8590b3 71%</span><br><span class="line">    ), linear-gradient(to right, transparent 28%, #fcfaf9 28%, #fcfaf9 34%, #8590b3 34%, #8590b3 40%, #fcfaf9 40%, #fcfaf9</span><br><span class="line">        47%, #8590b3 47%, #8590b3 53%, #fcfaf9 53%, #fcfaf9 60%, #8590b3 60%, #8590b3 66%, #fcfaf9 66%, #fcfaf9 72%, transparent</span><br><span class="line">        72%);</span><br><span class="line">  background-color: #8590b3;</span><br><span class="line">  background-size: 100% 100%;</span><br><span class="line">  transform: translateY(calc(var(--front-y-multiplier) * 0.3181818182rem / 2)) scaleY(var(--front-scale-multiplier));</span><br><span class="line">&#125;</span><br><span class="line">.coin__front::after &#123;</span><br><span class="line">  background: rgba(0, 0, 0, 0.2);</span><br><span class="line">  content: &quot;&quot;;</span><br><span class="line">  opacity: var(--front-y-multiplier);</span><br><span class="line">&#125;</span><br><span class="line">.coin__middle &#123;</span><br><span class="line">  background: #737c99;</span><br><span class="line">  transform: translateY(calc(var(--middle-y-multiplier) * 0.3181818182rem / 2)) scaleY(var(--middle-scale-multiplier));</span><br><span class="line">&#125;</span><br><span class="line">.coin__back &#123;</span><br><span class="line">  background: radial-gradient(circle at 50% 50%, transparent 50%, rgba(115, 124, 153, 0.4) 54%, #c2cadf 54%),</span><br><span class="line">    radial-gradient(circle at 50% 40%, #fcfaf9 23%, transparent 23%), radial-gradient(circle at 50% 100%, #fcfaf9 35%, transparent</span><br><span class="line">        35%);</span><br><span class="line">  background-color: #8590b3;</span><br><span class="line">  background-size: 100% 100%;</span><br><span class="line">  transform: translateY(calc(var(--back-y-multiplier) * 0.3181818182rem / 2)) scaleY(var(--back-scale-multiplier));</span><br><span class="line">&#125;</span><br><span class="line">.coin__back::after &#123;</span><br><span class="line">  background: rgba(0, 0, 0, 0.2);</span><br><span class="line">  content: &quot;&quot;;</span><br><span class="line">  opacity: var(--back-y-multiplier);</span><br><span class="line">&#125;</span><br><span class="line">.coin::before &#123;</span><br><span class="line">  background: radial-gradient(circle at 25% 65%, transparent 50%, rgba(255, 255, 255, 0.9) 90%), linear-gradient(55deg, transparent</span><br><span class="line">        calc(var(--shine-bg-multiplier) + 0%), #e9f4ff calc(var(--shine-bg-multiplier) + 0%), transparent calc(var(</span><br><span class="line">              --shine-bg-multiplier</span><br><span class="line">            ) + 50%));</span><br><span class="line">  content: &quot;&quot;;</span><br><span class="line">  opacity: var(--shine-opacity-multiplier);</span><br><span class="line">  transform: translateY(calc(var(--middle-y-multiplier) * 0.3181818182rem / -2)) scaleY(var(--middle-scale-multiplier))</span><br><span class="line">    rotate(calc(var(--coin-rotation-multiplier) * 1deg));</span><br><span class="line">  z-index: 10;</span><br><span class="line">&#125;</span><br><span class="line">.coin::after &#123;</span><br><span class="line">  background: #737c99;</span><br><span class="line">  content: &quot;&quot;;</span><br><span class="line">  height: 0.3181818182rem;</span><br><span class="line">  left: 0;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 50%;</span><br><span class="line">  transform: translateY(-50%);</span><br><span class="line">  width: 100%;</span><br><span class="line">  z-index: 2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes shake &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    transform: rotate(4deg);</span><br><span class="line">  &#125;</span><br><span class="line">  66% &#123;</span><br><span class="line">    transform: rotate(-4deg);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    transform: rotate();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>新建[Blogroot]\source\js\coin\coin.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">var tipButtons = document.querySelectorAll(&quot;.tip-button&quot;);</span><br><span class="line"></span><br><span class="line">function coinAudio() &#123;</span><br><span class="line">  var coinAudio = document.getElementById(&quot;coinAudio&quot;);</span><br><span class="line">  if (coinAudio) &#123;</span><br><span class="line">    coinAudio.play(); //有音频时播放</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">// Loop through all buttons (allows for multiple buttons on page)</span><br><span class="line">tipButtons.forEach(button =&gt; &#123;</span><br><span class="line">  var coin = button.querySelector(&quot;.coin&quot;);</span><br><span class="line"></span><br><span class="line">  // The larger the number, the slower the animation</span><br><span class="line">  coin.maxMoveLoopCount = 90;</span><br><span class="line"></span><br><span class="line">  button.addEventListener(&quot;click&quot;, () =&gt; &#123;</span><br><span class="line">    if (/Android|webOS|BlackBerry/i.test(navigator.userAgent)) return true; //媒体选择</span><br><span class="line">    if (button.clicked) return;</span><br><span class="line">    button.classList.add(&quot;clicked&quot;);</span><br><span class="line"></span><br><span class="line">    // Wait to start flipping th coin because of the button tilt animation</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      // Randomize the flipping speeds just for fun</span><br><span class="line">      coin.sideRotationCount = Math.floor(Math.random() * 5) * 90;</span><br><span class="line">      coin.maxFlipAngle = (Math.floor(Math.random() * 4) + 3) * Math.PI;</span><br><span class="line">      button.clicked = true;</span><br><span class="line">      flipCoin();</span><br><span class="line">      coinAudio();</span><br><span class="line">    &#125;, 50);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  var flipCoin = () =&gt; &#123;</span><br><span class="line">    coin.moveLoopCount = 0;</span><br><span class="line">    flipCoinLoop();</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  var resetCoin = () =&gt; &#123;</span><br><span class="line">    coin.style.setProperty(&quot;--coin-x-multiplier&quot;, 0);</span><br><span class="line">    coin.style.setProperty(&quot;--coin-scale-multiplier&quot;, 0);</span><br><span class="line">    coin.style.setProperty(&quot;--coin-rotation-multiplier&quot;, 0);</span><br><span class="line">    coin.style.setProperty(&quot;--shine-opacity-multiplier&quot;, 0.4);</span><br><span class="line">    coin.style.setProperty(&quot;--shine-bg-multiplier&quot;, &quot;50%&quot;);</span><br><span class="line">    coin.style.setProperty(&quot;opacity&quot;, 1);</span><br><span class="line">    // Delay to give the reset animation some time before you can click again</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      button.clicked = false;</span><br><span class="line">    &#125;, 300);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  var flipCoinLoop = () =&gt; &#123;</span><br><span class="line">    coin.moveLoopCount++;</span><br><span class="line">    var percentageCompleted = coin.moveLoopCount / coin.maxMoveLoopCount;</span><br><span class="line">    coin.angle = -coin.maxFlipAngle * Math.pow(percentageCompleted - 1, 2) + coin.maxFlipAngle;</span><br><span class="line"></span><br><span class="line">    // Calculate the scale and position of the coin moving through the air</span><br><span class="line">    coin.style.setProperty(&quot;--coin-y-multiplier&quot;, -11 * Math.pow(percentageCompleted * 2 - 1, 4) + 11);</span><br><span class="line">    coin.style.setProperty(&quot;--coin-x-multiplier&quot;, percentageCompleted);</span><br><span class="line">    coin.style.setProperty(&quot;--coin-scale-multiplier&quot;, percentageCompleted * 0.6);</span><br><span class="line">    coin.style.setProperty(&quot;--coin-rotation-multiplier&quot;, percentageCompleted * coin.sideRotationCount);</span><br><span class="line"></span><br><span class="line">    // Calculate the scale and position values for the different coin faces</span><br><span class="line">    // The math uses sin/cos wave functions to similate the circular motion of 3D spin</span><br><span class="line">    coin.style.setProperty(&quot;--front-scale-multiplier&quot;, Math.max(Math.cos(coin.angle), 0));</span><br><span class="line">    coin.style.setProperty(&quot;--front-y-multiplier&quot;, Math.sin(coin.angle));</span><br><span class="line"></span><br><span class="line">    coin.style.setProperty(&quot;--middle-scale-multiplier&quot;, Math.abs(Math.cos(coin.angle), 0));</span><br><span class="line">    coin.style.setProperty(&quot;--middle-y-multiplier&quot;, Math.cos((coin.angle + Math.PI / 2) % Math.PI));</span><br><span class="line"></span><br><span class="line">    coin.style.setProperty(&quot;--back-scale-multiplier&quot;, Math.max(Math.cos(coin.angle - Math.PI), 0));</span><br><span class="line">    coin.style.setProperty(&quot;--back-y-multiplier&quot;, Math.sin(coin.angle - Math.PI));</span><br><span class="line"></span><br><span class="line">    coin.style.setProperty(&quot;--shine-opacity-multiplier&quot;, 4 * Math.sin((coin.angle + Math.PI / 2) % Math.PI) - 3.2);</span><br><span class="line">    coin.style.setProperty(&quot;--shine-bg-multiplier&quot;, -40 * (Math.cos((coin.angle + Math.PI / 2) % Math.PI) - 0.5) + &quot;%&quot;);</span><br><span class="line"></span><br><span class="line">    // Repeat animation loop</span><br><span class="line">    if (coin.moveLoopCount &lt; coin.maxMoveLoopCount) &#123;</span><br><span class="line">      if (coin.moveLoopCount === coin.maxMoveLoopCount - 6) button.classList.add(&quot;shrink-landing&quot;);</span><br><span class="line">      window.requestAnimationFrame(flipCoinLoop);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      button.classList.add(&quot;coin-landed&quot;);</span><br><span class="line">      coin.style.setProperty(&quot;opacity&quot;, 0);</span><br><span class="line">      setTimeout(() =&gt; &#123;</span><br><span class="line">        button.classList.remove(&quot;clicked&quot;, &quot;shrink-landing&quot;, &quot;coin-landed&quot;);</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">          resetCoin();</span><br><span class="line">        &#125;, 300);</span><br><span class="line">      &#125;, 1500);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>修改_config.butterfly.yml,添加音频文件配置项，添加 CDN 配置项：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">  # Sponsor/reward</span><br><span class="line">  reward:</span><br><span class="line">    enable: true</span><br><span class="line">+   coinAudio: https://cdn.cbd.int/akilar-candyassets@1.0.36/audio/aowu.m4a</span><br><span class="line">    QR_code:</span><br><span class="line">      - img: https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png</span><br><span class="line">        link:</span><br><span class="line">        text: wechat</span><br><span class="line">      - img: https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png</span><br><span class="line">        link:</span><br><span class="line">        text: alipay</span><br><span class="line">  CDN:</span><br><span class="line">    # main</span><br><span class="line">    main_css: /css/index.css</span><br><span class="line">    jquery: https://cdn.cbd.int/jquery@latest/dist/jquery.min.js</span><br><span class="line">    main: /js/main.js</span><br><span class="line">    utils:/js/utils.js</span><br><span class="line">    option:</span><br><span class="line">+     # 打赏按钮投币效果</span><br><span class="line">+     coin_js: /js/coin/coin.js</span><br><span class="line">+     coin_css: /css/coin/coin.css</span><br></pre></td></tr></table></figure>
<p>现在的打赏按钮样式需要稍作适配，当前若提示语太长，悬停时会无法显示完全。需要微调一下,修改[Blogroot]\themes\butterfly\source\css_layout\reward.styl，整体替换为以下内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">.post-reward</span><br><span class="line">  position: relative</span><br><span class="line">  margin-top: 4rem</span><br><span class="line">  width: 100%</span><br><span class="line">  text-align: center</span><br><span class="line"></span><br><span class="line">  .reward-button</span><br><span class="line">    display: inline-block</span><br><span class="line">    padding: .2rem 1.2rem</span><br><span class="line">    background: var(--btn-bg)</span><br><span class="line">    color: var(--btn-color)</span><br><span class="line">    cursor: pointer</span><br><span class="line">    transition: all .4s</span><br><span class="line"></span><br><span class="line">    &amp;:hover</span><br><span class="line">      box-shadow: inset 15em 0 0 0 var(--btn-hover-color)</span><br><span class="line"></span><br><span class="line">      .reward-main</span><br><span class="line">        display: block</span><br><span class="line"></span><br><span class="line">    .reward-main</span><br><span class="line">      position: absolute</span><br><span class="line">      bottom: 40px</span><br><span class="line">      left: -25%</span><br><span class="line">      z-index: 100</span><br><span class="line">      display: none</span><br><span class="line">      padding: 0 0 15px</span><br><span class="line">      width: 150%</span><br><span class="line"></span><br><span class="line">      .reward-all</span><br><span class="line">        display: inline-block</span><br><span class="line">        margin: 0</span><br><span class="line">        padding: 1rem .5rem</span><br><span class="line">        border-radius: 4px</span><br><span class="line">        background: var(--reward-pop)</span><br><span class="line"></span><br><span class="line">        &amp;:before</span><br><span class="line">          position: absolute</span><br><span class="line">          bottom: -10px</span><br><span class="line">          left: 0</span><br><span class="line">          width: 100%</span><br><span class="line">          height: 20px</span><br><span class="line">          content: &#x27;&#x27;</span><br><span class="line"></span><br><span class="line">        &amp;:after</span><br><span class="line">          position: absolute</span><br><span class="line">          right: 0</span><br><span class="line">          bottom: 2px</span><br><span class="line">          left: 0</span><br><span class="line">          margin: 0 auto</span><br><span class="line">          width: 0</span><br><span class="line">          height: 0</span><br><span class="line">          border-top: 13px solid var(--reward-pop)</span><br><span class="line">          border-right: 13px solid transparent</span><br><span class="line">          border-left: 13px solid transparent</span><br><span class="line">          content: &#x27;&#x27;</span><br><span class="line"></span><br><span class="line">        .reward-item</span><br><span class="line">          display: inline-block</span><br><span class="line">          padding: 0 8px</span><br><span class="line">          list-style-type: none</span><br><span class="line">          vertical-align: top</span><br><span class="line"></span><br><span class="line">          img</span><br><span class="line">            width: 130px</span><br><span class="line">            height: 130px</span><br><span class="line"></span><br><span class="line">          .post-qr-code-desc</span><br><span class="line">            padding-top: .4rem</span><br><span class="line">            width: 130px</span><br><span class="line">            color: $reward-pop-up-color</span><br></pre></td></tr></table></figure>
<h2 id="404-页面展示最近文章"><a href="#404-页面展示最近文章" class="headerlink" title="404 页面展示最近文章"></a>404 页面展示最近文章</h2><p>替换themes\butterfly\layout\includes\404.pug为以下代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">- var top_img = theme.error_404.background || theme.default_top_img</span><br><span class="line">- var bg_img = `background-image: url(&#x27;$&#123;url_for(top_img)&#125;&#x27;)`</span><br><span class="line"></span><br><span class="line">#body-wrap.error</span><br><span class="line">  div(style=&#x27;display: none&#x27;)</span><br><span class="line">    include ./header/index.pug</span><br><span class="line"></span><br><span class="line">  #error-wrap</span><br><span class="line">    .error-content</span><br><span class="line">      .error-img(style=bg_img)</span><br><span class="line">      .error-info</span><br><span class="line">        h1.error_title= &#x27;404&#x27;</span><br><span class="line">        .error_subtitle= theme.error_404.subtitle</span><br><span class="line">        a.button--animated(href=config.root)</span><br><span class="line">          i.fas.fa-rocket</span><br><span class="line">          = _p(&#x27;返回主页&#x27;)</span><br><span class="line"></span><br><span class="line">  .aside-list</span><br><span class="line">    .aside-list-group</span><br><span class="line">        - let postLimit = theme.aside.card_recent_post.limit === 0 ? site.posts.length : theme.aside.card_recent_post.limit || 5</span><br><span class="line">        - let sort = theme.aside.card_recent_post.sort === &#x27;updated&#x27; ? &#x27;updated&#x27; : &#x27;date&#x27;</span><br><span class="line">        - site.posts.sort(sort, -1).limit(postLimit).each(function(article)&#123;</span><br><span class="line">          - let link = article.link || article.path</span><br><span class="line">          - let title = article.title || _p(&#x27;no_title&#x27;)</span><br><span class="line">          - let no_cover = article.cover === false || !theme.cover.aside_enable ? &#x27;no-cover&#x27; : &#x27;&#x27;</span><br><span class="line">          - let post_cover = article.cover</span><br><span class="line">          .aside-list-item(class=no_cover)</span><br><span class="line">            if post_cover &amp;&amp; theme.cover.aside_enable</span><br><span class="line">              a.thumbnail(href=url_for(link) title=title)</span><br><span class="line">                img(src=url_for(post_cover) onerror=`this.onerror=null;this.src=&#x27;$&#123;url_for(theme.error_img.post_page)&#125;&#x27;` alt=title)</span><br><span class="line">            .content</span><br><span class="line">              a.title(href=url_for(link) title=title)= title</span><br><span class="line">              if theme.aside.card_recent_post.sort === &#x27;updated&#x27;</span><br><span class="line">                time(datetime=date_xml(article.updated) title=_p(&#x27;post.updated&#x27;) + &#x27; &#x27; + full_date(article.updated)) #[=date(article.updated, config.date_format)]</span><br><span class="line">              else</span><br><span class="line">                time(datetime=date_xml(article.date) title=_p(&#x27;post.created&#x27;) + &#x27; &#x27; + full_date(article.date)) #[=date(article.date, config.date_format)]</span><br><span class="line">        - &#125;)</span><br></pre></td></tr></table></figure>
<h2 id="标签云增加文章数上下标"><a href="#标签云增加文章数上下标" class="headerlink" title="标签云增加文章数上下标"></a>标签云增加文章数上下标</h2><p>搜索 cloudTags 函数，可以在 \themes\butterfly\scripts\helpers\page.js 找到绘制标签云的代码，增加 <sup>${tag.length}</sup> 或 <sub>${tag.length}</sub> 可绘制表示标签文章数的上下标。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">hexo.extend.helper.register(&#x27;cloudTags&#x27;, function (options = &#123;&#125;) &#123;</span><br><span class="line">  const theme = hexo.theme.config</span><br><span class="line">  const env = this</span><br><span class="line">  let source = options.source</span><br><span class="line">  const minfontsize = options.minfontsize</span><br><span class="line">  const maxfontsize = options.maxfontsize</span><br><span class="line">  const limit = options.limit</span><br><span class="line">  const unit = options.unit || &#x27;px&#x27;</span><br><span class="line"></span><br><span class="line">  let result = &#x27;&#x27;</span><br><span class="line">  if (limit &gt; 0) &#123;</span><br><span class="line">    source = source.limit(limit)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  const sizes = []</span><br><span class="line">  source.sort(&#x27;length&#x27;).forEach(tag =&gt; &#123;</span><br><span class="line">    const &#123; length &#125; = tag</span><br><span class="line">    if (sizes.includes(length)) return</span><br><span class="line">    sizes.push(length)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  const length = sizes.length - 1</span><br><span class="line">  source.forEach(tag =&gt; &#123;</span><br><span class="line">    const ratio = length ? sizes.indexOf(tag.length) / length : 0</span><br><span class="line">    const size = minfontsize + ((maxfontsize - minfontsize) * ratio)</span><br><span class="line">    let style = `font-size: $&#123;parseFloat(size.toFixed(2))&#125;$&#123;unit&#125;;`</span><br><span class="line">    const color = &#x27;rgb(&#x27; + Math.floor(Math.random() * 201) + &#x27;, &#x27; + Math.floor(Math.random() * 201) + &#x27;, &#x27; + Math.floor(Math.random() * 201) + &#x27;)&#x27; // 0,0,0 -&gt; 200,200,200</span><br><span class="line">    style += ` color: $&#123;color&#125;`</span><br><span class="line">-   result += `&lt;a href=&quot;$&#123;env.url_for(tag.path)&#125;&quot; style=&quot;$&#123;style&#125;&quot;&gt;$&#123;tag.name&#125;&lt;/a&gt;`</span><br><span class="line">+   result += `&lt;a href=&quot;$&#123;env.url_for(tag.path)&#125;&quot; style=&quot;$&#123;style&#125;&quot;&gt;$&#123;tag.name&#125;&lt;sup&gt;$&#123;tag.length&#125;&lt;/sup&gt;&lt;/a&gt;`</span><br><span class="line">  &#125;)</span><br><span class="line">  return result</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="自定义右键菜单-kill"><a href="#自定义右键菜单-kill" class="headerlink" title="*自定义右键菜单 %kill"></a>*自定义右键菜单 %kill</h2><p><a target="_blank" rel="noopener" href="https://fe32.top/articles/hexo1608/">Hexo + Butterfly 自定义右键菜单 | 唐志远の博客 (fe32.top)</a></p>
<p><a target="_blank" rel="noopener" href="https://yisous.xyz/posts/11eb4aac/">butterfly博客自定义右键菜单升级版 | Ariasakaの小窝 (yisous.xyz)</a></p>
<h2 id="文章统计图"><a href="#文章统计图" class="headerlink" title="文章统计图"></a>文章统计图</h2><p><a target="_blank" rel="noopener" href="https://blog.eurkon.com/post/1213ef82.html">Hexo 博客文章统计图 | Eurkon</a></p>
<h2 id="即刻短文"><a href="#即刻短文" class="headerlink" title="*即刻短文"></a>*即刻短文</h2><p><a target="_blank" rel="noopener" href="https://blog.zhheo.com/p/557c9e72.html">Hexo的Butterfly魔改教程：即刻短文静态部署版 | 张洪Heo (zhheo.com)</a></p>
<h2 id="侧边栏标签修改"><a href="#侧边栏标签修改" class="headerlink" title="*侧边栏标签修改"></a>*侧边栏标签修改</h2><p>打开themes/butterfly/scripts/helpers/page.js修改第 52 行左右, 其中 <sup> 表示上标，<sub> 表示下标。开启了排序。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  const length = sizes.length - 1</span><br><span class="line">- source.forEach(tag =&gt; &#123;</span><br><span class="line">+ source.sort(&#x27;name&#x27;).forEach(tag =&gt; &#123;</span><br><span class="line">    const ratio = length ? sizes.indexOf(tag.length) / length : 0</span><br><span class="line">    const size = minfontsize + ((maxfontsize - minfontsize) * ratio)</span><br><span class="line">    let style = `font-size: $&#123;parseFloat(size.toFixed(2))&#125;$&#123;unit&#125;;`</span><br><span class="line">    const color = &#x27;rgb(&#x27; + Math.floor(Math.random() * 201) + &#x27;, &#x27; + Math.floor(Math.random() * 201) + &#x27;, &#x27; + Math.floor(Math.random() * 201) + &#x27;)&#x27; // 0,0,0 -&gt; 200,200,200</span><br><span class="line">    style += ` color: $&#123;color&#125;`</span><br><span class="line">-   result += `&lt;a href=&quot;$&#123;env.url_for(tag.path)&#125;&quot; style=&quot;$&#123;style&#125;&quot;&gt;$&#123;tag.name&#125;&lt;/a&gt;`</span><br><span class="line">+   result += `&lt;a href=&quot;$&#123;env.url_for(tag.path)&#125;&quot; style=&quot;$&#123;style&#125;&quot;&gt;$&#123;tag.name&#125;&lt;sup&gt;$&#123;tag.length&#125;&lt;/sup&gt;&lt;/a&gt;`</span><br><span class="line">  &#125;)</span><br><span class="line">  return result</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>加入以下css</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">/* tags样式 */</span><br><span class="line">#aside-content .card-tag-cloud a &#123;</span><br><span class="line">  color: var(--anzhiyu-fontcolor) !important;</span><br><span class="line">  font-size: 1.05rem !important;</span><br><span class="line">  border-radius: 8px;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  margin-right: 4px;</span><br><span class="line">&#125;</span><br><span class="line">#aside-content .card-tag-cloud a:hover &#123;</span><br><span class="line">  background: var(--anzhiyu-theme);</span><br><span class="line">  color: var(--anzhiyu-white) !important;</span><br><span class="line">  box-shadow: var(--anzhiyu-shadow-theme);</span><br><span class="line">&#125;</span><br><span class="line">@media screen and (min-width: 1300px) &#123;</span><br><span class="line">  #aside-content .card-tag-cloud a:hover &#123;</span><br><span class="line">    transform: scale(1.03);</span><br><span class="line">  &#125;</span><br><span class="line">  #aside-content .card-tag-cloud a:active &#123;</span><br><span class="line">    transform: scale(0.97);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">#aside-content .card-tag-cloud a sup &#123;</span><br><span class="line">  opacity: 0.4;</span><br><span class="line">  margin-left: 2px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="侧边栏归档修改"><a href="#侧边栏归档修改" class="headerlink" title="*侧边栏归档修改"></a>*侧边栏归档修改</h2><p>打开themes/butterfly/scripts/helpers/aside_archives.js修改第 92 行左右, 其中 <sup> 表示上标，<sub> 表示下标。开启了排序。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">result += transform ? transform(item.name) : item.name</span><br><span class="line">result += &#x27;&lt;/span&gt;&#x27;</span><br><span class="line"></span><br><span class="line">if (showCount) &#123;</span><br><span class="line">- result += `&lt;span class=&quot;card-archive-list-count&quot;&gt;$&#123;item.count&#125;&lt;/span&gt;`</span><br><span class="line">+ result += `&lt;div class=&quot;card-archive-list-count-group&quot;&gt;&lt;span class=&quot;card-archive-list-count&quot;&gt;$&#123;item.count&#125;&lt;/span&gt;&lt;span&gt;篇&lt;/span&gt;&lt;/div&gt;`</span><br><span class="line">&#125;</span><br><span class="line">result += &#x27;&lt;/a&gt;&#x27;</span><br><span class="line">result += &#x27;&lt;/li&gt;&#x27;</span><br></pre></td></tr></table></figure>
<p>加入以下 css</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">/* 归档样式 */</span><br><span class="line">span.card-archive-list-count &#123;</span><br><span class="line">  width: auto;</span><br><span class="line">  text-align: left;</span><br><span class="line">  font-size: 1.5rem;</span><br><span class="line">  line-height: 0.9;</span><br><span class="line">  font-weight: 700;</span><br><span class="line">&#125;</span><br><span class="line">.card-archive-list-count-group &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: row;</span><br><span class="line">  align-items: baseline;</span><br><span class="line">&#125;</span><br><span class="line">#aside-content .card-archives ul.card-archive-list &gt; .card-archive-list-item a span:last-child,</span><br><span class="line">#aside-content .card-categories ul.card-category-list &gt; .card-category-list-item a span:last-child &#123;</span><br><span class="line">  width: fit-content;</span><br><span class="line">  margin-left: 4px;</span><br><span class="line">&#125;</span><br><span class="line">span.card-archive-list-count &#123;</span><br><span class="line">  width: auto;</span><br><span class="line">  text-align: left;</span><br><span class="line">  font-size: 1.1rem;</span><br><span class="line">  line-height: 0.9;</span><br><span class="line">  font-weight: 700;</span><br><span class="line">&#125;</span><br><span class="line">.card-archive-list-date &#123;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  opacity: 0.6;</span><br><span class="line">&#125;</span><br><span class="line">li.card-archive-list-item &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">  flex: 0 0 48%;</span><br><span class="line">&#125;</span><br><span class="line">#aside-content .card-archives ul.card-archive-list &gt; .card-archive-list-item a:hover,</span><br><span class="line">#aside-content .card-categories ul.card-category-list &gt; .card-category-list-item a:hover &#123;</span><br><span class="line">  color: var(--anzhiyu-white);</span><br><span class="line">  background-color: var(--anzhiyu-theme);</span><br><span class="line">  box-shadow: var(--anzhiyu-shadow-theme);</span><br><span class="line">  border-radius: 8px;</span><br><span class="line">  padding-left: 0.5rem;</span><br><span class="line">  padding-right: 0.5rem;</span><br><span class="line">&#125;</span><br><span class="line">@media screen and (min-width: 1300px) &#123;</span><br><span class="line">  #aside-content .card-archives ul.card-archive-list &gt; .card-archive-list-item a:hover,</span><br><span class="line">  #aside-content .card-categories ul.card-category-list &gt; .card-category-list-item a:hover &#123;</span><br><span class="line">    transform: scale(1.03);</span><br><span class="line">  &#125;</span><br><span class="line">  #aside-content .card-archives ul.card-archive-list &gt; .card-archive-list-item a:active,</span><br><span class="line">  #aside-content .card-categories ul.card-category-list &gt; .card-category-list-item a:active &#123;</span><br><span class="line">    transform: scale(0.97);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">#aside-content .card-archives ul.card-archive-list &gt; .card-archive-list-item a,</span><br><span class="line">#aside-content .card-categories ul.card-category-list &gt; .card-category-list-item a &#123;</span><br><span class="line">  border-radius: 8px;</span><br><span class="line">  margin: 4px 0;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: column;</span><br><span class="line">  align-content: space-between;</span><br><span class="line">  border: var(--style-border);</span><br><span class="line">&#125;</span><br><span class="line">#aside-content .card-archives ul.card-archive-list &gt; .card-archive-list-item a span:first-child,</span><br><span class="line">#aside-content .card-categories ul.card-category-list &gt; .card-category-list-item a span:first-child &#123;</span><br><span class="line">  width: auto;</span><br><span class="line">  flex: inherit;</span><br><span class="line">&#125;</span><br><span class="line">#aside-content .card-archives ul.card-archive-list,</span><br><span class="line">#aside-content .card-categories ul.card-category-list &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: row;</span><br><span class="line">  justify-content: space-between;</span><br><span class="line">  flex-wrap: wrap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="侧边栏最近文章修改"><a href="#侧边栏最近文章修改" class="headerlink" title="*侧边栏最近文章修改"></a>*侧边栏最近文章修改</h2><p>去除首页最近文章显示，改为文章页显示，修改themes/butterfly/layout/includes/widget/index.pug</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">else</span><br><span class="line">//- page</span><br><span class="line">!=partial(&#x27;includes/widget/card_author&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">!=partial(&#x27;includes/widget/card_announcement&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">!=partial(&#x27;includes/widget/card_top_self&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"></span><br><span class="line">.sticky_layout</span><br><span class="line">  if showToc</span><br><span class="line">    include ./card_post_toc.pug</span><br><span class="line">- !=partial(&#x27;includes/widget/card_recent_post&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">  !=partial(&#x27;includes/widget/card_ad&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">  !=partial(&#x27;includes/widget/card_newest_comment&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">  !=partial(&#x27;includes/widget/card_categories&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">  !=partial(&#x27;includes/widget/card_tags&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br></pre></td></tr></table></figure>
<p>加入以下 css</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">#aside-content .aside-list &gt; .aside-list-item .content &gt; time &#123;</span><br><span class="line">  display: none;</span><br><span class="line">&#125;</span><br><span class="line">#aside-content .aside-list &gt; .aside-list-item .content &gt; .title &#123;</span><br><span class="line">  -webkit-line-clamp: 3;</span><br><span class="line">  font-weight: 700;</span><br><span class="line">  padding: 2px 0;</span><br><span class="line">&#125;</span><br><span class="line">#aside-content .aside-list &gt; .aside-list-item &#123;</span><br><span class="line">  padding: 8px;</span><br><span class="line">  padding-top: 6px !important;</span><br><span class="line">  padding-bottom: 6px !important;</span><br><span class="line">  border-radius: 12px;</span><br><span class="line">  transition: 0.3s;</span><br><span class="line">  margin: 4px 0;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line">@media screen and (min-width: 1300px) &#123;</span><br><span class="line">  #aside-content .aside-list &gt; .aside-list-item:hover &#123;</span><br><span class="line">    transform: scale(1.03);</span><br><span class="line">  &#125;</span><br><span class="line">  #aside-content .aside-list &gt; .aside-list-item:active &#123;</span><br><span class="line">    transform: scale(0.97);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">#aside-content .aside-list &gt; .aside-list-item:hover .thumbnail &gt; img &#123;</span><br><span class="line">  transform: scale(1);</span><br><span class="line">&#125;</span><br><span class="line">#aside-content .aside-list &gt; .aside-list-item:not(:last-child) &#123;</span><br><span class="line">  border-bottom: 0 dashed var(--anzhiyu-background) !important;</span><br><span class="line">&#125;</span><br><span class="line">#aside-content .aside-list &gt; .aside-list-item .thumbnail &#123;</span><br><span class="line">  border-radius: 8px;</span><br><span class="line">  border: var(--style-border);</span><br><span class="line">&#125;</span><br><span class="line">#aside-content .aside-list &gt; .aside-list-item:hover &#123;</span><br><span class="line">  background: var(--anzhiyu-blue-main);</span><br><span class="line">  color: var(--anzhiyu-white);</span><br><span class="line">  transition: 0.3s;</span><br><span class="line">  box-shadow: var(--anzhiyu-shadow-main);</span><br><span class="line">&#125;</span><br><span class="line">#aside-content .aside-list &gt; .aside-list-item:hover a &#123;</span><br><span class="line">  color: var(--anzhiyu-white) !important;</span><br><span class="line">&#125;</span><br><span class="line">.card-widget.card-recent-post &#123;</span><br><span class="line">  padding: 0.4rem 0.6rem !important;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="页面配置"><a href="#页面配置" class="headerlink" title="页面配置"></a>页面配置</h1><p><a target="_blank" rel="noopener" href="https://docs.anheyu.com/page/about.html">关于页面配置 | 安知鱼主题官方文档 (anheyu.com)</a></p>
<h1 id="音乐馆"><a href="#音乐馆" class="headerlink" title="音乐馆"></a>音乐馆</h1><p><a target="_blank" rel="noopener" href="https://blog.anheyu.com/posts/c3d3.html">给你的博客加一个优雅的音乐界面 | 安知鱼 (anheyu.com)</a></p>
<h1 id="自动部署"><a href="#自动部署" class="headerlink" title="自动部署"></a>自动部署</h1><p><a target="_blank" rel="noopener" href="https://akilar.top/posts/f752c86d/">使用Github Action实现全自动部署 | Akilarの糖果屋</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &quot;github action update&quot;</span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://blog.anheyu.com/posts/sdxhu.html">butterfly 重装日记 | 安知鱼 (anheyu.com)</a></p>
<h1 id="hexo图床处理"><a href="#hexo图床处理" class="headerlink" title="hexo图床处理"></a>hexo图床处理</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_46087070/article/details/113099353?spm=1001.2014.3001.5501">Typora到CSDN博客图片上传问题-CSDN博客</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://cdn.jsdelivr.net/gh/shaunzhao-yu/img@main</span><br></pre></td></tr></table></figure>
<h1 id="github-faster"><a href="#github-faster" class="headerlink" title="github faster"></a>github faster</h1><p><a target="_blank" rel="noopener" href="https://akilar.top/posts/61b3e163/">github faster | Akilarの糖果屋</a></p>
<h1 id="评论"><a href="#评论" class="headerlink" title="评论"></a>评论</h1><p><a target="_blank" rel="noopener" href="https://fe32.top/articles/hexo1611/">基于 Hexo 键入评论功能 | 唐志远の博客 (fe32.top)</a></p>
<h1 id="悬挂灯笼"><a href="#悬挂灯笼" class="headerlink" title="悬挂灯笼"></a>悬挂灯笼</h1><p><a target="_blank" rel="noopener" href="https://www.fomal.cc/posts/2d7ac914.html">博客魔改教程总结(一) | Fomalhaut🥝</a></p>
<h1 id="在线聊天"><a href="#在线聊天" class="headerlink" title="在线聊天"></a>在线聊天</h1><p><a target="_blank" rel="noopener" href="https://fe32.top/articles/hexo1610/">基于 Hexo 键入在线聊天功能 | 唐志远の博客 (fe32.top)</a></p>
<h1 id="节日弹窗和公祭日"><a href="#节日弹窗和公祭日" class="headerlink" title="节日弹窗和公祭日"></a>节日弹窗和公祭日</h1><p><a target="_blank" rel="noopener" href="https://www.fomal.cc/posts/2d7ac914.html">博客魔改教程总结(一) | Fomalhaut🥝</a></p>
<h1 id="文章加密插件"><a href="#文章加密插件" class="headerlink" title="文章加密插件"></a>文章加密插件</h1><p><a target="_blank" rel="noopener" href="https://www.fomal.cc/posts/2d7ac914.html">博客魔改教程总结(一) | Fomalhaut🥝</a></p>
<h1 id="hexo-教程"><a href="#hexo-教程" class="headerlink" title="hexo 教程"></a>hexo 教程</h1><p>教程：</p>
<p>Hexo 官方文档：<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/">https://hexo.io/zh-cn/docs/</a><br>Hexo 官方提供的详细文档，包含了安装、配置和使用 Hexo 的指南。</p>
<p>博客库：</p>
<p>Hexo 官方主题库：<a target="_blank" rel="noopener" href="https://hexo.io/themes/">https://hexo.io/themes/</a><br>Hexo 官方提供的主题库，包含了各种风格的主题，可以根据个人喜好选择。</p>
<p>Hexo 主题 - GitHub：<a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/wiki/Themes">https://github.com/hexojs/hexo/wiki/Themes</a><br>在 GitHub 上的 Hexo Wiki 页面，收集了各种开源的 Hexo 主题，你可以在这里找到适合自己的主题。</p>
<p>插件和扩展：</p>
<p>Hexo 官方插件列表：<a target="_blank" rel="noopener" href="https://hexo.io/plugins/">https://hexo.io/plugins/</a><br>Hexo 官方提供的插件列表，包含了各种功能和工具，如SEO优化、站点统计、评论系统等。</p>
<p>Hexo 非官方插件列表 - Awesome Hexo：<a target="_blank" rel="noopener" href="https://github.com/hexojs/awesome-hexo">https://github.com/hexojs/awesome-hexo</a><br>一个收集了大量 Hexo 非官方插件的 GitHub 项目，其中包括了许多有用的插件和扩展。</p>
<p>Hexo 部署扩展 - GitHub Pages：<a target="_blank" rel="noopener" href="https://hexo.io/docs/github-pages">https://hexo.io/docs/github-pages</a><br>如果您计划将博客托管在 GitHub Pages 上，这个官方文档将指导您如何进行部署。</p>
<p>社区和交流：</p>
<p>Hexo 官方论坛：<a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">https://github.com/hexojs/hexo/issues</a><br>Hexo 官方论坛是一个开放的 GitHub 问题页面，您可以在这里提问、报告问题或参与讨论。</p>
<p>Hexo 中文社区 - SegmentFault：<a target="_blank" rel="noopener" href="https://segmentfault.com/t/hexo">https://segmentfault.com/t/hexo</a><br>SegmentFault 是一个中文开发者社区，在这里您可以找到关于 Hexo 的问题和讨论。</p>
<p>Hexo 官方博客：http<br>s://hexo.io/blog/<br>Hexo 官方博客上发布了一些有关 Hexo 的最新动态、教程和技巧</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><h2 id="评论-1"><a href="#评论-1" class="headerlink" title="评论"></a>评论</h2><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000042269052">前端 - 基于 Hexo 键入评论功能 - 个人文章 - SegmentFault 思否</a></p>
<p>添加 <a target="_blank" rel="noopener" href="https://link.segmentfault.com/?enc=kZEKQaRhnx%2FcR9WTEDVgtQ%3D%3D.apt0L5APaGLOpe0R7s6cdtrqtgev%2FWHQTLkOfRVMsEY%3D">utterances</a>评论系统</p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000021486140#item-8">Hexo next主题博客搭建及美化 - 个人文章 - SegmentFault 思否</a></p>
<h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000043914273">前端 - 飞只因太美，给你的首页装上吧！ - 个人文章 - SegmentFault 思否</a></p>
<h2 id="Obisidian结合"><a href="#Obisidian结合" class="headerlink" title="Obisidian结合"></a>Obisidian结合</h2><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000042111566">Hexo + Obsidian + Git 完美的博客部署与编辑方案 - 个人文章 - SegmentFault 思否</a></p>
<h2 id="语雀结合"><a href="#语雀结合" class="headerlink" title="语雀结合"></a>语雀结合</h2><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000037684426">Hexo+Travis+yuque-hexo+Serverless自动化部署博客问题解决方案 - 个人文章 - SegmentFault 思否</a></p>
<h2 id="图床"><a href="#图床" class="headerlink" title="图床"></a>图床</h2><p>七牛云</p>
<h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000040767893">javascript - hexo配合github action 自动构建（多种形式） - 前端与算法 - SegmentFault 思否</a></p>
<h1 id="参考-服务器部署"><a href="#参考-服务器部署" class="headerlink" title="参考 服务器部署"></a>参考 服务器部署</h1><h2 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y gcc gcc-c++ make zlib zlib-devel libtool openssl openssl-devel</span><br></pre></td></tr></table></figure>
<h2 id="安装PCRE库"><a href="#安装PCRE库" class="headerlink" title="安装PCRE库"></a>安装PCRE库</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/</span><br><span class="line"></span><br><span class="line">wget http://downloads.sourceforge.net/project/pcre/pcre/8.37/pcre-8.37.tar.gz</span><br><span class="line"></span><br><span class="line">tar -xvf pcre-8.37.tar.gz</span><br><span class="line"></span><br><span class="line">cd pcre-8.37</span><br><span class="line"></span><br><span class="line">./configure</span><br><span class="line"></span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">pcre-config --version</span><br></pre></td></tr></table></figure>
<h2 id="安装nginx"><a href="#安装nginx" class="headerlink" title="安装nginx"></a>安装nginx</h2><p><strong>安装nginx一定要在local文件夹下</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/</span><br><span class="line"></span><br><span class="line">wget http://nginx.org/download/nginx-1.17.9.tar.gz</span><br><span class="line"></span><br><span class="line">tar -xvf nginx-1.17.9.tar.gz</span><br><span class="line"></span><br><span class="line">cd nginx-1.17.9</span><br><span class="line"></span><br><span class="line">./configure</span><br><span class="line"></span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 启动</span><br><span class="line">/usr/local/nginx/sbin/nginx</span><br><span class="line"></span><br><span class="line"># 重启</span><br><span class="line">/usr/local/nginx/sbin/nginx -s reload</span><br></pre></td></tr></table></figure>
<p><strong>修改配置文件server 80 端口下的root项 为/home/www/website;</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /usr/local/nginx/conf/nginx.conf</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/shaunzhao-yu/img@main/photos/202311202059854.png" alt="image-20231120205936566"></p>
<p>然后重新加载</p>
<h2 id="安装Git以及Node-js"><a href="#安装Git以及Node-js" class="headerlink" title="安装Git以及Node.js"></a>安装Git以及Node.js</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -sL https://rpm.nodesource.com/setup_10.x | bash -</span><br><span class="line"></span><br><span class="line">yum install -y nodejs</span><br><span class="line"># 如果安装失败看错误集锦</span><br></pre></td></tr></table></figure>
<h2 id="查看是否成功"><a href="#查看是否成功" class="headerlink" title="查看是否成功"></a>查看是否成功</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line"></span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>
<h2 id="安装Git及配置仓库"><a href="#安装Git及配置仓库" class="headerlink" title="安装Git及配置仓库"></a>安装Git及配置仓库</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">yum install git -y</span><br><span class="line"></span><br><span class="line">adduser git</span><br><span class="line"></span><br><span class="line">chmod 740 /etc/sudoers # 设置权限</span><br><span class="line"></span><br><span class="line">vi /etc/sudoers</span><br><span class="line"></span><br><span class="line">使用 set: nu 显示行号，找到100行左右，添加如下信息</span><br><span class="line">在如下位置添加</span><br><span class="line">root ALL=(ALL)  ALL</span><br><span class="line">git     ALL=(ALL)       ALL		#加入这一行</span><br><span class="line">vi指令执行之后按i进入输入模式</span><br><span class="line">编辑完成之后按一下esc</span><br><span class="line">然后输入:wq即可退出</span><br></pre></td></tr></table></figure>
<h2 id="执行以下指令更改文件夹权限"><a href="#执行以下指令更改文件夹权限" class="headerlink" title="执行以下指令更改文件夹权限"></a>执行以下指令更改文件夹权限</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">chmod 400 /etc/sudoers</span><br><span class="line"></span><br><span class="line">sudo passwd git</span><br><span class="line">密码：123456</span><br></pre></td></tr></table></figure>
<h2 id="切换git用户并且建立密钥"><a href="#切换git用户并且建立密钥" class="headerlink" title="切换git用户并且建立密钥"></a><strong>切换git用户并且建立密钥</strong></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">su git</span><br><span class="line"></span><br><span class="line">cd ~</span><br><span class="line"></span><br><span class="line">mkdir .ssh</span><br><span class="line"></span><br><span class="line">cd .ssh</span><br><span class="line"></span><br><span class="line">vi authorized_keys</span><br><span class="line"></span><br><span class="line">#内容为自己本地</span><br><span class="line">C:\Users\Administrator\.ssh\id_rsa.pub文件里的内容</span><br><span class="line"></span><br><span class="line">chmod 600 ~/.ssh/authorized_keys</span><br><span class="line"></span><br><span class="line">chmod 700 ~/.ssh</span><br></pre></td></tr></table></figure>
<h2 id="创建git仓库"><a href="#创建git仓库" class="headerlink" title="创建git仓库"></a>创建git仓库</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line"></span><br><span class="line">git init --bare blog.git</span><br><span class="line"></span><br><span class="line">vi ~/blog.git/hooks/post-receive</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git --work-tree=/home/www/website --git-dir=/home/git/blog.git checkout -f</span><br></pre></td></tr></table></figure>
<p>保存退出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x ~/blog.git/hooks/post-receive</span><br></pre></td></tr></table></figure>
<p>*以上指令都需要在su git 之后执行 如果中途断开重新连接过，需要重新执行 su git指令 进入git账户。</p>
<p>新建/home/www/website文件夹<br>在root用户下执行，所限先su root切换为root账户</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">su root</span><br><span class="line"></span><br><span class="line">输入密码</span><br><span class="line"></span><br><span class="line">cd /home</span><br><span class="line"></span><br><span class="line">mkdir -p www/website</span><br><span class="line"></span><br><span class="line">修改文件夹权限 这步很重要 </span><br><span class="line"></span><br><span class="line">chmod 777 /home/www/website</span><br><span class="line"></span><br><span class="line">chmod 777 /home/www</span><br></pre></td></tr></table></figure>
<h2 id="上传到服务器"><a href="#上传到服务器" class="headerlink" title="上传到服务器"></a>上传到服务器</h2><p>在本地电脑输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -v git@服务器的公网ip</span><br></pre></td></tr></table></figure>
<p>==修改本地配置文件==</p>
<p>注意：删除本地博客中.deploy_git文件，第一次部署忽略</p>
<p>我们需要在config.yml中的最后一行编辑以下信息，然后咱们就可以把自己的博客推送上去了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  - type: git</span><br><span class="line">    repository: git@这里改为服务器公网IP:/home/git/blog.git</span><br><span class="line">    branch: master</span><br></pre></td></tr></table></figure>
<p>然后就可以通过以下命令进行推送了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g -d</span><br></pre></td></tr></table></figure>
<h2 id="写入启动脚本"><a href="#写入启动脚本" class="headerlink" title="写入启动脚本"></a>写入启动脚本</h2><p>在/etc/init.d/路径下添加脚本文件，名称为nginx，内容如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/init.d/nginx</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">#Startup script for the nginx Web Server</span><br><span class="line">#chkconfig: 2345 85 15</span><br><span class="line">nginx=/usr/local/nginx/sbin/nginx</span><br><span class="line">conf=/usr/local/nginx/conf/nginx.conf</span><br><span class="line">case $1 in </span><br><span class="line">start)</span><br><span class="line">echo -n &quot;Starting Nginx&quot;</span><br><span class="line">$nginx -c $conf</span><br><span class="line">echo &quot; done.&quot;</span><br><span class="line">;;</span><br><span class="line">stop)</span><br><span class="line">echo -n &quot;Stopping Nginx&quot;</span><br><span class="line">killall -9 nginx</span><br><span class="line">echo &quot; done.&quot;</span><br><span class="line">;;</span><br><span class="line">test)</span><br><span class="line">$nginx -t -c $conf</span><br><span class="line">echo &quot;Success.&quot;</span><br><span class="line">;;</span><br><span class="line">reload)</span><br><span class="line">echo -n &quot;Reloading Nginx&quot;</span><br><span class="line">ps auxww | grep nginx | grep master | awk &#x27;&#123;print $2&#125;&#x27; | xargs kill -HUP</span><br><span class="line">echo &quot; done.&quot;</span><br><span class="line">;;</span><br><span class="line">restart)</span><br><span class="line">$nginx -s reload</span><br><span class="line">echo &quot;reload done.&quot;</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo &quot;Usage: $0 &#123;start|restart|reload|stop|test|show&#125;&quot;</span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<p>然后执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x nginx</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">控制指令</span><br><span class="line">启动service nginx start</span><br><span class="line">停止service nginx stop</span><br><span class="line">重启service nginx reload</span><br></pre></td></tr></table></figure>
<p>以下非必要不设置</p>
<p>开放80端口，如果https需要开放443端口</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanent --zone=public --add-port=80/tcp</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure>
<h2 id="错误集锦"><a href="#错误集锦" class="headerlink" title="错误集锦"></a>错误集锦</h2><p>-bash: npm: command not found</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#从 https://nodejs.org/en/ 下载 tar 文件并解压缩。</span><br><span class="line">curl https://nodejs.org/dist/v17.6.0/node-v17.6.0-linux-x64.tar.xz -o node-v17.6.0-linux-x64.tar.xz</span><br><span class="line">tar -xvf node-v17.6.0-linux-x64.tar.xz</span><br><span class="line"></span><br><span class="line">#在 /usr/local/ 下创建一个目录。</span><br><span class="line">sudo mkdir -p /usr/local/nodejs</span><br><span class="line"></span><br><span class="line">#在 /usr/local/nodejs/ 下移动节点文件。</span><br><span class="line">sudo mv node-v17.6.0-linux-x64/* /usr/local/nodejs/</span><br><span class="line"></span><br><span class="line">#将 /usr/local/nodejs/bin 目录添加到 .bashrc 文件中的 PATH。</span><br><span class="line">sudo vim ~/.bashrc</span><br><span class="line">export PATH=$PATH:/usr/local/nodejs/bin</span><br><span class="line"></span><br><span class="line">#重新加载 .bashrc 文件。</span><br><span class="line">source ~/.bashrc</span><br><span class="line"></span><br><span class="line">#安装 npm。</span><br><span class="line">curl -L https://npmjs.org/install.sh | sudo sh</span><br><span class="line"></span><br><span class="line">node --version</span><br><span class="line">npm --version</span><br></pre></td></tr></table></figure>
<p>$ ssh -v git@121.196.144.77:/home/git/blog.git<br>OpenSSH_9.2p1, OpenSSL 1.1.1t  7 Feb 2023<br>debug1: Reading configuration data /etc/ssh/ssh_config<br>debug1: resolve_canonicalize: hostname 121.196.144.77:/home/git/blog.git is an unrecognised address<br>ssh: Could not resolve hostname 121.196.144.77:/home/git/blog.git: Name or service not known</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.先到本地C:\Users\Administrator\.ssh\文件下，删除known_hosts文件</span><br><span class="line">2.执行ssh -v git@121.196.144.77</span><br><span class="line"></span><br><span class="line">提示Welcome to Alibaba Cloud Elastic Compute Service !就算ok了</span><br></pre></td></tr></table></figure>
<p>✘ nginx Error                                                                 0.6s<br> ✘ lsky-pro Error                                                              0.6s<br> ✘ mysql Error                                                                 0.6s<br>Error response from daemon: Get “<a target="_blank" rel="noopener" href="https://registry-1.docker.io/v2/">https://registry-1.docker.io/v2/</a>“: dial tcp: lookup registry-1.docker.io on 192.168.101.2:53: server misbehaving</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/resolv.conf</span><br><span class="line"></span><br><span class="line">#添加这两行</span><br><span class="line">nameserver 8.8.8.8</span><br><span class="line">nameserver 8.8.4.4</span><br></pre></td></tr></table></figure>
<h1 id="参考-图床部署-弃用"><a href="#参考-图床部署-弃用" class="headerlink" title="参考 图床部署 弃用"></a>参考 图床部署 弃用</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Lsky Pro 是一个用于在线上传、管理图片的图床程序，中文名：兰空图床，你可以将它作为自己的云上相册，亦可以当作你的写作贴图库。</p>
<p>兰空图床始于 2017 年 10 月，最早的版本由 ThinkPHP 5 开发，后又经历了数个版本的迭代，在 2021 年末启动了新的重写计划并于 2022 年 3 月份发布全新的 2.0 版本。</p>
<p>项目地址：<a target="_blank" rel="noopener" href="https://github.com/lsky-org/lsky-pro">https://github.com/lsky-org/lsky-pro</a></p>
<p>官网地址：<a target="_blank" rel="noopener" href="https://www.lsky.pro/">https://www.lsky.pro/</a></p>
<p>文档地址：<a target="_blank" rel="noopener" href="https://docs.lsky.pro/">https://docs.lsky.pro/</a></p>
<p>Docker镜像地址：<a target="_blank" rel="noopener" href="https://hub.docker.com/r/dko0/lsky-pro">https://hub.docker.com/r/dko0/lsky-pro</a></p>
<p>PicGo插件：<a target="_blank" rel="noopener" href="https://hellodk.cn/post/964">https://hellodk.cn/post/964</a></p>
<p>功能特性</p>
<ul>
<li>支持本地等多种第三方云储存 AWS S3、阿里云 OSS、腾讯云 COS、七牛云、又拍云、SFTP、FTP、WebDav、Minio</li>
<li>多种数据库驱动支持，MySQL 5.7+、PostgreSQL 9.6+、SQLite 3.8.8+、SQL Server 2017+</li>
<li>支持配置使用多种缓存驱动，Memcached、Redis、DynamoDB、等其他关系型数据库，默认以文件的方式缓存</li>
<li>多图上传、拖拽上传、粘贴上传、动态设置策略上传、复制、一键复制链接</li>
<li>强大的图片管理功能，瀑布流展示，支持鼠标右键、单选多选、重命名等操作</li>
<li>自由度极高的角色组配置，可以为每个组配置多个储存策略，同时储存策略可以配置多个角色组</li>
<li>可针对角色组设置上传文件、文件夹路径命名规则、上传频率限制、图片审核等功能</li>
<li>支持图片水印、文字水印、水印平铺、设置水印位置、X/y 轴偏移量设置、旋转角度等</li>
<li>支持通过接口上传、管理图片、管理相册</li>
<li>支持在线增量更新、跨版本更新</li>
<li>图片广场</li>
</ul>
<h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><ul>
<li>安装常用工具包</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo -i # 切换到root用户</span><br><span class="line">yum update -y</span><br><span class="line">yum install -y wget curl sudo vim git lsof</span><br></pre></td></tr></table></figure>
<ul>
<li>设置 <code>SWAP</code> 脚本（可选）</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O box.sh https://raw.githubusercontent.com/BlueSkyXN/SKY-BOX/main/box.sh &amp;&amp; chmod +x box.sh &amp;&amp; clear &amp;&amp; ./box.sh</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：VPS的内存如果过小，建议设置一下SWAP，一般为内存的1-1.5倍即可，可以让运行更流畅！</p>
</blockquote>
<p>安装 <code>Docker</code> 环境</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">1.卸载旧的版本</span><br><span class="line">$sudo yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-engine</span><br><span class="line">2.需要的安装包</span><br><span class="line">$sudo yum install -y yum-utils</span><br><span class="line">3.设置镜像的仓库（官方）</span><br><span class="line">$sudo yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://download.docker.com/linux/centos/docker-ce.repo  （官网速度慢）</span><br><span class="line">$sudo yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo（推荐使用，阿里云速度快）</span><br><span class="line">4.更新yum软件包索引</span><br><span class="line">$sudo yum makecache fast</span><br><span class="line">5.安装docker  docker-ce 社区版  docker-ee 企业版</span><br><span class="line">$sudo yum install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br><span class="line">6.启动docker</span><br><span class="line">$sudo systemctl start docker</span><br><span class="line">7.查看docker是否安装成功</span><br><span class="line">$sudo docker version</span><br></pre></td></tr></table></figure>
<p>卸载</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.卸载依赖</span><br><span class="line">$sudo yum remove docker-ce docker-ce-cli containerd.io</span><br><span class="line">2.删除资源</span><br><span class="line">$sudo rm -rf /var/lib/docker</span><br><span class="line"># /var/lib/docker     docker的默认工作路径</span><br></pre></td></tr></table></figure>
<h3 id="阿里云镜像加速"><a href="#阿里云镜像加速" class="headerlink" title="阿里云镜像加速"></a>阿里云镜像加速</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">配置镜像加速器</span><br><span class="line">通过shell脚本追加文本内容</span><br><span class="line">$sudo mkdir -p /etc/docker</span><br><span class="line">$sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://f2k3b83v.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">$sudo systemctl daemon-reload</span><br><span class="line">$sudo systemctl restart docker</span><br></pre></td></tr></table></figure>
<h3 id="设置开机自动启动"><a href="#设置开机自动启动" class="headerlink" title="设置开机自动启动"></a>设置开机自动启动</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">systemctl <span class="built_in">enable</span> docker</span></span><br></pre></td></tr></table></figure>
<h3 id="查看docker服务状态"><a href="#查看docker服务状态" class="headerlink" title="查看docker服务状态"></a>查看docker服务状态</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">systemctl status docker</span></span><br></pre></td></tr></table></figure>
<h3 id="查看docker具体信息"><a href="#查看docker具体信息" class="headerlink" title="查看docker具体信息"></a>查看docker具体信息</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">docker info</span></span><br></pre></td></tr></table></figure>
<h2 id="docker-compose"><a href="#docker-compose" class="headerlink" title="docker-compose"></a>docker-compose</h2><p>这里采用离线安装，在线安装或多或少有各种问题</p>
<p><a target="_blank" rel="noopener" href="https://github.com/docker/compose/releases/">所有版本预览Releases · docker/compose (github.com)</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#最好是进入到/usr/local/bin/目录下安装，我第一次在根目录下安装，报错docker-compose: command not found，第二次在上述目录下安装可以成功</span><br><span class="line">#将文件上传到linux后，重命名</span><br><span class="line"> mv docker-compose-linux-x86_64.docker-compose-linux-x86_64 /usr/local/bin/docker-compose</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#添加可执行权限</span><br><span class="line">chmod +x /usr/local/bin/docker-compose</span><br><span class="line"></span><br><span class="line">#测试</span><br><span class="line">docker-compose version</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">安装docker-compose</span><br><span class="line">$ curl -SL https://github.com/docker/compose/releases/download/v2.4.1/docker-compose-linux-x86_64 -o /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure>
<h4 id="创建容器"><a href="#创建容器" class="headerlink" title="创建容器"></a>创建容器</h4><ol>
<li>在系统任意位置创建一个文件夹，此文档以 <code>/opt/docker/lsky</code> 为例</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /opt/docker/lsky &amp;&amp; cd /opt/docker/lsky</span><br><span class="line">mkdir -p ./&#123;conf,data,logs&#125;</span><br></pre></td></tr></table></figure>
<p>注意：后续操作中，产生的所有数据都会保存在这个目录，请妥善保存/opt/docker/lsky</p>
<ol>
<li><p>创建 <code>docker-compose.yaml</code></p>
</li>
<li><pre><code>vim docker-compose.yaml
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
version: &#39;3&#39;
services:
 lsky-pro:
     container_name: lsky-pro
     image: dko0/lsky-pro
     restart: always
     volumes:
         - ./data/html:/var/www/html  #映射到本地
     ports:
         - 7791:80
     environment:
         - MYSQL_HOST=mysql
         - MYSQL_DATABASE=lsky-pro
         - MYSQL_USER=lsky-pro
         - MYSQL_PASSWORD=lsky-pro
 mysql:
     image: mysql:8.0
     container_name: lsky-pro-db
     restart: always
     environment:
       - MYSQL_DATABASE=lsky-pro
       - MYSQL_USER=lsky-pro
       - MYSQL_PASSWORD=lsky-pro
       - MYSQL_ROOT_PASSWORD=lsky-pro
     volumes:
       - ./data/db:/var/lib/mysql
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; ![image-20231121133810029](https://cdn.jsdelivr.net/gh/shaunzhao-yu/img@main/photos/202311211338192.png)</span><br><span class="line">&gt;</span><br><span class="line">&gt; 注意：查看端口是否被占用</span><br><span class="line">&gt;</span><br><span class="line">&gt; lsof -i:7791</span><br><span class="line"></span><br><span class="line">1. 启动服务</span><br><span class="line"></span><br></pre></td></tr></table></figure>
docker-compose up -d
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">实时查看日志：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
docker-compose logs -f
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1. 用浏览器访问 `http://ip:端口号` 即可http://192.168.101.128:7791</span><br><span class="line"></span><br><span class="line">- 查看服务器 IP：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
curl ip.sb
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; 如果需要配置域名访问，建议先配置好反向代理以及域名解析再进行初始化。如果通过 http://ip:端口号 的形式无法访问，请到服务器厂商后台将运行的端口号添加到安全组，如果服务器使用了 Linux 面板，请检查此 Linux 面板是否有还有安全组配置，需要同样将端口号添加到安全组。</span><br><span class="line"></span><br><span class="line">#### 更新容器</span><br><span class="line"></span><br><span class="line">停止运行中的容器组</span><br><span class="line"></span><br></pre></td></tr></table></figure>
cd /opt/docker/lsky &amp;&amp; docker-compose down
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 备份数据（重要）</span><br><span class="line"></span><br></pre></td></tr></table></figure>
cp -r /opt/docker/lsky /opt/docker/lsky.archive
需要注意的是，lsky.archive 文件名不一定要根据此文档命名，这里仅仅是个示例。
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 更新服务</span><br><span class="line"></span><br><span class="line">修改 docker-compose.yaml 中配置的镜像版本</span><br><span class="line"></span><br><span class="line">#### 拉取镜像</span><br><span class="line"></span><br></pre></td></tr></table></figure>
docker-compose pull lsky-pro
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 重新启动容器</span><br><span class="line"></span><br></pre></td></tr></table></figure>
docker-compose up -d
</code></pre></li>
</ol>
<h3 id="初始化安装"><a href="#初始化安装" class="headerlink" title="初始化安装"></a>初始化安装</h3><p>访问网页地址，进入安装界面，按照提示进行安装即可</p>
<p>注意，数据库连接地址，填 <code>docker-compose</code> 文件里的容器名称 <code>lsky-pro-db</code></p>
<p>[[博客问题记录]]</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://ktzxy.github.io">蓝桉</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://ktzxy.github.io/posts/14950a1d.html">https://ktzxy.github.io/posts/14950a1d.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://ktzxy.github.io" target="_blank">蓝桉`Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2/">博客部署</a></div><div class="post-share"><div class="social-share" data-image="/bg/Image00003.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><link rel="stylesheet" href="/css/coin/coin.css" media="defer" onload="this.media='all'"/><div class="post-reward"><button class="tip-button reward-button"><span class="tip-button__text">不给糖果就捣蛋</span><div class="coin-wrapper"><div class="coin"><div class="coin__middle"></div><div class="coin__back"></div><div class="coin__front"></div></div></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.webp" target="_blank"><img class="post-qr-code-img" src="/img/wechat.webp" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.webp" target="_blank"><img class="post-qr-code-img" src="/img/alipay.webp" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></button></div><audio id="coinAudio" src="https://cdn.cbd.int/akilar-candyassets@1.0.36/audio/aowu.m4a"></audio><script defer="defer" src="/js/coin/coin.js"></script><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/66f478ae.html" title="typecho"><img class="cover" src="/bg/Image00009.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">typecho</div></div><div class="info-2"><div class="info-item-1">Typecho 使用指南[TOC] Typecho 是一个简单，轻巧的博客程序。基于PHP，使用多种数据库储存数据。 Typecho 回归记离开博客一年多了，离开 Typecho 更是有两年多，有些怀念。就像它的宣传语一样，“念念不忘，必有回响”。近日我看到 Coding Pages 部署 Typecho 十分简单，于是重新开了我的博客。安装并测试完以后，我发现了一个意外的好消息：之前最让我苦恼的 MathJax 公式的一些小问题在 Typecho 的1.1新版本终于得到解决，现在再也没有转义数学公式的bug（比如连续的下划线、大括号等等）。 之前由于LaTeX数学公式和Markdown转义符号书写的冲突，每次本地(使用Typora)将文章写好之后, 转到博客都需要添加转义符号以适应它们两者之间的冲突. 这让我一直都很苦恼. 如今最新的 Typecho 1.1正式版使用更新的 Hyperdown Markdown引擎解决了这个Bug，让我可以安心回归博客. 这也是我现在不用 Hexo, Hugo 等静态博客的原因 今天找到了Typecho更新的内容, Typecho 使用新的 H...</div></div></div></a><a class="pagination-related" href="/posts/14950a1d.html" title="halo快速部署个人博客"><img class="cover" src="/bg/Image00003.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">halo快速部署个人博客</div></div><div class="info-2"><div class="info-item-1">2023.10.27日搭建 halo快速部署个人博客技术方案docker+docker-compose+nginx+mysql halo简介Halo是一款现代化的开源博客/CMS系统，所有代码开源在GitHub上且处于积极维护状态。它是基于 Java Spring Boot 构建的，易于部署，支持REST API、模板系统、附件系统和评论系统等功能。 Halo 作为一款好用又强大的开源建站工具，配合上不同的模板与插件，可以很好地帮助你构建你心中的理想站点。它可以是你公司的官方网站，可以是你的个人博客，也可以是团队共享的知识库，甚至可以是一个论坛、一个商城。 相关地址开源仓库halo-dev/halo: 强大易用的开源建站工具。 (github.com) halo: 强大易用的开源建站工具。 (gitee.com) 中文文档Halo 文档 社区Halo 社区 官网Halo 建站 - 强大易用的开源建站工具 主题仓库应用市场 - Halo 建站 - 强大易用的开源建站工具 基础设置关闭防火墙（docker启动之前关闭） 12systemctl status firewalldsyst...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/669bbc36.html" title="docker部署typecho博客系统"><img class="cover" src="/bg/Image00002.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-09</div><div class="info-item-2">docker部署typecho博客系统</div></div><div class="info-2"><div class="info-item-1">docker部署typecho博客系统下载镜像1docker pull 80x86/typecho 实例化容器1docker run -d --name=typecho-blog --restart always -e PHP_TZ=Asia/Shanghai -e PHP_MAX_EXECUTION_TIME=600 -p 80:80 80x86/typecho:latest 安装 mysql服务alpine系统中安装mysql实际是开源的MariaDB，MariaDB数据库是MySQL的一个分支/衍生版，完全兼容MySQL，并在扩展功能、存储引擎以及一些新的功能改进方面都强过MySQL，安装参考 进入容器1docker exec -ti typecho-blog sh 从当前文件夹拷贝文件夹到容器文件夹下1docker cp pinghsu typecho-blog:/data/themes安装服务 123456789# 安装数据库及客户端$ apk add mysql mysql-client# 初始化数据库$ mysql_install_db --user=mysql -...</div></div></div></a><a class="pagination-related" href="/posts/66f478ae.html" title="typecho"><img class="cover" src="/bg/Image00009.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-09</div><div class="info-item-2">typecho</div></div><div class="info-2"><div class="info-item-1">Typecho 使用指南[TOC] Typecho 是一个简单，轻巧的博客程序。基于PHP，使用多种数据库储存数据。 Typecho 回归记离开博客一年多了，离开 Typecho 更是有两年多，有些怀念。就像它的宣传语一样，“念念不忘，必有回响”。近日我看到 Coding Pages 部署 Typecho 十分简单，于是重新开了我的博客。安装并测试完以后，我发现了一个意外的好消息：之前最让我苦恼的 MathJax 公式的一些小问题在 Typecho 的1.1新版本终于得到解决，现在再也没有转义数学公式的bug（比如连续的下划线、大括号等等）。 之前由于LaTeX数学公式和Markdown转义符号书写的冲突，每次本地(使用Typora)将文章写好之后, 转到博客都需要添加转义符号以适应它们两者之间的冲突. 这让我一直都很苦恼. 如今最新的 Typecho 1.1正式版使用更新的 Hyperdown Markdown引擎解决了这个Bug，让我可以安心回归博客. 这也是我现在不用 Hexo, Hugo 等静态博客的原因 今天找到了Typecho更新的内容, Typecho 使用新的 H...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">蓝桉</div><div class="author-info-description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">这有关于<b style="color:#fff">生活、学习、技术</b>相关的问题和看法，还有<b style="color:#fff">文章教程</b>和<b style="color:#fff">分享</b>。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">相信你可以在这里找到对你有用的<b style="color:#fff">知识</b>和<b style="color:#fff">教程</b>。</div></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">264</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">38</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">37</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/ktzxy"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon faa-parent animated-hover" href="https://github.com/ktzxy" target="_blank" title="Github"><svg class="social_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-github"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=2251511764@qq.com" target="_blank" title="Email"><svg class="social_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-youxiang"></use></svg></a><a class="social-icon faa-parent animated-hover" href="/atom.xml" target="_blank" title="RSS"><svg class="social_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-RSS"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/496148176" target="_blank" title="BiliBili"><svg class="social_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-QX-BILIBILI"></use></svg></a><a class="social-icon faa-parent animated-hover" href="tencent://Message/?Uin=2251511764&amp;amp;websiteName=local.edu.com:8888=&amp;amp;Menu=yes" target="_blank" title="QQ"><svg class="social_icon faa-tada" aria-hidden="true"><use xlink:href="#icon-QQ"></use></svg></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#hexo-%E5%8D%9A%E5%AE%A2%E5%AE%8C%E6%95%B4%E9%83%A8%E7%BD%B2%E4%BB%A5%E5%8F%8A%E9%AD%94%E6%94%B9%E8%AE%B0%E5%BD%95"><span class="toc-number">1.</span> <span class="toc-text">hexo 博客完整部署以及魔改记录</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E6%9C%9F%E5%9F%BA%E7%A1%80%E9%83%A8%E7%BD%B2"><span class="toc-number">2.</span> <span class="toc-text">前期基础部署</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85git"><span class="toc-number">2.1.</span> <span class="toc-text">1.下载安装git</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85node-js"><span class="toc-number">2.2.</span> <span class="toc-text">2.下载安装node.js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%AE%89%E8%A3%85hexo%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6"><span class="toc-number">2.3.</span> <span class="toc-text">3.安装hexo博客框架</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%B3%A8%E5%86%8CGitHub%E8%B4%A6%E5%8F%B7"><span class="toc-number">2.4.</span> <span class="toc-text">4.注册GitHub账号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E4%B8%8A%E4%BC%A0%E5%8D%9A%E5%AE%A2%E5%88%B0github"><span class="toc-number">2.5.</span> <span class="toc-text">5.上传博客到github</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%88%9D%E5%A7%8B%E5%8C%96hexo%E9%A1%B9%E7%9B%AE"><span class="toc-number">2.6.</span> <span class="toc-text">6.初始化hexo项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E5%B0%86%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E6%8C%82%E8%BD%BD%E5%88%B0GitHub-Pages"><span class="toc-number">2.7.</span> <span class="toc-text">7.将静态博客挂载到GitHub Pages</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Github-Action-%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2"><span class="toc-number">3.</span> <span class="toc-text">Github Action 实现自动化部署</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99"><span class="toc-number">4.</span> <span class="toc-text">静态页面托管网站</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Netlify%E9%83%A8%E7%BD%B2"><span class="toc-number">4.1.</span> <span class="toc-text">Netlify部署</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E4%B8%BB%E9%A2%98"><span class="toc-number">4.2.</span> <span class="toc-text">安装主题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E4%B8%BB%E9%A2%98"><span class="toc-number">4.3.</span> <span class="toc-text">应用主题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95%E8%AF%B4%E6%98%8E"><span class="toc-number">4.4.</span> <span class="toc-text">基础用法说明</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Front-matter"><span class="toc-number">4.4.1.</span> <span class="toc-text">Front-matter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E9%A1%B5"><span class="toc-number">4.4.2.</span> <span class="toc-text">标签页</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5"><span class="toc-number">4.4.3.</span> <span class="toc-text">友情链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BA%93-undo"><span class="toc-number">4.4.4.</span> <span class="toc-text">图库 undo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E9%A1%B5%E9%9D%A2-undo"><span class="toc-number">4.4.5.</span> <span class="toc-text">子页面 undo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#404%E9%A1%B5%E9%9D%A2"><span class="toc-number">4.4.6.</span> <span class="toc-text">404页面</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#hexo-%E5%8D%9A%E5%AE%A2%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE"><span class="toc-number">5.</span> <span class="toc-text">hexo 博客基础配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E8%A8%80"><span class="toc-number">5.1.</span> <span class="toc-text">语言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E8%B5%84%E6%96%99"><span class="toc-number">5.2.</span> <span class="toc-text">网站资料</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E8%8F%9C%E5%8D%95"><span class="toc-number">5.3.</span> <span class="toc-text">导航菜单</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81"><span class="toc-number">5.4.</span> <span class="toc-text">代码</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE%E4%B8%BB%E9%A2%98"><span class="toc-number">5.4.1.</span> <span class="toc-text">代码高亮主题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%A4%8D%E5%88%B6"><span class="toc-number">5.4.2.</span> <span class="toc-text">代码复制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%A1%86%E5%B1%95%E5%BC%80-%E5%85%B3%E9%97%AD"><span class="toc-number">5.4.3.</span> <span class="toc-text">代码框展开&#x2F;关闭</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%8D%A2%E8%A1%8C"><span class="toc-number">5.4.4.</span> <span class="toc-text">代码换行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E9%AB%98%E5%BA%A6%E9%99%90%E5%88%B6"><span class="toc-number">5.4.5.</span> <span class="toc-text">代码高度限制</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BE%E4%BA%A4%E5%9B%BE%E6%A0%87"><span class="toc-number">5.5.</span> <span class="toc-text">社交图标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B6%E9%83%A8%E5%9B%BE"><span class="toc-number">5.6.</span> <span class="toc-text">顶部图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%BD%AE%E9%A1%B6%E4%B8%8E%E5%B0%81%E9%9D%A2"><span class="toc-number">5.7.</span> <span class="toc-text">文章置顶与封面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E9%A1%B5%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE"><span class="toc-number">5.8.</span> <span class="toc-text">文章页相关配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0meta%E6%98%BE%E7%A4%BA"><span class="toc-number">5.8.1.</span> <span class="toc-text">文章meta显示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%89%88%E6%9D%83%E5%92%8C%E5%8D%8F%E8%AE%AE%E8%AE%B8%E5%8F%AF"><span class="toc-number">5.8.2.</span> <span class="toc-text">文章版权和协议许可</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E6%89%93%E8%B5%8F"><span class="toc-number">5.8.3.</span> <span class="toc-text">文章打赏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95TOC"><span class="toc-number">5.8.4.</span> <span class="toc-text">文章目录TOC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E6%96%87%E7%AB%A0%E6%8E%A8%E8%8D%90"><span class="toc-number">5.8.5.</span> <span class="toc-text">相关文章推荐</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E9%94%9A%E7%82%B9"><span class="toc-number">5.8.6.</span> <span class="toc-text">文章锚点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E8%BF%87%E6%9C%9F%E6%8F%90%E9%86%92"><span class="toc-number">5.8.7.</span> <span class="toc-text">文章过期提醒</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%88%86%E9%A1%B5%E6%8C%89%E9%92%AE"><span class="toc-number">5.8.8.</span> <span class="toc-text">文章分页按钮</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%B4%E5%83%8F"><span class="toc-number">5.9.</span> <span class="toc-text">头像</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%86%85%E5%AE%B9%E5%A4%8D%E5%88%B6%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE"><span class="toc-number">5.10.</span> <span class="toc-text">文章内容复制相关配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Footer-%E8%AE%BE%E7%BD%AE"><span class="toc-number">5.11.</span> <span class="toc-text">Footer 设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%B3%E4%B8%8B%E8%A7%92%E6%8C%89%E9%92%AE"><span class="toc-number">5.12.</span> <span class="toc-text">右下角按钮</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E7%B9%81%E8%BD%AC%E6%8D%A2"><span class="toc-number">5.12.1.</span> <span class="toc-text">简繁转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9C%E9%97%B4%E6%A8%A1%E5%BC%8F"><span class="toc-number">5.12.2.</span> <span class="toc-text">夜间模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%85%E8%AF%BB%E6%A8%A1%E5%BC%8F"><span class="toc-number">5.12.3.</span> <span class="toc-text">阅读模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%A7%E8%BE%B9%E6%A0%8F%E8%AE%BE%E7%BD%AE"><span class="toc-number">5.13.</span> <span class="toc-text">侧边栏设置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%92%E7%89%88"><span class="toc-number">5.13.1.</span> <span class="toc-text">排版</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E4%BA%BA%E6%95%B0-UV-%E5%92%8C-PV"><span class="toc-number">5.13.2.</span> <span class="toc-text">访问人数(UV 和 PV)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%97%B6%E9%97%B4"><span class="toc-number">5.13.3.</span> <span class="toc-text">运行时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E6%96%B0%E8%AF%84%E8%AE%BA"><span class="toc-number">5.13.4.</span> <span class="toc-text">最新评论%</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E8%83%8C%E6%99%AF"><span class="toc-number">5.14.</span> <span class="toc-text">网站背景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%AD%97%E6%95%88%E6%9E%9C"><span class="toc-number">5.15.</span> <span class="toc-text">打字效果 %</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#footer-%E8%83%8C%E6%99%AF"><span class="toc-number">5.16.</span> <span class="toc-text">footer 背景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%8C%E6%99%AF%E7%89%B9%E6%95%88"><span class="toc-number">5.17.</span> <span class="toc-text">背景特效</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E6%95%88%E6%9E%9C"><span class="toc-number">5.18.</span> <span class="toc-text">鼠标点击效果</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%83%9F%E8%8A%B1"><span class="toc-number">5.18.1.</span> <span class="toc-text">烟花</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B1%E5%BF%83"><span class="toc-number">5.18.2.</span> <span class="toc-text">爱心</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93%E5%92%8C%E5%AD%97%E4%BD%93%E5%A4%A7%E5%B0%8F"><span class="toc-number">5.19.</span> <span class="toc-text">自定义字体和字体大小</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%AD%97%E4%BD%93"><span class="toc-number">5.19.1.</span> <span class="toc-text">全局字体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Blog-%E6%A0%87%E9%A2%98%E5%AD%97%E4%BD%93"><span class="toc-number">5.19.2.</span> <span class="toc-text">Blog 标题字体</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E5%89%AF%E6%A0%87%E9%A2%98"><span class="toc-number">5.20.</span> <span class="toc-text">网站副标题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E5%8A%A8%E7%94%BBpreloader"><span class="toc-number">5.21.</span> <span class="toc-text">页面加载动画preloader</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1"><span class="toc-number">5.22.</span> <span class="toc-text">字数统计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E5%A4%A7%E5%9B%BE%E6%9F%A5%E7%9C%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">5.23.</span> <span class="toc-text">图片大图查看模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pjax"><span class="toc-number">5.24.</span> <span class="toc-text">Pjax%</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Inject"><span class="toc-number">5.25.</span> <span class="toc-text">Inject</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#hexo%E9%AD%94%E6%94%B9"><span class="toc-number">6.</span> <span class="toc-text">hexo魔改</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E7%AB%A0%E9%93%BE%E6%8E%A5%E8%BD%AC%E6%95%B0%E5%AD%97%E6%88%96%E5%AD%97%E6%AF%8D"><span class="toc-number">6.1.</span> <span class="toc-text">配置文章链接转数字或字母</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2%E7%B3%BB%E7%BB%9F"><span class="toc-number">6.2.</span> <span class="toc-text">本地搜索系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%99%BE%E5%BA%A6%E4%B8%BB%E5%8A%A8%E6%8E%A8%E9%80%81-undo"><span class="toc-number">6.3.</span> <span class="toc-text">百度主动推送 undo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Live2D%E6%95%99%E7%A8%8B%EF%BC%88%E5%BA%97%E9%95%BF%EF%BC%89"><span class="toc-number">6.4.</span> <span class="toc-text">Live2D教程（店长）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">6.4.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%8D%A2"><span class="toc-number">6.4.2.</span> <span class="toc-text">更换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%B8%E8%BD%BD%E7%9C%8B%E6%9D%BF%E5%A8%98"><span class="toc-number">6.4.3.</span> <span class="toc-text">卸载看板娘</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sitemap"><span class="toc-number">6.5.</span> <span class="toc-text">sitemap</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Rss"><span class="toc-number">6.6.</span> <span class="toc-text">Rss</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%BD%E7%95%AA%E6%8F%92%E4%BB%B6%EF%BC%88vmid%E6%9C%AA%E8%AE%BE%E7%BD%AE%EF%BC%89undo"><span class="toc-number">6.7.</span> <span class="toc-text">*追番插件（vmid未设置）undo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#aplayer%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8"><span class="toc-number">6.8.</span> <span class="toc-text">aplayer音乐播放器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pwa%E9%85%8D%E7%BD%AE-undo-%E6%9C%89%E9%97%AE%E9%A2%98"><span class="toc-number">6.9.</span> <span class="toc-text">pwa配置 undo 有问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%95%99%E8%A8%80%E6%9D%BF%EF%BC%9A%E8%96%87%E5%B0%94%E8%8E%89%E7%89%B9%E4%BF%A1%E5%B0%81"><span class="toc-number">6.10.</span> <span class="toc-text">留言板：薇尔莉特信封</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#wowjs%E5%8A%A8%E7%94%BB"><span class="toc-number">6.11.</span> <span class="toc-text">wowjs动画</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89css%EF%BC%8C%E4%B8%80%E5%9B%BE%E6%B5%81"><span class="toc-number">6.12.</span> <span class="toc-text">配置自定义css，一图流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B5%E8%84%9AGithub%E5%BE%BD%E6%A0%87%EF%BC%88%E5%BA%97%E9%95%BF%EF%BC%89"><span class="toc-number">6.13.</span> <span class="toc-text">页脚Github徽标（店长）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A6%96%E9%A1%B5%E5%88%86%E7%B1%BB%E7%A3%81%E8%B4%B4%E6%96%B0%E7%89%88-%E5%BA%97%E9%95%BF-kill"><span class="toc-number">6.14.</span> <span class="toc-text">*首页分类磁贴新版(店长)kill</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A6%96%E9%A1%B5%E5%88%86%E7%B1%BB%E7%A3%81%E8%B4%B41-0%EF%BC%88%E5%B0%8F%E5%86%B0%EF%BC%89"><span class="toc-number">6.15.</span> <span class="toc-text">*首页分类磁贴1.0（小冰）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%BD%AE%E9%A1%B6%E6%BB%9A%E5%8A%A8%E6%A0%8F-%E5%BA%97%E9%95%BF"><span class="toc-number">6.16.</span> <span class="toc-text">*文章置顶滚动栏(店长)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93"><span class="toc-number">6.17.</span> <span class="toc-text">*自定义字体</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%8F%8C%E4%BE%A7%E6%A0%8F%E6%98%BE%E7%A4%BA-%E5%B0%8F%E5%86%B0"><span class="toc-number">6.18.</span> <span class="toc-text">文章双侧栏显示(小冰)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GitCalendar-%E5%BA%97%E9%95%BF"><span class="toc-number">6.19.</span> <span class="toc-text">*GitCalendar(店长)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-1"><span class="toc-number">6.19.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%82%E8%BD%BD%E5%AE%B9%E5%99%A8"><span class="toc-number">6.19.2.</span> <span class="toc-text">自定义挂载容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%BB%BAAPI%E9%83%A8%E7%BD%B2"><span class="toc-number">6.19.3.</span> <span class="toc-text">自建API部署</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E6%A0%8F%E9%AD%94%E6%94%B9"><span class="toc-number">6.20.</span> <span class="toc-text">*导航栏魔改</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%91%E5%A4%9C%E9%9C%93%E8%99%B9%E7%81%AF1-0%EF%BC%88js%E8%AE%A1%E6%97%B6%E5%99%A8%E5%AE%9E%E7%8E%B0%EF%BC%89"><span class="toc-number">6.21.</span> <span class="toc-text">*黑夜霓虹灯1.0（js计时器实现）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%9F%E7%A9%BA%E8%83%8C%E6%99%AF%E5%92%8C%E6%B5%81%E6%98%9F%E7%89%B9%E6%95%88"><span class="toc-number">6.22.</span> <span class="toc-text">*星空背景和流星特效</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%A7%E8%BE%B9%E6%A0%8F%E7%94%B5%E5%AD%90%E6%97%B6%E9%92%9F-%E5%AE%89%E7%9F%A5%E9%B1%BC"><span class="toc-number">6.23.</span> <span class="toc-text">侧边栏电子时钟(安知鱼)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AA%E4%BA%BA%E5%8D%A1%E7%89%87%E6%B8%90%E5%8F%98%E8%89%B2"><span class="toc-number">6.24.</span> <span class="toc-text">个人卡片渐变色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%96%E6%8C%82%E6%A0%87%E7%AD%BE%E7%9A%84%E5%BC%95%E5%85%A5%EF%BC%88%E5%BA%97%E9%95%BF%EF%BC%89"><span class="toc-number">6.25.</span> <span class="toc-text">外挂标签的引入（店长）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%AC%E8%AF%9D%E7%9A%84%E9%BC%A0%E6%A0%87%E9%AD%94%E6%94%B9"><span class="toc-number">6.26.</span> <span class="toc-text">*听话的鼠标魔改</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E6%A0%B7%E5%BC%8F%E8%B0%83%E8%8A%82"><span class="toc-number">6.27.</span> <span class="toc-text">*页面样式调节</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E5%85%A5iconfont%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E6%A0%87%EF%BC%88%E5%BA%97%E9%95%BF%EF%BC%89"><span class="toc-number">6.28.</span> <span class="toc-text">引入iconfont自定义图标（店长）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%BB%BA%E5%9B%BE%E6%A0%87%E9%A1%B9%E7%9B%AE"><span class="toc-number">6.28.1.</span> <span class="toc-text">新建图标项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%9B%BE%E6%A0%87"><span class="toc-number">6.28.2.</span> <span class="toc-text">引入图标</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8F%9C%E5%8D%95%E6%A0%8F%E5%A4%9A%E8%89%B2%E5%8A%A8%E6%80%81%E5%9B%BE%E6%A0%87%EF%BC%88%E5%BA%97%E9%95%BF%EF%BC%89"><span class="toc-number">6.29.</span> <span class="toc-text">菜单栏多色动态图标（店长）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Social%E5%8D%A1%E7%89%87%E5%BD%A9%E8%89%B2%E5%9B%BE%E6%A0%87%E5%BC%95%E5%85%A5%EF%BC%88%E5%BA%97%E9%95%BF%EF%BC%89"><span class="toc-number">6.30.</span> <span class="toc-text">Social卡片彩色图标引入（店长）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%A7%E8%BE%B9%E6%A0%8F%E5%9B%BE%E6%A0%87%E5%92%8C%E6%96%87%E5%AD%97%E8%87%AA%E5%AE%9A%E4%B9%89"><span class="toc-number">6.31.</span> <span class="toc-text">*侧边栏图标和文字自定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%90%E5%8F%98%E8%89%B2%E7%89%88%E6%9D%83%E7%BE%8E%E5%8C%96%EF%BC%88%E5%BA%97%E9%95%BF-%E5%BE%AE%E8%B0%83%EF%BC%89"><span class="toc-number">6.32.</span> <span class="toc-text">*渐变色版权美化（店长+微调）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B6%E9%83%A8%E6%B8%90%E5%8F%98%E6%9D%A1%E8%89%B2%E5%8A%A0%E8%BD%BD%E6%9D%A1"><span class="toc-number">6.33.</span> <span class="toc-text">顶部渐变条色加载条</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bilibili%E8%A7%86%E9%A2%91%E9%80%82%E9%85%8D"><span class="toc-number">6.34.</span> <span class="toc-text">*Bilibili视频适配%</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E9%A1%B5%E5%B1%80%E9%83%A8-html-%E4%BB%A3%E7%A0%81%E4%B8%8D%E6%B8%B2%E6%9F%93"><span class="toc-number">6.35.</span> <span class="toc-text">*文章页局部 html 代码不渲染</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0H1-H6%E6%A0%87%E9%A2%98%E5%B0%8F%E9%A3%8E%E8%BD%A6%E8%BD%AC%E5%8A%A8%E6%95%88%E6%9E%9C"><span class="toc-number">6.36.</span> <span class="toc-text">文章H1~H6标题小风车转动效果</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%82%E7%BB%B3%E5%B0%8F%E7%8C%AB%E5%92%AA-tzy%E5%A4%A7%E4%BD%AC"><span class="toc-number">6.37.</span> <span class="toc-text">挂绳小猫咪(tzy大佬)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E8%B5%8F%E6%8C%89%E9%92%AE%E6%8A%95%E5%B8%81%E5%BD%A9%E8%9B%8B%E6%95%88%E6%9E%9C"><span class="toc-number">6.38.</span> <span class="toc-text">打赏按钮投币彩蛋效果</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#404-%E9%A1%B5%E9%9D%A2%E5%B1%95%E7%A4%BA%E6%9C%80%E8%BF%91%E6%96%87%E7%AB%A0"><span class="toc-number">6.39.</span> <span class="toc-text">404 页面展示最近文章</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E4%BA%91%E5%A2%9E%E5%8A%A0%E6%96%87%E7%AB%A0%E6%95%B0%E4%B8%8A%E4%B8%8B%E6%A0%87"><span class="toc-number">6.40.</span> <span class="toc-text">标签云增加文章数上下标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95-kill"><span class="toc-number">6.41.</span> <span class="toc-text">*自定义右键菜单 %kill</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%BB%9F%E8%AE%A1%E5%9B%BE"><span class="toc-number">6.42.</span> <span class="toc-text">文章统计图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%B3%E5%88%BB%E7%9F%AD%E6%96%87"><span class="toc-number">6.43.</span> <span class="toc-text">*即刻短文</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%A7%E8%BE%B9%E6%A0%8F%E6%A0%87%E7%AD%BE%E4%BF%AE%E6%94%B9"><span class="toc-number">6.44.</span> <span class="toc-text">*侧边栏标签修改</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%A7%E8%BE%B9%E6%A0%8F%E5%BD%92%E6%A1%A3%E4%BF%AE%E6%94%B9"><span class="toc-number">6.45.</span> <span class="toc-text">*侧边栏归档修改</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%A7%E8%BE%B9%E6%A0%8F%E6%9C%80%E8%BF%91%E6%96%87%E7%AB%A0%E4%BF%AE%E6%94%B9"><span class="toc-number">6.46.</span> <span class="toc-text">*侧边栏最近文章修改</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE"><span class="toc-number">7.</span> <span class="toc-text">页面配置</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9F%B3%E4%B9%90%E9%A6%86"><span class="toc-number">8.</span> <span class="toc-text">音乐馆</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2"><span class="toc-number">9.</span> <span class="toc-text">自动部署</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#hexo%E5%9B%BE%E5%BA%8A%E5%A4%84%E7%90%86"><span class="toc-number">10.</span> <span class="toc-text">hexo图床处理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#github-faster"><span class="toc-number">11.</span> <span class="toc-text">github faster</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AF%84%E8%AE%BA"><span class="toc-number">12.</span> <span class="toc-text">评论</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%82%AC%E6%8C%82%E7%81%AF%E7%AC%BC"><span class="toc-number">13.</span> <span class="toc-text">悬挂灯笼</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E8%81%8A%E5%A4%A9"><span class="toc-number">14.</span> <span class="toc-text">在线聊天</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%8A%82%E6%97%A5%E5%BC%B9%E7%AA%97%E5%92%8C%E5%85%AC%E7%A5%AD%E6%97%A5"><span class="toc-number">15.</span> <span class="toc-text">节日弹窗和公祭日</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%8A%A0%E5%AF%86%E6%8F%92%E4%BB%B6"><span class="toc-number">16.</span> <span class="toc-text">文章加密插件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#hexo-%E6%95%99%E7%A8%8B"><span class="toc-number">17.</span> <span class="toc-text">hexo 教程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">18.</span> <span class="toc-text">参考</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%84%E8%AE%BA-1"><span class="toc-number">18.1.</span> <span class="toc-text">评论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2"><span class="toc-number">18.2.</span> <span class="toc-text">部署</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Obisidian%E7%BB%93%E5%90%88"><span class="toc-number">18.3.</span> <span class="toc-text">Obisidian结合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E9%9B%80%E7%BB%93%E5%90%88"><span class="toc-number">18.4.</span> <span class="toc-text">语雀结合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E5%BA%8A"><span class="toc-number">18.5.</span> <span class="toc-text">图床</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git"><span class="toc-number">18.6.</span> <span class="toc-text">git</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2"><span class="toc-number">19.</span> <span class="toc-text">参考 服务器部署</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96"><span class="toc-number">19.1.</span> <span class="toc-text">安装依赖</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85PCRE%E5%BA%93"><span class="toc-number">19.2.</span> <span class="toc-text">安装PCRE库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85nginx"><span class="toc-number">19.3.</span> <span class="toc-text">安装nginx</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">19.4.</span> <span class="toc-text">常用命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Git%E4%BB%A5%E5%8F%8ANode-js"><span class="toc-number">19.5.</span> <span class="toc-text">安装Git以及Node.js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F"><span class="toc-number">19.6.</span> <span class="toc-text">查看是否成功</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Git%E5%8F%8A%E9%85%8D%E7%BD%AE%E4%BB%93%E5%BA%93"><span class="toc-number">19.7.</span> <span class="toc-text">安装Git及配置仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E4%BB%A5%E4%B8%8B%E6%8C%87%E4%BB%A4%E6%9B%B4%E6%94%B9%E6%96%87%E4%BB%B6%E5%A4%B9%E6%9D%83%E9%99%90"><span class="toc-number">19.8.</span> <span class="toc-text">执行以下指令更改文件夹权限</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E6%8D%A2git%E7%94%A8%E6%88%B7%E5%B9%B6%E4%B8%94%E5%BB%BA%E7%AB%8B%E5%AF%86%E9%92%A5"><span class="toc-number">19.9.</span> <span class="toc-text">切换git用户并且建立密钥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAgit%E4%BB%93%E5%BA%93"><span class="toc-number">19.10.</span> <span class="toc-text">创建git仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">19.11.</span> <span class="toc-text">上传到服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%99%E5%85%A5%E5%90%AF%E5%8A%A8%E8%84%9A%E6%9C%AC"><span class="toc-number">19.12.</span> <span class="toc-text">写入启动脚本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E9%9B%86%E9%94%A6"><span class="toc-number">19.13.</span> <span class="toc-text">错误集锦</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83-%E5%9B%BE%E5%BA%8A%E9%83%A8%E7%BD%B2-%E5%BC%83%E7%94%A8"><span class="toc-number">20.</span> <span class="toc-text">参考 图床部署 弃用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">20.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-number">20.2.</span> <span class="toc-text">环境搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%BF%E9%87%8C%E4%BA%91%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F"><span class="toc-number">20.2.1.</span> <span class="toc-text">阿里云镜像加速</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%BC%80%E6%9C%BA%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8"><span class="toc-number">20.2.2.</span> <span class="toc-text">设置开机自动启动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Bdocker%E6%9C%8D%E5%8A%A1%E7%8A%B6%E6%80%81"><span class="toc-number">20.2.3.</span> <span class="toc-text">查看docker服务状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Bdocker%E5%85%B7%E4%BD%93%E4%BF%A1%E6%81%AF"><span class="toc-number">20.2.4.</span> <span class="toc-text">查看docker具体信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker-compose"><span class="toc-number">20.3.</span> <span class="toc-text">docker-compose</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8"><span class="toc-number">20.3.0.1.</span> <span class="toc-text">创建容器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%AE%89%E8%A3%85"><span class="toc-number">20.3.1.</span> <span class="toc-text">初始化安装</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/a318ca1f.html" title="MySQL数据库150道高频面试题"><img src="/bg/Image00018.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL数据库150道高频面试题"/></a><div class="content"><a class="title" href="/posts/a318ca1f.html" title="MySQL数据库150道高频面试题">MySQL数据库150道高频面试题</a><time datetime="2025-07-09T17:28:46.000Z" title="发表于 2025-07-09 17:28:46">2025-07-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/8f9b37aa.html" title="技术同学必会的MySQL设计规约"><img src="/bg/Image00014.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="技术同学必会的MySQL设计规约"/></a><div class="content"><a class="title" href="/posts/8f9b37aa.html" title="技术同学必会的MySQL设计规约">技术同学必会的MySQL设计规约</a><time datetime="2025-07-09T17:28:46.000Z" title="发表于 2025-07-09 17:28:46">2025-07-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/dfdfdf4.html" title="数据库概述"><img src="/bg/Image00002.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据库概述"/></a><div class="content"><a class="title" href="/posts/dfdfdf4.html" title="数据库概述">数据库概述</a><time datetime="2025-07-09T17:28:46.000Z" title="发表于 2025-07-09 17:28:46">2025-07-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/490575ab.html" title="24工厂模式俗话解释"><img src="/bg/Image00024.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="24工厂模式俗话解释"/></a><div class="content"><a class="title" href="/posts/490575ab.html" title="24工厂模式俗话解释">24工厂模式俗话解释</a><time datetime="2025-07-09T17:28:46.000Z" title="发表于 2025-07-09 17:28:46">2025-07-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/364ea8cc.html" title="设计模式"><img src="/bg/Image00014.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式"/></a><div class="content"><a class="title" href="/posts/364ea8cc.html" title="设计模式">设计模式</a><time datetime="2025-07-09T17:28:46.000Z" title="发表于 2025-07-09 17:28:46">2025-07-09</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;2020 - 2025 By 蓝桉</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.2</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="8152976493" data-server="netease" data-type="playlist"   data-order="list" data-fixed="true" data-preload="auto" data-autoplay="false" data-mutex="true" ></div><script async src="//at.alicdn.com/t/c/font_4379924_273fk05h86zi.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css"  media="defer" onload="this.media='all'"><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/js/cat/cat.js"></script><script async data-pjax src="/js/meting/music_lanan.min.js"></script><script defer type="text/javascript" src="https://cdn1.tianli0.top/npm/sweetalert2@8.19.0/dist/sweetalert2.all.js"></script><script defer src="/js/day/lunar.js"></script><script defer src="/js/day/day.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var qweather_key = '10a7db1c41b6489db9c830c668a18304';
  var gaud_map_key = '82a64bc994fb6494830f157f319f9f69';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '113.34532,23.15624';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title=""><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v4.2.2" title=""><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://www.jsdelivr.com/" style="margin-inline:5px" data-title="本站使用JsDelivr为静态资源提供CDN加速" title=""><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/runtime/runtime.min.js"></script><script async src="/js/font/ali_font_all.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '1.5s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('flink-list-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__flipInY');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('flink-list-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__animated');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('article-sort-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__slideInRight');
    arr[i].setAttribute('data-wow-duration', '1.5s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('site-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__flipInY');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('site-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__animated');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow_init.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false});</script></body></html>